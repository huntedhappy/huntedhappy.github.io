<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>TAP - Tag - Dokyung&#39;s DevOoOps</title>
        <link>https://huntedhappy.github.io/ko/tags/tap/</link>
        <description>TAP - Tag - Dokyung&#39;s DevOoOps</description>
        <generator>Hugo -- gohugo.io</generator><language>ko</language><managingEditor>huntedhappy@gmail.com (Dokyung)</managingEditor>
            <webMaster>huntedhappy@gmail.com (Dokyung)</webMaster><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Fri, 24 Mar 2023 20:51:50 &#43;0900</lastBuildDate><atom:link href="https://huntedhappy.github.io/ko/tags/tap/" rel="self" type="application/rss+xml" /><item>
    <title>The Dcoumentation TMC</title>
    <link>https://huntedhappy.github.io/ko/tmc/</link>
    <pubDate>Fri, 24 Mar 2023 20:51:50 &#43;0900</pubDate>
    <author>Author</author>
    <guid>https://huntedhappy.github.io/ko/tmc/</guid>
    <description><![CDATA[<h2 id="1-tanzu-portfolio">1. TANZU Portfolio</h2>
<p>RUN &amp; BUILD &amp; MANAGE &amp; LABS로 구성되어 있습니다. RUN의 경우는 멀티 클라우드에서 컨테이너 환경을 제공을 하며 BUILD의 경우 CI/CD 그리고 TAC (골든 이미지) 그리고 saas 형태로 제공하는 manage로 TMC (멀티 클러스터 관리), TSM (서비스 메쉬), TO (모니터링) 그리고 마지막으로 컨테이너를 잘 사용 할 수 있게 App Modernization을 도와주는 LABS 로 구성이 되어 있습니다.</p>
<blockquote>
<p>아래 영상은 MANAGE 역할을 하는 TMC, TSM, TO의 대한 설명및 데모를 보여주고 있으므로 해당 솔루션의 대한 정보를 확인 할 수 있습니다.</p>
</blockquote>
<iframe width="1280" height="720" src="https://www.youtube.com/embed/1divUkYb_tU" title="오픈베이스 x VMware 두 번째 Tanzu 시리즈 &quot;모두의 TANZU&quot;" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<p>위의 영상이 도움이 되었으면 좋겠습니다.</p>
]]></description>
</item><item>
    <title>The Documentation TANZU CUSTOM IMAGE</title>
    <link>https://huntedhappy.github.io/ko/tanzu-custom-image/</link>
    <pubDate>Wed, 01 Mar 2023 11:10:02 &#43;0900</pubDate>
    <author>Author</author>
    <guid>https://huntedhappy.github.io/ko/tanzu-custom-image/</guid>
    <description><![CDATA[<h2 id="1-tanzu-custom-image">1. Tanzu Custom Image</h2>
<p>VMware에서 기본적으로 제공하는 이미지외에 별도로 Custom Image를 구성 할 수 있다.</p>
<p>호환되는 OS버전은 아래와 같다.
<figure><figcaption>
            <h4>지원 하는 OS Version</h4>
        </figcaption>
</figure>
</p>
<p>1.6 버전 Custom Image 생성 <a href="https://docs.vmware.com/en/VMware-Tanzu-Kubernetes-Grid/1.6/vmware-tanzu-kubernetes-grid-16/GUID-build-images-linux.html" target="_blank" rel="noopener noreffer"><i class="fas fa-link"></i> 1.6 Custom-Image </a></p>
<p>2.1 버전 Custom Image 생성 <a href="https://docs.vmware.com/en/VMware-Tanzu-Kubernetes-Grid/2.1/tkg-deploy-mc-21/mgmt-byoi-linux.html#linux-tkr" target="_blank" rel="noopener noreffer"><i class="fas fa-link"></i> 2.1 Custom-Image </a></p>
<p>TANZU 버전별 Sample Download <a href="https://developer.vmware.com/samples" target="_blank" rel="noopener noreffer"><i class="fas fa-link"></i> Sample Downloads </a></p>
<blockquote>
<p>사전에 도커가 설치 되어 있어야 함</p>
</blockquote>
<blockquote>
<p>RHEL의 경우 Subscription이 되어 있어야 함</p>
</blockquote>
<h2 id="2-공통-작업">2. 공통 작업</h2>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>Docker Server 실행<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker pull projects.registry.vmware.com/tkg/linux-resource-bundle:v1.23.10_vmware.1-tkg.1
</span></span><span class="line"><span class="cl">docker run -d -p 3000:3000 projects.registry.vmware.com/tkg/linux-resource-bundle:v1.23.10_vmware.1-tkg.1
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>Sample 다운로드<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## 1.6 Sample Download</span>
</span></span><span class="line"><span class="cl">curl -L https://apigw.vmware.com/sampleExchange/v1/downloads/8031 -o TKG-Image-Builder-for-Kubernetes-v1.23.10-master.zip
</span></span><span class="line"><span class="cl">unzip TKG-Image-Builder-for-Kubernetes-v1.23.10-master.zip
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> TKG-Image-Builder-for-Kubernetes-v1.23.10-on-TKG-v1.6.1-master/TKG-Image-Builder-for-Kubernetes-v1_23_10---vmware_1-tkg_v1_6_1/
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 2.1 Sample Download</span>
</span></span><span class="line"><span class="cl">curl -L https://apigw.vmware.com/sampleExchange/v1/downloads/8061 -o TKG-Image-Builder-for-Kubernetes-v1.24.9-master.zip
</span></span><span class="line"><span class="cl">unzip TKG-Image-Builder-for-Kubernetes-v1.24.9-master.zip
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /TKG-Image-Builder-for-Kubernetes-v1.24.9-on-TKG-v2.1.0-master/TKG-Image-Builder-for-Kubernetes-v1_24_9---vmware_1-tkg_v2_1_0/
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>tkg.json 설정 변경<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## 아래 &lt;IP&gt;:&lt;PORT&gt; 설정</span>
</span></span><span class="line"><span class="cl">cat <span class="s">&lt;&lt; &#39;EOF&#39; &gt; tkg.json
</span></span></span><span class="line"><span class="cl"><span class="s">{
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;build_version&#34;: &#34;{{user `build_name`}}-kube-v1.23.10_vmware.1&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;pause_image&#34;: &#34;projects.registry.vmware.com/tkg/pause:3.6&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;containerd_sha256&#34;: &#34;48f4327570dd7543464a28893160ab3bc9719ed2553f0a529a884b40f6dafd29&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;containerd_url&#34;: &#34;http://&lt;IP&gt;:&lt;PORT&gt;/files/containerd/cri-containerd-v1.6.6+vmware.2.linux-amd64.tar&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;containerd_version&#34;: &#34;v1.6.6+vmware.2&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;crictl_sha256&#34;: &#34;&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;crictl_url&#34;: &#34;&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;custom_role&#34;: &#34;true&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;custom_role_names&#34;: &#34;/home/imagebuilder/tkg&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;extra_debs&#34;: &#34;nfs-common unzip apparmor apparmor-utils sysstat&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;extra_rpms&#34;: &#34;sysstat&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;goss_vars_file&#34;: &#34;&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;goss_tests_dir&#34;: &#34;/home/imagebuilder/goss&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;goss_entry_file&#34;: &#34;goss/goss.yaml&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;goss_download_path&#34;: &#34;/tkg-tmp/goss-linux-amd64&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;goss_remote_folder&#34;: &#34;/tkg-tmp&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;goss_remote_path&#34;: &#34;/tkg-tmp/goss&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;kubernetes_series&#34;: &#34;v1.23&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;kubernetes_semver&#34;: &#34;v1.23.10+vmware.1&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;kubernetes_source_type&#34;: &#34;http&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;kubernetes_http_source&#34;: &#34;http://&lt;IP&gt;:&lt;PORT&gt;/files/kubernetes&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;kubernetes_container_registry&#34;: &#34;projects.registry.vmware.com/tkg&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;kubernetes_cni_semver&#34;: &#34;v1.1.1+vmware.7&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;kubernetes_cni_source_type&#34;: &#34;http&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;kubernetes_cni_http_source&#34;: &#34;http://&lt;IP&gt;:&lt;PORT&gt;/files/cni_plugins&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;kubernetes_cni_http_checksum&#34;: &#34;&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;kubernetes_load_additional_imgs&#34;: &#34;true&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">}
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>vCenter 및 Tanzu Kubernetes 버전 설정<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## vCenter의 정보를 넣어 준다.</span>
</span></span><span class="line"><span class="cl">cat <span class="s">&lt;&lt; EOF &gt; vsphere.json
</span></span></span><span class="line"><span class="cl"><span class="s">{
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;vcenter_server&#34;: &#34;&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;username&#34;: &#34;&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;password&#34;: &#34;&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;insecure_connection&#34;: &#34;true&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;datacenter&#34;: &#34;Datacenter&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;cluster&#34;: &#34;Cluster&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;resource_pool&#34;: &#34;&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;folder&#34;: &#34;tanzu&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;datastore&#34;: &#34;vsanDatastore&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;network&#34;: &#34;VM Network&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;convert_to_template&#34;: &#34;false&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;create_snapshot&#34;: &#34;false&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;linked_clone&#34;: &#34;false&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;template&#34;: &#34;false&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">}
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 설치할 버전 설정 </span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 1.6</span>
</span></span><span class="line"><span class="cl">cat <span class="s">&lt;&lt; EOF &gt; metadata.json
</span></span></span><span class="line"><span class="cl"><span class="s">{
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;VERSION&#34;: &#34;v1.23.10+vmware.1-dokyung.0&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">}
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 2.1</span>
</span></span><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;VERSION&#34;</span>: <span class="s2">&#34;v1.24.9+vmware.1-dokyung.0&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<h2 id="3-ubuntu-custom-image-생성">3. Ubuntu Custom Image 생성</h2>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>이미지 생성 실행<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">mkdir output
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 1.6 설정</span>
</span></span><span class="line"><span class="cl">docker run --net<span class="o">=</span>host -it --rm <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/vsphere.json:/home/imagebuilder/vsphere.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/tkg.json:/home/imagebuilder/tkg.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/tkg:/home/imagebuilder/tkg <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/stig_ubuntu_2004:/home/imagebuilder/stig_ubuntu_2004 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/goss/vsphere-ubuntu-1.23.10+vmware.2-goss-spec.yaml:/home/imagebuilder/goss/goss.yaml <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/metadata.json:/home/imagebuilder/metadata.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/output:/home/imagebuilder/output <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">PACKER_VAR_FILES</span><span class="o">=</span><span class="s2">&#34;tkg.json vsphere.json&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">OVF_CUSTOM_PROPERTIES</span><span class="o">=</span>/home/imagebuilder/metadata.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">IB_OVFTOOL</span><span class="o">=</span><span class="m">1</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  projects.registry.vmware.com/tkg/image-builder:v0.1.13_vmware.2 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  build-node-ova-vsphere-ubuntu-2004
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 2.1 설정</span>
</span></span><span class="line"><span class="cl">docker run -it --rm <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/vsphere.json:/home/imagebuilder/vsphere.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/tkg.json:/home/imagebuilder/tkg.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/tkg:/home/imagebuilder/tkg <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/goss/vsphere-ubuntu-1.24.9+vmware.1-goss-spec.yaml:/home/imagebuilder/goss/goss.yaml <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/metadata.json:/home/imagebuilder/metadata.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/output:/home/imagebuilder/output <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">PACKER_VAR_FILES</span><span class="o">=</span><span class="s2">&#34;tkg.json vsphere.json&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">OVF_CUSTOM_PROPERTIES</span><span class="o">=</span>/home/imagebuilder/metadata.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">IB_OVFTOOL</span><span class="o">=</span><span class="m">1</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --network host <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  projects.registry.vmware.com/tkg/image-builder:v0.1.13_vmware.2 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  build-node-ova-vsphere-ubuntu-2004
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>LOG<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span><span class="lnt">192
</span><span class="lnt">193
</span><span class="lnt">194
</span><span class="lnt">195
</span><span class="lnt">196
</span><span class="lnt">197
</span><span class="lnt">198
</span><span class="lnt">199
</span><span class="lnt">200
</span><span class="lnt">201
</span><span class="lnt">202
</span><span class="lnt">203
</span><span class="lnt">204
</span><span class="lnt">205
</span><span class="lnt">206
</span><span class="lnt">207
</span><span class="lnt">208
</span><span class="lnt">209
</span><span class="lnt">210
</span><span class="lnt">211
</span><span class="lnt">212
</span><span class="lnt">213
</span><span class="lnt">214
</span><span class="lnt">215
</span><span class="lnt">216
</span><span class="lnt">217
</span><span class="lnt">218
</span><span class="lnt">219
</span><span class="lnt">220
</span><span class="lnt">221
</span><span class="lnt">222
</span><span class="lnt">223
</span><span class="lnt">224
</span><span class="lnt">225
</span><span class="lnt">226
</span><span class="lnt">227
</span><span class="lnt">228
</span><span class="lnt">229
</span><span class="lnt">230
</span><span class="lnt">231
</span><span class="lnt">232
</span><span class="lnt">233
</span><span class="lnt">234
</span><span class="lnt">235
</span><span class="lnt">236
</span><span class="lnt">237
</span><span class="lnt">238
</span><span class="lnt">239
</span><span class="lnt">240
</span><span class="lnt">241
</span><span class="lnt">242
</span><span class="lnt">243
</span><span class="lnt">244
</span><span class="lnt">245
</span><span class="lnt">246
</span><span class="lnt">247
</span><span class="lnt">248
</span><span class="lnt">249
</span><span class="lnt">250
</span><span class="lnt">251
</span><span class="lnt">252
</span><span class="lnt">253
</span><span class="lnt">254
</span><span class="lnt">255
</span><span class="lnt">256
</span><span class="lnt">257
</span><span class="lnt">258
</span><span class="lnt">259
</span><span class="lnt">260
</span><span class="lnt">261
</span><span class="lnt">262
</span><span class="lnt">263
</span><span class="lnt">264
</span><span class="lnt">265
</span><span class="lnt">266
</span><span class="lnt">267
</span><span class="lnt">268
</span><span class="lnt">269
</span><span class="lnt">270
</span><span class="lnt">271
</span><span class="lnt">272
</span><span class="lnt">273
</span><span class="lnt">274
</span><span class="lnt">275
</span><span class="lnt">276
</span><span class="lnt">277
</span><span class="lnt">278
</span><span class="lnt">279
</span><span class="lnt">280
</span><span class="lnt">281
</span><span class="lnt">282
</span><span class="lnt">283
</span><span class="lnt">284
</span><span class="lnt">285
</span><span class="lnt">286
</span><span class="lnt">287
</span><span class="lnt">288
</span><span class="lnt">289
</span><span class="lnt">290
</span><span class="lnt">291
</span><span class="lnt">292
</span><span class="lnt">293
</span><span class="lnt">294
</span><span class="lnt">295
</span><span class="lnt">296
</span><span class="lnt">297
</span><span class="lnt">298
</span><span class="lnt">299
</span><span class="lnt">300
</span><span class="lnt">301
</span><span class="lnt">302
</span><span class="lnt">303
</span><span class="lnt">304
</span><span class="lnt">305
</span><span class="lnt">306
</span><span class="lnt">307
</span><span class="lnt">308
</span><span class="lnt">309
</span><span class="lnt">310
</span><span class="lnt">311
</span><span class="lnt">312
</span><span class="lnt">313
</span><span class="lnt">314
</span><span class="lnt">315
</span><span class="lnt">316
</span><span class="lnt">317
</span><span class="lnt">318
</span><span class="lnt">319
</span><span class="lnt">320
</span><span class="lnt">321
</span><span class="lnt">322
</span><span class="lnt">323
</span><span class="lnt">324
</span><span class="lnt">325
</span><span class="lnt">326
</span><span class="lnt">327
</span><span class="lnt">328
</span><span class="lnt">329
</span><span class="lnt">330
</span><span class="lnt">331
</span><span class="lnt">332
</span><span class="lnt">333
</span><span class="lnt">334
</span><span class="lnt">335
</span><span class="lnt">336
</span><span class="lnt">337
</span><span class="lnt">338
</span><span class="lnt">339
</span><span class="lnt">340
</span><span class="lnt">341
</span><span class="lnt">342
</span><span class="lnt">343
</span><span class="lnt">344
</span><span class="lnt">345
</span><span class="lnt">346
</span><span class="lnt">347
</span><span class="lnt">348
</span><span class="lnt">349
</span><span class="lnt">350
</span><span class="lnt">351
</span><span class="lnt">352
</span><span class="lnt">353
</span><span class="lnt">354
</span><span class="lnt">355
</span><span class="lnt">356
</span><span class="lnt">357
</span><span class="lnt">358
</span><span class="lnt">359
</span><span class="lnt">360
</span><span class="lnt">361
</span><span class="lnt">362
</span><span class="lnt">363
</span><span class="lnt">364
</span><span class="lnt">365
</span><span class="lnt">366
</span><span class="lnt">367
</span><span class="lnt">368
</span><span class="lnt">369
</span><span class="lnt">370
</span><span class="lnt">371
</span><span class="lnt">372
</span><span class="lnt">373
</span><span class="lnt">374
</span><span class="lnt">375
</span><span class="lnt">376
</span><span class="lnt">377
</span><span class="lnt">378
</span><span class="lnt">379
</span><span class="lnt">380
</span><span class="lnt">381
</span><span class="lnt">382
</span><span class="lnt">383
</span><span class="lnt">384
</span><span class="lnt">385
</span><span class="lnt">386
</span><span class="lnt">387
</span><span class="lnt">388
</span><span class="lnt">389
</span><span class="lnt">390
</span><span class="lnt">391
</span><span class="lnt">392
</span><span class="lnt">393
</span><span class="lnt">394
</span><span class="lnt">395
</span><span class="lnt">396
</span><span class="lnt">397
</span><span class="lnt">398
</span><span class="lnt">399
</span><span class="lnt">400
</span><span class="lnt">401
</span><span class="lnt">402
</span><span class="lnt">403
</span><span class="lnt">404
</span><span class="lnt">405
</span><span class="lnt">406
</span><span class="lnt">407
</span><span class="lnt">408
</span><span class="lnt">409
</span><span class="lnt">410
</span><span class="lnt">411
</span><span class="lnt">412
</span><span class="lnt">413
</span><span class="lnt">414
</span><span class="lnt">415
</span><span class="lnt">416
</span><span class="lnt">417
</span><span class="lnt">418
</span><span class="lnt">419
</span><span class="lnt">420
</span><span class="lnt">421
</span><span class="lnt">422
</span><span class="lnt">423
</span><span class="lnt">424
</span><span class="lnt">425
</span><span class="lnt">426
</span><span class="lnt">427
</span><span class="lnt">428
</span><span class="lnt">429
</span><span class="lnt">430
</span><span class="lnt">431
</span><span class="lnt">432
</span><span class="lnt">433
</span><span class="lnt">434
</span><span class="lnt">435
</span><span class="lnt">436
</span><span class="lnt">437
</span><span class="lnt">438
</span><span class="lnt">439
</span><span class="lnt">440
</span><span class="lnt">441
</span><span class="lnt">442
</span><span class="lnt">443
</span><span class="lnt">444
</span><span class="lnt">445
</span><span class="lnt">446
</span><span class="lnt">447
</span><span class="lnt">448
</span><span class="lnt">449
</span><span class="lnt">450
</span><span class="lnt">451
</span><span class="lnt">452
</span><span class="lnt">453
</span><span class="lnt">454
</span><span class="lnt">455
</span><span class="lnt">456
</span><span class="lnt">457
</span><span class="lnt">458
</span><span class="lnt">459
</span><span class="lnt">460
</span><span class="lnt">461
</span><span class="lnt">462
</span><span class="lnt">463
</span><span class="lnt">464
</span><span class="lnt">465
</span><span class="lnt">466
</span><span class="lnt">467
</span><span class="lnt">468
</span><span class="lnt">469
</span><span class="lnt">470
</span><span class="lnt">471
</span><span class="lnt">472
</span><span class="lnt">473
</span><span class="lnt">474
</span><span class="lnt">475
</span><span class="lnt">476
</span><span class="lnt">477
</span><span class="lnt">478
</span><span class="lnt">479
</span><span class="lnt">480
</span><span class="lnt">481
</span><span class="lnt">482
</span><span class="lnt">483
</span><span class="lnt">484
</span><span class="lnt">485
</span><span class="lnt">486
</span><span class="lnt">487
</span><span class="lnt">488
</span><span class="lnt">489
</span><span class="lnt">490
</span><span class="lnt">491
</span><span class="lnt">492
</span><span class="lnt">493
</span><span class="lnt">494
</span><span class="lnt">495
</span><span class="lnt">496
</span><span class="lnt">497
</span><span class="lnt">498
</span><span class="lnt">499
</span><span class="lnt">500
</span><span class="lnt">501
</span><span class="lnt">502
</span><span class="lnt">503
</span><span class="lnt">504
</span><span class="lnt">505
</span><span class="lnt">506
</span><span class="lnt">507
</span><span class="lnt">508
</span><span class="lnt">509
</span><span class="lnt">510
</span><span class="lnt">511
</span><span class="lnt">512
</span><span class="lnt">513
</span><span class="lnt">514
</span><span class="lnt">515
</span><span class="lnt">516
</span><span class="lnt">517
</span><span class="lnt">518
</span><span class="lnt">519
</span><span class="lnt">520
</span><span class="lnt">521
</span><span class="lnt">522
</span><span class="lnt">523
</span><span class="lnt">524
</span><span class="lnt">525
</span><span class="lnt">526
</span><span class="lnt">527
</span><span class="lnt">528
</span><span class="lnt">529
</span><span class="lnt">530
</span><span class="lnt">531
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## Ubuntu Custom Image 생성시 아래와 같은 Log를 볼 수 있다, vCenter에서는 Template으로 생성이 되는 것을 확인 할 수 있다.</span>
</span></span><span class="line"><span class="cl">hack/ensure-ansible.sh
</span></span><span class="line"><span class="cl">Starting galaxy collection install process
</span></span><span class="line"><span class="cl">Nothing to <span class="k">do</span>. All requested collections are already installed. If you want to reinstall them, consider using <span class="sb">`</span>--force<span class="sb">`</span>.
</span></span><span class="line"><span class="cl">hack/ensure-ansible-windows.sh
</span></span><span class="line"><span class="cl">hack/ensure-packer.sh
</span></span><span class="line"><span class="cl">hack/ensure-goss.sh
</span></span><span class="line"><span class="cl">Right version of binary present
</span></span><span class="line"><span class="cl">hack/ensure-ovftool.sh
</span></span><span class="line"><span class="cl">packer build -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/kubernetes.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/cni.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/containerd.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/ansible-args.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/goss-args.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/common.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/additional_components.json&#34;</span>  -color<span class="o">=</span><span class="nb">true</span>  -var-file<span class="o">=</span><span class="s2">&#34;packer/ova/packer-common.json&#34;</span> -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/ova/ubuntu-2004.json&#34;</span> -var-file<span class="o">=</span><span class="s2">&#34;packer/ova/vsphere.json&#34;</span>  -except<span class="o">=</span><span class="nb">local</span> -only<span class="o">=</span>vsphere-iso -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/tkg.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/vsphere.json&#34;</span>  -only<span class="o">=</span>vsphere packer/ova/packer-node.json
</span></span><span class="line"><span class="cl">vsphere: output will be in this color.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: File /home/imagebuilder/.cache/packer/48e4ec4daa32571605576c5566f486133ecc271f.iso already uploaded<span class="p">;</span> <span class="nv">continuing</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: File <span class="o">[</span>vsanDatastore<span class="o">]</span> packer_cache//48e4ec4daa32571605576c5566f486133ecc271f.iso already exists<span class="p">;</span> skipping upload.
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Creating VM...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Customizing hardware...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Mounting ISO images...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Adding configuration parameters...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Creating floppy disk...
</span></span><span class="line"><span class="cl">    vsphere: Copying files flatly from floppy_files
</span></span><span class="line"><span class="cl">    vsphere: Done copying files from floppy_files
</span></span><span class="line"><span class="cl">    vsphere: Collecting paths from floppy_dirs
</span></span><span class="line"><span class="cl">    vsphere: Resulting paths from floppy_dirs : <span class="o">[</span>./packer/ova/linux/ubuntu/http/<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere: Recursively copying : ./packer/ova/linux/ubuntu/http/
</span></span><span class="line"><span class="cl">    vsphere: Done copying paths from floppy_dirs
</span></span><span class="line"><span class="cl">    vsphere: Copying files from floppy_content
</span></span><span class="line"><span class="cl">    vsphere: Done copying files from <span class="nv">floppy_content</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Uploading created floppy <span class="nv">image</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Adding generated Floppy...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Starting HTTP server on port <span class="nv">8033</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Set boot order temporary...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Power on VM...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Waiting 10s <span class="k">for</span> boot...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: HTTP server is working at http://10.253.126.163:8033/
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Typing boot command...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Waiting <span class="k">for</span> IP...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: IP address: 10.253.126.102
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Using SSH communicator to connect: 10.253.126.102
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Waiting <span class="k">for</span> SSH to become available...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Connected to SSH!
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with shell script: ./packer/files/flatcar/scripts/bootstrap-flatcar.sh
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with Ansible...
</span></span><span class="line"><span class="cl">    vsphere: Setting up proxy adapter <span class="k">for</span> Ansible....
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Executing Ansible: ansible-playbook -e <span class="nv">packer_build_name</span><span class="o">=</span><span class="s2">&#34;vsphere&#34;</span> -e packer_*****_type<span class="o">=</span>vsphere-iso -e <span class="nv">packer_http_addr</span><span class="o">=</span>10.253.126.163:8033 --ssh-extra-args <span class="s1">&#39;-o IdentitiesOnly=yes&#39;</span> --extra-vars <span class="nv">containerd_url</span><span class="o">=</span>http://10.253.126.163:3000/files/containerd/cri-containerd-v1.6.6+vmware.2.linux-amd64.tar <span class="nv">containerd_sha256</span><span class="o">=</span>48f4327570dd7543464a28893160ab3bc9719ed2553f0a529a884b40f6dafd29 <span class="nv">pause_image</span><span class="o">=</span>projects.registry.vmware.com/tkg/pause:3.6 <span class="nv">containerd_additional_settings</span><span class="o">=</span> <span class="nv">containerd_cri_socket</span><span class="o">=</span>/var/run/containerd/containerd.sock <span class="nv">containerd_version</span><span class="o">=</span>v1.6.6+vmware.2 <span class="nv">crictl_url</span><span class="o">=</span> <span class="nv">crictl_sha256</span><span class="o">=</span> <span class="nv">crictl_source_type</span><span class="o">=</span>pkg <span class="nv">custom_role_names</span><span class="o">=</span><span class="s2">&#34;/home/image*****/tkg&#34;</span> <span class="nv">firstboot_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">firstboot_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">disable_public_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">extra_debs</span><span class="o">=</span><span class="s2">&#34;nfs-common unzip apparmor apparmor-utils sysstat&#34;</span> <span class="nv">extra_repos</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">extra_rpms</span><span class="o">=</span><span class="s2">&#34;sysstat&#34;</span> <span class="nv">http_proxy</span><span class="o">=</span> <span class="nv">https_proxy</span><span class="o">=</span> <span class="nv">kubeadm_template</span><span class="o">=</span>etc/kubeadm.yml <span class="nv">kubernetes_cni_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/cni_plugins <span class="nv">kubernetes_cni_http_checksum</span><span class="o">=</span> <span class="nv">kubernetes_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/kubernetes <span class="nv">kubernetes_container_registry</span><span class="o">=</span>projects.registry.vmware.com/tkg <span class="nv">kubernetes_rpm_repo</span><span class="o">=</span>https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64 <span class="nv">kubernetes_rpm_gpg_key</span><span class="o">=</span><span class="s2">&#34;https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg&#34;</span> <span class="nv">kubernetes_rpm_gpg_check</span><span class="o">=</span>True <span class="nv">kubernetes_deb_repo</span><span class="o">=</span><span class="s2">&#34;https://apt.kubernetes.io/ kubernetes-xenial&#34;</span> <span class="nv">kubernetes_deb_gpg_key</span><span class="o">=</span>https://packages.cloud.google.com/apt/doc/apt-key.gpg <span class="nv">kubernetes_cni_deb_version</span><span class="o">=</span>1.1.1-00 <span class="nv">kubernetes_cni_rpm_version</span><span class="o">=</span>1.1.1-0 <span class="nv">kubernetes_cni_semver</span><span class="o">=</span>v1.1.1+vmware.7 <span class="nv">kubernetes_cni_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_semver</span><span class="o">=</span>v1.23.10+vmware.1 <span class="nv">kubernetes_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_load_additional_imgs</span><span class="o">=</span><span class="nb">true</span> <span class="nv">kubernetes_deb_version</span><span class="o">=</span>1.23.10-00 <span class="nv">kubernetes_rpm_version</span><span class="o">=</span>1.23.10-0 <span class="nv">no_proxy</span><span class="o">=</span> <span class="nv">pip_conf_file</span><span class="o">=</span> <span class="nv">python_path</span><span class="o">=</span> <span class="nv">redhat_epel_rpm</span><span class="o">=</span>https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm <span class="nv">epel_rpm_gpg_key</span><span class="o">=</span> <span class="nv">reenable_public_repos</span><span class="o">=</span><span class="nb">true</span> <span class="nv">remove_extra_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">systemd_prefix</span><span class="o">=</span>/usr/lib/systemd <span class="nv">sysusr_prefix</span><span class="o">=</span>/usr <span class="nv">sysusrlocal_prefix</span><span class="o">=</span>/usr/local <span class="nv">load_additional_components</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images_list</span><span class="o">=</span> <span class="nv">additional_url_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_url_images_list</span><span class="o">=</span> <span class="nv">additional_executables</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_executables_list</span><span class="o">=</span> <span class="nv">additional_executables_destination_path</span><span class="o">=</span> <span class="nv">build_target</span><span class="o">=</span>virt <span class="nv">amazon_ssm_agent_rpm</span><span class="o">=</span> --extra-vars <span class="nv">guestinfo_datasource_slug</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo <span class="nv">guestinfo_datasource_ref</span><span class="o">=</span>v1.4.1 <span class="nv">guestinfo_datasource_script</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo/v1.4.1/install.sh --extra-vars  -e <span class="nv">ansible_ssh_private_key_file</span><span class="o">=</span>/tmp/ansible-key1308883835 -i /tmp/packer-provisioner-ansible2622378892 /home/image*****/ansible/firstboot.yml
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY <span class="o">[</span>all<span class="o">]</span> *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>Gathering Facts<span class="o">]</span> *********************************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : firstboot<span class="o">]</span> ************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY RECAP *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere: default                    : <span class="nv">ok</span><span class="o">=</span><span class="m">1</span>    <span class="nv">changed</span><span class="o">=</span><span class="m">0</span>    <span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span>    <span class="nv">failed</span><span class="o">=</span><span class="m">0</span>    <span class="nv">skipped</span><span class="o">=</span><span class="m">80</span>   <span class="nv">rescued</span><span class="o">=</span><span class="m">0</span>    <span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with shell script: /tmp/packer-shell4104450257
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with Ansible...
</span></span><span class="line"><span class="cl">    vsphere: Setting up proxy adapter <span class="k">for</span> Ansible....
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Executing Ansible: ansible-playbook -e <span class="nv">packer_build_name</span><span class="o">=</span><span class="s2">&#34;vsphere&#34;</span> -e packer_*****_type<span class="o">=</span>vsphere-iso -e <span class="nv">packer_http_addr</span><span class="o">=</span>10.253.126.163:8033 --ssh-extra-args <span class="s1">&#39;-o IdentitiesOnly=yes&#39;</span> --extra-vars <span class="nv">containerd_url</span><span class="o">=</span>http://10.253.126.163:3000/files/containerd/cri-containerd-v1.6.6+vmware.2.linux-amd64.tar <span class="nv">containerd_sha256</span><span class="o">=</span>48f4327570dd7543464a28893160ab3bc9719ed2553f0a529a884b40f6dafd29 <span class="nv">pause_image</span><span class="o">=</span>projects.registry.vmware.com/tkg/pause:3.6 <span class="nv">containerd_additional_settings</span><span class="o">=</span> <span class="nv">containerd_cri_socket</span><span class="o">=</span>/var/run/containerd/containerd.sock <span class="nv">containerd_version</span><span class="o">=</span>v1.6.6+vmware.2 <span class="nv">crictl_url</span><span class="o">=</span> <span class="nv">crictl_sha256</span><span class="o">=</span> <span class="nv">crictl_source_type</span><span class="o">=</span>pkg <span class="nv">custom_role_names</span><span class="o">=</span><span class="s2">&#34;/home/image*****/tkg&#34;</span> <span class="nv">firstboot_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">firstboot_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">disable_public_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">extra_debs</span><span class="o">=</span><span class="s2">&#34;nfs-common unzip apparmor apparmor-utils sysstat&#34;</span> <span class="nv">extra_repos</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">extra_rpms</span><span class="o">=</span><span class="s2">&#34;sysstat&#34;</span> <span class="nv">http_proxy</span><span class="o">=</span> <span class="nv">https_proxy</span><span class="o">=</span> <span class="nv">kubeadm_template</span><span class="o">=</span>etc/kubeadm.yml <span class="nv">kubernetes_cni_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/cni_plugins <span class="nv">kubernetes_cni_http_checksum</span><span class="o">=</span> <span class="nv">kubernetes_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/kubernetes <span class="nv">kubernetes_container_registry</span><span class="o">=</span>projects.registry.vmware.com/tkg <span class="nv">kubernetes_rpm_repo</span><span class="o">=</span>https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64 <span class="nv">kubernetes_rpm_gpg_key</span><span class="o">=</span><span class="s2">&#34;https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg&#34;</span> <span class="nv">kubernetes_rpm_gpg_check</span><span class="o">=</span>True <span class="nv">kubernetes_deb_repo</span><span class="o">=</span><span class="s2">&#34;https://apt.kubernetes.io/ kubernetes-xenial&#34;</span> <span class="nv">kubernetes_deb_gpg_key</span><span class="o">=</span>https://packages.cloud.google.com/apt/doc/apt-key.gpg <span class="nv">kubernetes_cni_deb_version</span><span class="o">=</span>1.1.1-00 <span class="nv">kubernetes_cni_rpm_version</span><span class="o">=</span>1.1.1-0 <span class="nv">kubernetes_cni_semver</span><span class="o">=</span>v1.1.1+vmware.7 <span class="nv">kubernetes_cni_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_semver</span><span class="o">=</span>v1.23.10+vmware.1 <span class="nv">kubernetes_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_load_additional_imgs</span><span class="o">=</span><span class="nb">true</span> <span class="nv">kubernetes_deb_version</span><span class="o">=</span>1.23.10-00 <span class="nv">kubernetes_rpm_version</span><span class="o">=</span>1.23.10-0 <span class="nv">no_proxy</span><span class="o">=</span> <span class="nv">pip_conf_file</span><span class="o">=</span> <span class="nv">python_path</span><span class="o">=</span> <span class="nv">redhat_epel_rpm</span><span class="o">=</span>https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm <span class="nv">epel_rpm_gpg_key</span><span class="o">=</span> <span class="nv">reenable_public_repos</span><span class="o">=</span><span class="nb">true</span> <span class="nv">remove_extra_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">systemd_prefix</span><span class="o">=</span>/usr/lib/systemd <span class="nv">sysusr_prefix</span><span class="o">=</span>/usr <span class="nv">sysusrlocal_prefix</span><span class="o">=</span>/usr/local <span class="nv">load_additional_components</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images_list</span><span class="o">=</span> <span class="nv">additional_url_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_url_images_list</span><span class="o">=</span> <span class="nv">additional_executables</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_executables_list</span><span class="o">=</span> <span class="nv">additional_executables_destination_path</span><span class="o">=</span> <span class="nv">build_target</span><span class="o">=</span>virt <span class="nv">amazon_ssm_agent_rpm</span><span class="o">=</span> --extra-vars <span class="nv">guestinfo_datasource_slug</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo <span class="nv">guestinfo_datasource_ref</span><span class="o">=</span>v1.4.1 <span class="nv">guestinfo_datasource_script</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo/v1.4.1/install.sh --extra-vars  -e <span class="nv">ansible_ssh_private_key_file</span><span class="o">=</span>/tmp/ansible-key2329815423 -i /tmp/packer-provisioner-ansible3700347837 /home/image*****/ansible/node.yml
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY <span class="o">[</span>all<span class="o">]</span> *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>Gathering Facts<span class="o">]</span> *********************************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : node<span class="o">]</span> *****************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : Put templated sources.list in place<span class="o">]</span> *****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : Put templated apt.conf.d/90proxy in place when defined<span class="o">]</span> **********
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : perform a dist-upgrade<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : install baseline dependencies<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : install extra debs<span class="o">]</span> **********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : install pinned debs<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Ensure overlay module is present<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Ensure br_netfilter module is present<span class="o">]</span> ****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Persist required kernel modules<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Set and persist kernel params<span class="o">]</span> ************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.bridge.bridge-nf-call-iptables&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.bridge.bridge-nf-call-ip6tables&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.ip_forward&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.conf.all.forwarding&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.conf.all.disable_ipv6&#39;</span>, <span class="s1">&#39;val&#39;</span>: 0<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.tcp_congestion_control&#39;</span>, <span class="s1">&#39;val&#39;</span>: <span class="s1">&#39;bbr&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;vm.overcommit_memory&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;kernel.panic&#39;</span>, <span class="s1">&#39;val&#39;</span>: 10<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;kernel.panic_on_oops&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Ensure auditd is running and comes on at reboot<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : configure auditd rules <span class="k">for</span> containerd<span class="o">]</span> ****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Ensure reverse packet filtering is <span class="nb">set</span> as strict<span class="o">]</span> *****************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Copy udev etcd network tuning rules<span class="o">]</span> ******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Copy etcd network tuning script<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : providers<span class="o">]</span> ************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : include_tasks<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere: included: /home/imagebuilder/ansible/roles/providers/tasks/vmware.yml <span class="k">for</span> default
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : include_tasks<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere: included: /home/imagebuilder/ansible/roles/providers/tasks/vmware-ubuntu.yml <span class="k">for</span> default
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Install cloud-init packages<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Disable Hyper-V KVP protocol daemon on Ubuntu<span class="o">]</span> ***************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Copy networkd-dispatcher scripts to add DHCP provided NTP servers<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;src&#39;</span>: <span class="s1">&#39;files/etc/networkd-dispatcher/routable.d/20-chrony.j2&#39;</span>, <span class="s1">&#39;dest&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/routable.d/20-chrony&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;src&#39;</span>: <span class="s1">&#39;files/etc/networkd-dispatcher/off.d/20-chrony.j2&#39;</span>, <span class="s1">&#39;dest&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/off.d/20-chrony&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;src&#39;</span>: <span class="s1">&#39;files/etc/networkd-dispatcher/no-carrier.d/20-chrony.j2&#39;</span>, <span class="s1">&#39;dest&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/no-carrier.d/20-chrony&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create provider vmtools config drop-in file<span class="o">]</span> *****************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create service to modify cloud-init config<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Copy cloud-init modification script<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Enable modify-cloud-init-cfg.service<span class="o">]</span> ************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Creates unit file directory <span class="k">for</span> cloud-final<span class="o">]</span> *****************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create cloud-final boot order drop in file<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Creates unit file directory <span class="k">for</span> cloud-config<span class="o">]</span> ****************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create cloud-final boot order drop in file<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Make sure all cloud init services are enabled<span class="o">]</span> ***************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-final<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-config<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-init<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-init-local<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create cloud-init config file<span class="o">]</span> *******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : <span class="nb">set</span> cloudinit feature flags<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Ensure chrony is running<span class="o">]</span> ************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : containerd<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Install libseccomp2 package<span class="o">]</span> ********************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : download containerd<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create a directory <span class="k">if</span> it does not exist<span class="o">]</span> ********************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : unpack containerd<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : delete /opt/cni directory<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : delete /etc/cni directory<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Creates unit file directory<span class="o">]</span> ********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create containerd memory pressure drop in file<span class="o">]</span> *************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create containerd max tasks drop in file<span class="o">]</span> *******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create containerd http proxy conf file <span class="k">if</span> needed<span class="o">]</span> ***********
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Creates containerd config directory<span class="o">]</span> ************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Copy in containerd config file etc/containerd/config.toml<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Copy in crictl config<span class="o">]</span> **************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : start containerd service<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : delete tarball<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : kubernetes<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Symlink cri-tools<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>ctr<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>crictl<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>critest<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create CNI directory<span class="o">]</span> ***************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Download CNI tarball<span class="o">]</span> ***************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Install CNI<span class="o">]</span> ************************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Remove CNI tarball<span class="o">]</span> *****************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Download Kubernetes binaries<span class="o">]</span> *******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kubeadm<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kubectl<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kubelet<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Download Kubernetes images<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-apiserver.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-controller-manager.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-scheduler.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-proxy.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>pause.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>coredns.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>etcd.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Load Kubernetes images<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-apiserver.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-controller-manager.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-scheduler.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-proxy.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>pause.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>coredns.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>etcd.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Remove Kubernetes images<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-apiserver.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-controller-manager.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-scheduler.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-proxy.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>pause.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>coredns.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>etcd.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create Kubernetes manifests directory<span class="o">]</span> **********************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet sysconfig directory<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet drop-in directory<span class="o">]</span> ***************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet kubeadm drop-in file<span class="o">]</span> ************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet systemd file<span class="o">]</span> ********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet default config file<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Enable kubelet service<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create the Kubernetes version file<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Check <span class="k">if</span> Kubernetes container registry is using Amazon ECR<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : <span class="o">{{</span> role <span class="o">}}]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : Create /tkg-tmp space<span class="o">]</span> **************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : Ensure reverse path filtering is <span class="nb">set</span> as strict<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : Modify /bin/sh to point to bash instead of dash<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span><span class="nb">echo</span> <span class="s2">&#34;dash dash/sh boolean false&#34;</span> <span class="p">|</span>  debconf-set-selections<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span><span class="nv">DEBIAN_FRONTEND</span><span class="o">=</span>noninteractive dpkg-reconfigure dash<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : remove unwanted packages<span class="o">]</span> ***********************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : include_tasks<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: included: /home/imagebuilder/tkg/tasks/vsphere.yml <span class="k">for</span> default
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : Set extra kernel params <span class="k">for</span> GC threshhold<span class="o">]</span> ******
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.neigh.default.gc_thresh1&#39;</span>, <span class="s1">&#39;val&#39;</span>: 4096<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.neigh.default.gc_thresh1&#39;</span>, <span class="s1">&#39;val&#39;</span>: 4096<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.neigh.default.gc_thresh2&#39;</span>, <span class="s1">&#39;val&#39;</span>: 8192<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.neigh.default.gc_thresh2&#39;</span>, <span class="s1">&#39;val&#39;</span>: 8192<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.neigh.default.gc_thresh3&#39;</span>, <span class="s1">&#39;val&#39;</span>: 16384<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.neigh.default.gc_thresh3&#39;</span>, <span class="s1">&#39;val&#39;</span>: 16384<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : Ensure fs.file-max is set<span class="o">]</span> **********************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : sysprep<span class="o">]</span> **************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Define file modes<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : apt-mark all installed packages<span class="o">]</span> *******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove templated apt.conf.d/90proxy used <span class="k">for</span> http<span class="o">(</span>s<span class="o">)</span>_proxy support<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Stop auditing<span class="o">]</span> *************************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove apt package caches<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove apt package lists<span class="o">]</span> **************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/lib/apt/lists&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0755&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/lib/apt/lists&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;directory&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0755&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Disable apt-daily services<span class="o">]</span> ************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>apt-daily.timer<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>apt-daily-upgrade.timer<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Get installed packages<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Disable unattended upgrades <span class="k">if</span> installed<span class="o">]</span> **********************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Reset network interface IDs<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove containerd http proxy conf file <span class="k">if</span> needed<span class="o">]</span> **************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate machine id<span class="o">]</span> *******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/machine-id&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/machine-id&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate hostname file<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/hostname&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/hostname&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Set hostname<span class="o">]</span> **************************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Reset hosts file<span class="o">]</span> **********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate audit logs<span class="o">]</span> *******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/wtmp&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0664&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/lastlog&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0664&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/wtmp&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0664&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/lastlog&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0664&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove cloud-init lib dir and logs<span class="o">]</span> ****************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/lib/cloud<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/log/cloud-init.log<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/log/cloud-init-output.log<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/run/cloud-init<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Find temp files<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Reset temp space<span class="o">]</span> **********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/tmp.fstab&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 34, <span class="s1">&#39;inode&#39;</span>: 402670, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677597184.857451, <span class="s1">&#39;mtime&#39;</span>: 1677597184.853451, <span class="s1">&#39;ctime&#39;</span>: 1677597184.853451, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/ansible_find_payload_f0kvk8b5&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 402677, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 2, <span class="s1">&#39;atime&#39;</span>: 1677597223.1412058, <span class="s1">&#39;mtime&#39;</span>: 1677597223.1412058, <span class="s1">&#39;ctime&#39;</span>: 1677597223.1412058, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/vmware-root_11794-701728372&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 402667, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 2, <span class="s1">&#39;atime&#39;</span>: 1677596834.564557, <span class="s1">&#39;mtime&#39;</span>: 1677596834.564557, <span class="s1">&#39;ctime&#39;</span>: 1677596834.564557, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/systemd-private-63552066ae0f41f8b3f40451498e4ff1-systemd-resolved.service-ODYbtj&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 402665, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677596833.9565601, <span class="s1">&#39;mtime&#39;</span>: 1677596833.9565601, <span class="s1">&#39;ctime&#39;</span>: 1677596833.9565601, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/systemd-private-63552066ae0f41f8b3f40451498e4ff1-systemd-logind.service-3e3WGf&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 788745, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677596646.7835886, <span class="s1">&#39;mtime&#39;</span>: 1677596646.7835886, <span class="s1">&#39;ctime&#39;</span>: 1677596646.7835886, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/systemd-private-63552066ae0f41f8b3f40451498e4ff1-chrony.service-KU8mhf&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 402669, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677596913.092651, <span class="s1">&#39;mtime&#39;</span>: 1677596913.092651, <span class="s1">&#39;ctime&#39;</span>: 1677596913.092651, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/vmware-root_11732-2832205138&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 400095, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 2, <span class="s1">&#39;atime&#39;</span>: 1677596832.1765683, <span class="s1">&#39;mtime&#39;</span>: 1677596832.1765683, <span class="s1">&#39;ctime&#39;</span>: 1677596832.1765683, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/vmware-root_435-1848905162&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 788741, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 2, <span class="s1">&#39;atime&#39;</span>: 1677596647.2115886, <span class="s1">&#39;mtime&#39;</span>: 1677596647.2115886, <span class="s1">&#39;ctime&#39;</span>: 1677596647.2115886, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/systemd-private-63552066ae0f41f8b3f40451498e4ff1-systemd-hostnamed.service-09uISe&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 402716, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677597214.7612596, <span class="s1">&#39;mtime&#39;</span>: 1677597214.7612596, <span class="s1">&#39;ctime&#39;</span>: 1677597214.7612596, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/tmp/systemd-private-63552066ae0f41f8b3f40451498e4ff1-systemd-resolved.service-3M3Qwh&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 787951, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677596833.9565601, <span class="s1">&#39;mtime&#39;</span>: 1677596833.9565601, <span class="s1">&#39;ctime&#39;</span>: 1677596833.9565601, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/tmp/systemd-private-63552066ae0f41f8b3f40451498e4ff1-chrony.service-qhrzGi&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 276520, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677596913.092651, <span class="s1">&#39;mtime&#39;</span>: 1677596913.092651, <span class="s1">&#39;ctime&#39;</span>: 1677596913.092651, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/tmp/systemd-private-63552066ae0f41f8b3f40451498e4ff1-systemd-logind.service-5Ee1Zh&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 788747, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677596646.7835886, <span class="s1">&#39;mtime&#39;</span>: 1677596646.7835886, <span class="s1">&#39;ctime&#39;</span>: 1677596646.7835886, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/tmp/systemd-private-63552066ae0f41f8b3f40451498e4ff1-systemd-hostnamed.service-SbNfXe&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 262171, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677597214.7612596, <span class="s1">&#39;mtime&#39;</span>: 1677597214.7612596, <span class="s1">&#39;ctime&#39;</span>: 1677597214.7612596, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: <span class="o">[</span>WARNING<span class="o">]</span>: Skipped <span class="s1">&#39;/run/netplan&#39;</span> path due to this access issue: <span class="s1">&#39;/run/netplan&#39;</span>
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Find netplan files<span class="o">]</span> ********************************************
</span></span><span class="line"><span class="cl">    vsphere: is not a directory
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Delete netplan files<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/netplan/01-netcfg.yaml&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 195, <span class="s1">&#39;inode&#39;</span>: 1048713, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677596772.6521707, <span class="s1">&#39;mtime&#39;</span>: 1677596518.2793102, <span class="s1">&#39;ctime&#39;</span>: 1677596518.2793102, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Find SSH host keys<span class="o">]</span> ********************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove SSH host keys<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_rsa_key&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0600&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 2602, <span class="s1">&#39;inode&#39;</span>: 1049683, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677596646.8235886, <span class="s1">&#39;mtime&#39;</span>: 1677596605.0113115, <span class="s1">&#39;ctime&#39;</span>: 1677596605.0113115, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ecdsa_key.pub&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 176, <span class="s1">&#39;inode&#39;</span>: 1049686, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677596605.0233116, <span class="s1">&#39;mtime&#39;</span>: 1677596605.0193117, <span class="s1">&#39;ctime&#39;</span>: 1677596605.0193117, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ecdsa_key&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0600&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 505, <span class="s1">&#39;inode&#39;</span>: 1049685, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677596646.8275886, <span class="s1">&#39;mtime&#39;</span>: 1677596605.0193117, <span class="s1">&#39;ctime&#39;</span>: 1677596605.0193117, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ed25519_key&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0600&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 411, <span class="s1">&#39;inode&#39;</span>: 1049687, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677596646.8315885, <span class="s1">&#39;mtime&#39;</span>: 1677596605.0273116, <span class="s1">&#39;ctime&#39;</span>: 1677596605.0273116, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ed25519_key.pub&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 96, <span class="s1">&#39;inode&#39;</span>: 1049688, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677596605.0313115, <span class="s1">&#39;mtime&#39;</span>: 1677596605.0273116, <span class="s1">&#39;ctime&#39;</span>: 1677596605.0273116, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_rsa_key.pub&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 568, <span class="s1">&#39;inode&#39;</span>: 1049684, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677596605.0153117, <span class="s1">&#39;mtime&#39;</span>: 1677596605.0113115, <span class="s1">&#39;ctime&#39;</span>: 1677596605.0113115, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove SSH authorized users<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/root/.ssh/authorized_keys&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/home/builder/.ssh/authorized_keys&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate all remaining log files in /var/log<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Delete all logrotated log zips<span class="o">]</span> ********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate shell history<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/root/.bash_history&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/home/builder/.bash_history&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Rotate journalctl to archive logs<span class="o">]</span> *****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove archived journalctl logs<span class="o">]</span> *******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : start ssh<span class="o">]</span> *****************************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY RECAP *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere: default                    : <span class="nv">ok</span><span class="o">=</span><span class="m">103</span>  <span class="nv">changed</span><span class="o">=</span><span class="m">77</span>   <span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span>    <span class="nv">failed</span><span class="o">=</span><span class="m">0</span>    <span class="nv">skipped</span><span class="o">=</span><span class="m">203</span>  <span class="nv">rescued</span><span class="o">=</span><span class="m">0</span>    <span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with <span class="nv">Goss</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Configured to run on Linux
</span></span><span class="line"><span class="cl">    vsphere: Creating directory: /tkg-tmp/goss
</span></span><span class="line"><span class="cl">    vsphere: Installing Goss from, https://github.com/aelsabbahy/goss/releases/download/v0.3.16/goss-linux-amd64
</span></span><span class="line"><span class="cl">    vsphere: Downloading Goss to /tkg-tmp/goss-linux-amd64
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  <span class="nv">Current</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:                                  Dload  Upload   Total   Spent    Left  <span class="nv">Speed</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:   <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>      <span class="m">0</span>      <span class="m">0</span> --:--:-- --:--:-- --:--:--     <span class="nv">0</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:   <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>      <span class="m">0</span>      <span class="m">0</span> --:--:-- --:--:-- --:--:--     <span class="nv">0</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: <span class="m">100</span> 11.8M  <span class="m">100</span> 11.8M    <span class="m">0</span>     <span class="m">0</span>  3271k      <span class="m">0</span>  0:00:03  0:00:03 --:--:-- 5114k
</span></span><span class="line"><span class="cl">    vsphere: goss version v0.3.16
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Uploading goss tests...
</span></span><span class="line"><span class="cl">    vsphere: Inline variables are --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;ubuntu&#34;,&#34;OS_VERSION&#34;:&#34;20.04&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span>
</span></span><span class="line"><span class="cl">    vsphere: Uploading Dir /home/imagebuilder/goss
</span></span><span class="line"><span class="cl">    vsphere: Creating directory: /tkg-tmp/goss/goss
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running goss tests...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running GOSS validate command: <span class="nb">cd</span> /tkg-tmp/goss <span class="o">&amp;&amp;</span> sudo  /tkg-tmp/goss-linux-amd64 --gossfile goss/goss.yaml  --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;ubuntu&#34;,&#34;OS_VERSION&#34;:&#34;20.04&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span> validate --retry-timeout 0s --sleep 1s -f json -o pretty
</span></span><span class="line"><span class="cl">    vsphere: Error: file error: <span class="nb">read</span> goss/goss.yaml: is a <span class="nv">directory</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Goss validate <span class="nv">failed</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Inspect mode on : proceeding without failing <span class="nv">Packer</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running GOSS render command: <span class="nb">cd</span> /tkg-tmp/goss <span class="o">&amp;&amp;</span>  /tkg-tmp/goss-linux-amd64 --gossfile goss/goss.yaml  --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;ubuntu&#34;,&#34;OS_VERSION&#34;:&#34;20.04&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span> render &gt; /tmp/goss-spec.yaml
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: file error: <span class="nb">read</span> goss/goss.yaml: is a <span class="nv">directory</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Goss render <span class="nv">failed</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Inspect mode on : proceeding without failing <span class="nv">Packer</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running GOSS render debug command: <span class="nb">cd</span> /tkg-tmp/goss <span class="o">&amp;&amp;</span>  /tkg-tmp/goss-linux-amd64 --gossfile goss/goss.yaml  --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;ubuntu&#34;,&#34;OS_VERSION&#34;:&#34;20.04&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span> render -d &gt; /tmp/debug-goss-spec.yaml
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: file error: <span class="nb">read</span> goss/goss.yaml: is a <span class="nv">directory</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Goss render debug <span class="nv">failed</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Inspect mode on : proceeding without failing <span class="nv">Packer</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Downloading spec file and debug info
</span></span><span class="line"><span class="cl">    vsphere: Downloading Goss specs from, /tmp/goss-spec.yaml and /tmp/debug-goss-spec.yaml to current <span class="nv">dir</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Executing shutdown command...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Deleting Floppy drives...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Deleting Floppy image...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Eject CD-ROM drives...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Convert VM into template...
</span></span><span class="line"><span class="cl">    vsphere: Starting export...
</span></span><span class="line"><span class="cl">    vsphere: Downloading: ubuntu-2004-kube-v1.23.10_vmware.1-disk-0.vmdk
</span></span><span class="line"><span class="cl">    vsphere: Exporting file: ubuntu-2004-kube-v1.23.10_vmware.1-disk-0.vmdk
</span></span><span class="line"><span class="cl">    vsphere: Writing ovf...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Clear boot order...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running post-processor: packer-manifest <span class="o">(</span><span class="nb">type</span> manifest<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running post-processor: vsphere <span class="o">(</span><span class="nb">type</span> shell-local<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Running <span class="nb">local</span> shell script: /tmp/packer-shell750060967
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Opening OVF source: ubuntu-2004-kube-v1.23.10+vmware.1.ovf
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Opening OVA target: ubuntu-2004-kube-v1.23.10+vmware.1.ova
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Writing OVA package: ubuntu-2004-kube-v1.23.10+vmware.1.ova
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Transfer Completed
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Warning:
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>:  - No manifest file found.
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>:  - No supported manifest<span class="o">(</span>sha1, sha256, sha512<span class="o">)</span> entry found <span class="k">for</span>: <span class="s1">&#39;ubuntu-2004-kube-v1.23.10_vmware.1-disk-0.vmdk&#39;</span>.
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Completed successfully
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: <span class="nb">cd</span> .
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: loaded ubuntu-2004-kube-v1.23.10+vmware.1
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: create ovf ubuntu-2004-kube-v1.23.10+vmware.1.ovf
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: creating OVA from ubuntu-2004-kube-v1.23.10+vmware.1.ovf using ovftool
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: create ova checksum ubuntu-2004-kube-v1.23.10+vmware.1.ova.sha256
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running post-processor: custom-post-processor <span class="o">(</span><span class="nb">type</span> shell-local<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Running <span class="nb">local</span> shell script: /tmp/packer-shell508306614
</span></span><span class="line"><span class="cl">Build <span class="s1">&#39;vsphere&#39;</span> finished after <span class="m">17</span> minutes <span class="m">24</span> seconds.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; Wait completed after <span class="m">17</span> minutes <span class="m">24</span> <span class="nv">seconds</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; Builds finished. The artifacts of successful builds are:
</span></span><span class="line"><span class="cl">--&gt; vsphere: ubuntu-2004-kube-v1.23.10_vmware.1
</span></span><span class="line"><span class="cl">--&gt; vsphere: ubuntu-2004-kube-v1.23.10_vmware.1
</span></span><span class="line"><span class="cl">--&gt; vsphere: ubuntu-2004-kube-v1.23.10_vmware.1
</span></span><span class="line"><span class="cl">--&gt; vsphere: ubuntu-2004-kube-v1.23.10_vmware.1
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## output 폴더 OVA 생성</span>
</span></span><span class="line"><span class="cl"><span class="c1">## 1.6 </span>
</span></span><span class="line"><span class="cl">ls output/ubuntu-2004-kube-v1.23.10_vmware.1/
</span></span><span class="line"><span class="cl">packer-manifest.json  ubuntu-2004-kube-v1.23.10+vmware.1.ova  ubuntu-2004-kube-v1.23.10+vmware.1.ova.sha256  ubuntu-2004-kube-v1.23.10+vmware.1.ovf  ubuntu-2004-kube-v1.23.10_vmware.1-disk-0.vmdk  ubuntu-2004-kube-v1.23.10_vmware.1.ovf
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 2.1</span>
</span></span><span class="line"><span class="cl">ls output/ubuntu-2004-kube-v1.24.9_vmware.1/
</span></span><span class="line"><span class="cl">packer-manifest.json  ubuntu-2004-kube-v1.24.9_vmware.1-disk-0.vmdk  ubuntu-2004-kube-v1.24.9+vmware.1.ova  ubuntu-2004-kube-v1.24.9+vmware.1.ova.sha256  ubuntu-2004-kube-v1.24.9+vmware.1.ovf  ubuntu-2004-kube-v1.24.9_vmware.1.ovf
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<h2 id="4-rhel-custom-image-생성">4. RHEL Custom Image 생성</h2>
<p><div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>rhel-8.json 생성<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">cat <span class="s">&lt;&lt; &#39;EOF&#39; &gt; rhel-8.json
</span></span></span><span class="line"><span class="cl"><span class="s">{
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;boot_command_prefix&#34;: &#34;&lt;up&gt;&lt;tab&gt; text inst.ks=&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;boot_command_suffix&#34;: &#34;/8/ks.cfg&lt;enter&gt;&lt;wait&gt;&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;boot_media_path&#34;: &#34;http://{{ .HTTPIP }}:{{ .HTTPPort }}&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;build_name&#34;: &#34;rhel-8&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;distro_arch&#34;: &#34;amd64&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;distro_name&#34;: &#34;rhel&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;distro_version&#34;: &#34;8&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;epel_rpm_gpg_key&#34;: &#34;https://dl.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-8&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;guest_os_type&#34;: &#34;rhel8-64&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;http_directory&#34;: &#34;./packer/ova/linux/{{user `distro_name`}}/http/&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;iso_checksum&#34;: &#34;a6a7418a75d721cc696d3cbdd648b5248808e7fef0f8742f518e43b46fa08139&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;iso_checksum_type&#34;: &#34;sha256&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;iso_url&#34;: &#34;./rhel-8.7-x86_64-dvd.iso&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;os_display_name&#34;: &#34;RHEL 8&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;redhat_epel_rpm&#34;: &#34;https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;shutdown_command&#34;: &#34;shutdown -P now&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;vsphere_guest_os_type&#34;: &#34;rhel8_64Guest&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">}
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>rhel-8 생성<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## RHSM_USER= --env RHSM_PASS= \ -- subscription user/pw 설정</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 1.6 설정</span>
</span></span><span class="line"><span class="cl">docker run -it --rm <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/vsphere.json:/home/imagebuilder/vsphere.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/tkg.json:/home/imagebuilder/tkg.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/tkg:/home/imagebuilder/tkg <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/goss/vsphere-ubuntu-1.23.10+vmware.2-goss-spec.yaml:/home/imagebuilder/goss/goss.yaml <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/metadata.json:/home/imagebuilder/metadata.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/output:/home/imagebuilder/output <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/rhel-8.json:/home/imagebuilder/packer/ova/rhel-8.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/ks.cfg:/home/imagebuilder/packer/ova/linux/photon/http/3/ks.cfg <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/rhel-8.7-x86_64-dvd.iso:/home/imagebuilder/rhel-8.7-x86_64-dvd.iso <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --network host <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">RHSM_USER</span><span class="o">={</span>ID<span class="o">}</span> --env <span class="nv">RHSM_PASS</span><span class="o">={</span>PW<span class="o">}</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">PACKER_VAR_FILES</span><span class="o">=</span><span class="s2">&#34;tkg.json vsphere.json&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">OVF_CUSTOM_PROPERTIES</span><span class="o">=</span>/home/imagebuilder/metadata.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">IB_OVFTOOL</span><span class="o">=</span><span class="m">1</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">IB_OVFTOOL_ARGS</span><span class="o">=</span><span class="s2">&#34;--allowExtraConfig&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  projects.registry.vmware.com/tkg/image-builder:v0.1.13_vmware.2 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  build-node-ova-vsphere-rhel-8
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 2.1 설정</span>
</span></span><span class="line"><span class="cl">docker run -it --rm <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/vsphere.json:/home/imagebuilder/vsphere.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/tkg.json:/home/imagebuilder/tkg.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/tkg:/home/imagebuilder/tkg <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/goss/vsphere-rhel-8-v1.24.9+vmware.1-tkg_v2_1_0-goss-spec.yaml:/home/imagebuilder/goss/goss.yaml <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/metadata.json:/home/imagebuilder/metadata.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/output:/home/imagebuilder/output <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/rhel-8.json:/home/imagebuilder/packer/ova/rhel-8.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/ks.cfg:/home/imagebuilder/packer/ova/linux/photon/http/3/ks.cfg <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/rhel-8.7-x86_64-dvd.iso:/home/imagebuilder/rhel-8.7-x86_64-dvd.iso <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --network host <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">RHSM_USER</span><span class="o">={</span>ID<span class="o">}</span> --env <span class="nv">RHSM_PASS</span><span class="o">={</span>PW<span class="o">}</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">PACKER_VAR_FILES</span><span class="o">=</span><span class="s2">&#34;tkg.json vsphere.json&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">OVF_CUSTOM_PROPERTIES</span><span class="o">=</span>/home/imagebuilder/metadata.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">IB_OVFTOOL</span><span class="o">=</span><span class="m">1</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">IB_OVFTOOL_ARGS</span><span class="o">=</span><span class="s2">&#34;--allowExtraConfig&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  projects.registry.vmware.com/tkg/image-builder:v0.1.13_vmware.2 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  build-node-ova-vsphere-rhel-8
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div></p>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>LOG<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><h2 id="rhel-8-이미지-로그">rhel 8 이미지 로그</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span><span class="lnt">192
</span><span class="lnt">193
</span><span class="lnt">194
</span><span class="lnt">195
</span><span class="lnt">196
</span><span class="lnt">197
</span><span class="lnt">198
</span><span class="lnt">199
</span><span class="lnt">200
</span><span class="lnt">201
</span><span class="lnt">202
</span><span class="lnt">203
</span><span class="lnt">204
</span><span class="lnt">205
</span><span class="lnt">206
</span><span class="lnt">207
</span><span class="lnt">208
</span><span class="lnt">209
</span><span class="lnt">210
</span><span class="lnt">211
</span><span class="lnt">212
</span><span class="lnt">213
</span><span class="lnt">214
</span><span class="lnt">215
</span><span class="lnt">216
</span><span class="lnt">217
</span><span class="lnt">218
</span><span class="lnt">219
</span><span class="lnt">220
</span><span class="lnt">221
</span><span class="lnt">222
</span><span class="lnt">223
</span><span class="lnt">224
</span><span class="lnt">225
</span><span class="lnt">226
</span><span class="lnt">227
</span><span class="lnt">228
</span><span class="lnt">229
</span><span class="lnt">230
</span><span class="lnt">231
</span><span class="lnt">232
</span><span class="lnt">233
</span><span class="lnt">234
</span><span class="lnt">235
</span><span class="lnt">236
</span><span class="lnt">237
</span><span class="lnt">238
</span><span class="lnt">239
</span><span class="lnt">240
</span><span class="lnt">241
</span><span class="lnt">242
</span><span class="lnt">243
</span><span class="lnt">244
</span><span class="lnt">245
</span><span class="lnt">246
</span><span class="lnt">247
</span><span class="lnt">248
</span><span class="lnt">249
</span><span class="lnt">250
</span><span class="lnt">251
</span><span class="lnt">252
</span><span class="lnt">253
</span><span class="lnt">254
</span><span class="lnt">255
</span><span class="lnt">256
</span><span class="lnt">257
</span><span class="lnt">258
</span><span class="lnt">259
</span><span class="lnt">260
</span><span class="lnt">261
</span><span class="lnt">262
</span><span class="lnt">263
</span><span class="lnt">264
</span><span class="lnt">265
</span><span class="lnt">266
</span><span class="lnt">267
</span><span class="lnt">268
</span><span class="lnt">269
</span><span class="lnt">270
</span><span class="lnt">271
</span><span class="lnt">272
</span><span class="lnt">273
</span><span class="lnt">274
</span><span class="lnt">275
</span><span class="lnt">276
</span><span class="lnt">277
</span><span class="lnt">278
</span><span class="lnt">279
</span><span class="lnt">280
</span><span class="lnt">281
</span><span class="lnt">282
</span><span class="lnt">283
</span><span class="lnt">284
</span><span class="lnt">285
</span><span class="lnt">286
</span><span class="lnt">287
</span><span class="lnt">288
</span><span class="lnt">289
</span><span class="lnt">290
</span><span class="lnt">291
</span><span class="lnt">292
</span><span class="lnt">293
</span><span class="lnt">294
</span><span class="lnt">295
</span><span class="lnt">296
</span><span class="lnt">297
</span><span class="lnt">298
</span><span class="lnt">299
</span><span class="lnt">300
</span><span class="lnt">301
</span><span class="lnt">302
</span><span class="lnt">303
</span><span class="lnt">304
</span><span class="lnt">305
</span><span class="lnt">306
</span><span class="lnt">307
</span><span class="lnt">308
</span><span class="lnt">309
</span><span class="lnt">310
</span><span class="lnt">311
</span><span class="lnt">312
</span><span class="lnt">313
</span><span class="lnt">314
</span><span class="lnt">315
</span><span class="lnt">316
</span><span class="lnt">317
</span><span class="lnt">318
</span><span class="lnt">319
</span><span class="lnt">320
</span><span class="lnt">321
</span><span class="lnt">322
</span><span class="lnt">323
</span><span class="lnt">324
</span><span class="lnt">325
</span><span class="lnt">326
</span><span class="lnt">327
</span><span class="lnt">328
</span><span class="lnt">329
</span><span class="lnt">330
</span><span class="lnt">331
</span><span class="lnt">332
</span><span class="lnt">333
</span><span class="lnt">334
</span><span class="lnt">335
</span><span class="lnt">336
</span><span class="lnt">337
</span><span class="lnt">338
</span><span class="lnt">339
</span><span class="lnt">340
</span><span class="lnt">341
</span><span class="lnt">342
</span><span class="lnt">343
</span><span class="lnt">344
</span><span class="lnt">345
</span><span class="lnt">346
</span><span class="lnt">347
</span><span class="lnt">348
</span><span class="lnt">349
</span><span class="lnt">350
</span><span class="lnt">351
</span><span class="lnt">352
</span><span class="lnt">353
</span><span class="lnt">354
</span><span class="lnt">355
</span><span class="lnt">356
</span><span class="lnt">357
</span><span class="lnt">358
</span><span class="lnt">359
</span><span class="lnt">360
</span><span class="lnt">361
</span><span class="lnt">362
</span><span class="lnt">363
</span><span class="lnt">364
</span><span class="lnt">365
</span><span class="lnt">366
</span><span class="lnt">367
</span><span class="lnt">368
</span><span class="lnt">369
</span><span class="lnt">370
</span><span class="lnt">371
</span><span class="lnt">372
</span><span class="lnt">373
</span><span class="lnt">374
</span><span class="lnt">375
</span><span class="lnt">376
</span><span class="lnt">377
</span><span class="lnt">378
</span><span class="lnt">379
</span><span class="lnt">380
</span><span class="lnt">381
</span><span class="lnt">382
</span><span class="lnt">383
</span><span class="lnt">384
</span><span class="lnt">385
</span><span class="lnt">386
</span><span class="lnt">387
</span><span class="lnt">388
</span><span class="lnt">389
</span><span class="lnt">390
</span><span class="lnt">391
</span><span class="lnt">392
</span><span class="lnt">393
</span><span class="lnt">394
</span><span class="lnt">395
</span><span class="lnt">396
</span><span class="lnt">397
</span><span class="lnt">398
</span><span class="lnt">399
</span><span class="lnt">400
</span><span class="lnt">401
</span><span class="lnt">402
</span><span class="lnt">403
</span><span class="lnt">404
</span><span class="lnt">405
</span><span class="lnt">406
</span><span class="lnt">407
</span><span class="lnt">408
</span><span class="lnt">409
</span><span class="lnt">410
</span><span class="lnt">411
</span><span class="lnt">412
</span><span class="lnt">413
</span><span class="lnt">414
</span><span class="lnt">415
</span><span class="lnt">416
</span><span class="lnt">417
</span><span class="lnt">418
</span><span class="lnt">419
</span><span class="lnt">420
</span><span class="lnt">421
</span><span class="lnt">422
</span><span class="lnt">423
</span><span class="lnt">424
</span><span class="lnt">425
</span><span class="lnt">426
</span><span class="lnt">427
</span><span class="lnt">428
</span><span class="lnt">429
</span><span class="lnt">430
</span><span class="lnt">431
</span><span class="lnt">432
</span><span class="lnt">433
</span><span class="lnt">434
</span><span class="lnt">435
</span><span class="lnt">436
</span><span class="lnt">437
</span><span class="lnt">438
</span><span class="lnt">439
</span><span class="lnt">440
</span><span class="lnt">441
</span><span class="lnt">442
</span><span class="lnt">443
</span><span class="lnt">444
</span><span class="lnt">445
</span><span class="lnt">446
</span><span class="lnt">447
</span><span class="lnt">448
</span><span class="lnt">449
</span><span class="lnt">450
</span><span class="lnt">451
</span><span class="lnt">452
</span><span class="lnt">453
</span><span class="lnt">454
</span><span class="lnt">455
</span><span class="lnt">456
</span><span class="lnt">457
</span><span class="lnt">458
</span><span class="lnt">459
</span><span class="lnt">460
</span><span class="lnt">461
</span><span class="lnt">462
</span><span class="lnt">463
</span><span class="lnt">464
</span><span class="lnt">465
</span><span class="lnt">466
</span><span class="lnt">467
</span><span class="lnt">468
</span><span class="lnt">469
</span><span class="lnt">470
</span><span class="lnt">471
</span><span class="lnt">472
</span><span class="lnt">473
</span><span class="lnt">474
</span><span class="lnt">475
</span><span class="lnt">476
</span><span class="lnt">477
</span><span class="lnt">478
</span><span class="lnt">479
</span><span class="lnt">480
</span><span class="lnt">481
</span><span class="lnt">482
</span><span class="lnt">483
</span><span class="lnt">484
</span><span class="lnt">485
</span><span class="lnt">486
</span><span class="lnt">487
</span><span class="lnt">488
</span><span class="lnt">489
</span><span class="lnt">490
</span><span class="lnt">491
</span><span class="lnt">492
</span><span class="lnt">493
</span><span class="lnt">494
</span><span class="lnt">495
</span><span class="lnt">496
</span><span class="lnt">497
</span><span class="lnt">498
</span><span class="lnt">499
</span><span class="lnt">500
</span><span class="lnt">501
</span><span class="lnt">502
</span><span class="lnt">503
</span><span class="lnt">504
</span><span class="lnt">505
</span><span class="lnt">506
</span><span class="lnt">507
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">hack/ensure-ansible.sh
</span></span><span class="line"><span class="cl">Starting galaxy collection install process
</span></span><span class="line"><span class="cl">Nothing to <span class="k">do</span>. All requested collections are already installed. If you want to reinstall them, consider using <span class="sb">`</span>--force<span class="sb">`</span>.
</span></span><span class="line"><span class="cl">hack/ensure-ansible-windows.sh
</span></span><span class="line"><span class="cl">hack/ensure-packer.sh
</span></span><span class="line"><span class="cl">hack/ensure-goss.sh
</span></span><span class="line"><span class="cl">Right version of binary present
</span></span><span class="line"><span class="cl">hack/ensure-ovftool.sh
</span></span><span class="line"><span class="cl">packer build -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/kubernetes.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/cni.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/containerd.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/ansible-args.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/goss-args.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/common.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/additional_components.json&#34;</span>  -color<span class="o">=</span><span class="nb">true</span>  -var-file<span class="o">=</span><span class="s2">&#34;packer/ova/packer-common.json&#34;</span> -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/ova/rhel-8.json&#34;</span> -var-file<span class="o">=</span><span class="s2">&#34;packer/ova/vsphere.json&#34;</span>  -except<span class="o">=</span><span class="nb">local</span> -only<span class="o">=</span>vsphere-iso -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/tkg.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/vsphere.json&#34;</span>  -only<span class="o">=</span>vsphere packer/ova/packer-node.json
</span></span><span class="line"><span class="cl">vsphere: output will be in this color.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Retrieving <span class="nv">ISO</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Trying ./rhel-8.7-x86_64-dvd.iso
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Trying ./rhel-8.7-x86_64-dvd.iso?checksum<span class="o">=</span>sha256%3Aa6a7418a75d721cc696d3cbdd648b5248808e7fef0f8742f518e43b46fa08139
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: ./rhel-8.7-x86_64-dvd.iso?checksum<span class="o">=</span>sha256%3Aa6a7418a75d721cc696d3cbdd648b5248808e7fef0f8742f518e43b46fa08139 <span class="o">=</span>&gt; /home/imagebuilder/rhel-8.7-x86_64-dvd.iso
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Uploading rhel-8.7-x86_64-dvd.iso to packer_cache/rhel-8.7-x86_64-dvd.iso
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Creating VM...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Customizing hardware...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Mounting ISO images...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Adding configuration parameters...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Starting HTTP server on port <span class="nv">8709</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Set boot order temporary...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Power on VM...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Waiting 10s <span class="k">for</span> boot...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: HTTP server is working at http://10.253.126.163:8709/
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Typing boot command...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Waiting <span class="k">for</span> IP...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: IP address: 10.253.126.195
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Using SSH communicator to connect: 10.253.126.195
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Waiting <span class="k">for</span> SSH to become available...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Connected to SSH!
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with shell script: ./packer/files/flatcar/scripts/bootstrap-flatcar.sh
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with Ansible...
</span></span><span class="line"><span class="cl">    vsphere: Setting up proxy adapter <span class="k">for</span> Ansible....
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Executing Ansible: ansible-playbook -e <span class="nv">packer_build_name</span><span class="o">=</span><span class="s2">&#34;vsphere&#34;</span> -e packer_*****_type<span class="o">=</span>vsphere-iso -e <span class="nv">packer_http_addr</span><span class="o">=</span>10.253.126.163:8709 --ssh-extra-args <span class="s1">&#39;-o IdentitiesOnly=yes&#39;</span> --extra-vars <span class="nv">containerd_url</span><span class="o">=</span>http://10.253.126.163:3000/files/containerd/cri-containerd-v1.6.6+vmware.2.linux-amd64.tar <span class="nv">containerd_sha256</span><span class="o">=</span>48f4327570dd7543464a28893160ab3bc9719ed2553f0a529a884b40f6dafd29 <span class="nv">pause_image</span><span class="o">=</span>projects.registry.vmware.com/tkg/pause:3.6 <span class="nv">containerd_additional_settings</span><span class="o">=</span> <span class="nv">containerd_cri_socket</span><span class="o">=</span>/var/run/containerd/containerd.sock <span class="nv">containerd_version</span><span class="o">=</span>v1.6.6+vmware.2 <span class="nv">crictl_url</span><span class="o">=</span> <span class="nv">crictl_sha256</span><span class="o">=</span> <span class="nv">crictl_source_type</span><span class="o">=</span>pkg <span class="nv">custom_role_names</span><span class="o">=</span><span class="s2">&#34;/home/image*****/tkg&#34;</span> <span class="nv">firstboot_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">firstboot_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">disable_public_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">extra_debs</span><span class="o">=</span><span class="s2">&#34;nfs-common unzip apparmor apparmor-utils sysstat&#34;</span> <span class="nv">extra_repos</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">extra_rpms</span><span class="o">=</span><span class="s2">&#34;sysstat&#34;</span> <span class="nv">http_proxy</span><span class="o">=</span> <span class="nv">https_proxy</span><span class="o">=</span> <span class="nv">kubeadm_template</span><span class="o">=</span>etc/kubeadm.yml <span class="nv">kubernetes_cni_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/cni_plugins <span class="nv">kubernetes_cni_http_checksum</span><span class="o">=</span> <span class="nv">kubernetes_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/kubernetes <span class="nv">kubernetes_container_registry</span><span class="o">=</span>projects.registry.vmware.com/tkg <span class="nv">kubernetes_rpm_repo</span><span class="o">=</span>https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64 <span class="nv">kubernetes_rpm_gpg_key</span><span class="o">=</span><span class="s2">&#34;https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg&#34;</span> <span class="nv">kubernetes_rpm_gpg_check</span><span class="o">=</span>True <span class="nv">kubernetes_deb_repo</span><span class="o">=</span><span class="s2">&#34;https://apt.kubernetes.io/ kubernetes-xenial&#34;</span> <span class="nv">kubernetes_deb_gpg_key</span><span class="o">=</span>https://packages.cloud.google.com/apt/doc/apt-key.gpg <span class="nv">kubernetes_cni_deb_version</span><span class="o">=</span>1.1.1-00 <span class="nv">kubernetes_cni_rpm_version</span><span class="o">=</span>1.1.1-0 <span class="nv">kubernetes_cni_semver</span><span class="o">=</span>v1.1.1+vmware.7 <span class="nv">kubernetes_cni_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_semver</span><span class="o">=</span>v1.23.10+vmware.1 <span class="nv">kubernetes_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_load_additional_imgs</span><span class="o">=</span><span class="nb">true</span> <span class="nv">kubernetes_deb_version</span><span class="o">=</span>1.23.10-00 <span class="nv">kubernetes_rpm_version</span><span class="o">=</span>1.23.10-0 <span class="nv">no_proxy</span><span class="o">=</span> <span class="nv">pip_conf_file</span><span class="o">=</span> <span class="nv">python_path</span><span class="o">=</span> <span class="nv">redhat_epel_rpm</span><span class="o">=</span>https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm <span class="nv">epel_rpm_gpg_key</span><span class="o">=</span>https://dl.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-8 <span class="nv">reenable_public_repos</span><span class="o">=</span><span class="nb">true</span> <span class="nv">remove_extra_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">systemd_prefix</span><span class="o">=</span>/usr/lib/systemd <span class="nv">sysusr_prefix</span><span class="o">=</span>/usr <span class="nv">sysusrlocal_prefix</span><span class="o">=</span>/usr/local <span class="nv">load_additional_components</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images_list</span><span class="o">=</span> <span class="nv">additional_url_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_url_images_list</span><span class="o">=</span> <span class="nv">additional_executables</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_executables_list</span><span class="o">=</span> <span class="nv">additional_executables_destination_path</span><span class="o">=</span> <span class="nv">build_target</span><span class="o">=</span>virt <span class="nv">amazon_ssm_agent_rpm</span><span class="o">=</span> --extra-vars <span class="nv">guestinfo_datasource_slug</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo <span class="nv">guestinfo_datasource_ref</span><span class="o">=</span>v1.4.1 <span class="nv">guestinfo_datasource_script</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo/v1.4.1/install.sh --extra-vars  -e <span class="nv">ansible_ssh_private_key_file</span><span class="o">=</span>/tmp/ansible-key1071931383 -i /tmp/packer-provisioner-ansible1131624432 /home/image*****/ansible/firstboot.yml
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY <span class="o">[</span>all<span class="o">]</span> *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>Gathering Facts<span class="o">]</span> *********************************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : firstboot<span class="o">]</span> ************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY RECAP *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere: default                    : <span class="nv">ok</span><span class="o">=</span><span class="m">1</span>    <span class="nv">changed</span><span class="o">=</span><span class="m">0</span>    <span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span>    <span class="nv">failed</span><span class="o">=</span><span class="m">0</span>    <span class="nv">skipped</span><span class="o">=</span><span class="m">80</span>   <span class="nv">rescued</span><span class="o">=</span><span class="m">0</span>    <span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with shell script: /tmp/packer-shell2138983735
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with Ansible...
</span></span><span class="line"><span class="cl">    vsphere: Setting up proxy adapter <span class="k">for</span> Ansible....
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Executing Ansible: ansible-playbook -e <span class="nv">packer_build_name</span><span class="o">=</span><span class="s2">&#34;vsphere&#34;</span> -e packer_*****_type<span class="o">=</span>vsphere-iso -e <span class="nv">packer_http_addr</span><span class="o">=</span>10.253.126.163:8709 --ssh-extra-args <span class="s1">&#39;-o IdentitiesOnly=yes&#39;</span> --extra-vars <span class="nv">containerd_url</span><span class="o">=</span>http://10.253.126.163:3000/files/containerd/cri-containerd-v1.6.6+vmware.2.linux-amd64.tar <span class="nv">containerd_sha256</span><span class="o">=</span>48f4327570dd7543464a28893160ab3bc9719ed2553f0a529a884b40f6dafd29 <span class="nv">pause_image</span><span class="o">=</span>projects.registry.vmware.com/tkg/pause:3.6 <span class="nv">containerd_additional_settings</span><span class="o">=</span> <span class="nv">containerd_cri_socket</span><span class="o">=</span>/var/run/containerd/containerd.sock <span class="nv">containerd_version</span><span class="o">=</span>v1.6.6+vmware.2 <span class="nv">crictl_url</span><span class="o">=</span> <span class="nv">crictl_sha256</span><span class="o">=</span> <span class="nv">crictl_source_type</span><span class="o">=</span>pkg <span class="nv">custom_role_names</span><span class="o">=</span><span class="s2">&#34;/home/image*****/tkg&#34;</span> <span class="nv">firstboot_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">firstboot_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">disable_public_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">extra_debs</span><span class="o">=</span><span class="s2">&#34;nfs-common unzip apparmor apparmor-utils sysstat&#34;</span> <span class="nv">extra_repos</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">extra_rpms</span><span class="o">=</span><span class="s2">&#34;sysstat&#34;</span> <span class="nv">http_proxy</span><span class="o">=</span> <span class="nv">https_proxy</span><span class="o">=</span> <span class="nv">kubeadm_template</span><span class="o">=</span>etc/kubeadm.yml <span class="nv">kubernetes_cni_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/cni_plugins <span class="nv">kubernetes_cni_http_checksum</span><span class="o">=</span> <span class="nv">kubernetes_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/kubernetes <span class="nv">kubernetes_container_registry</span><span class="o">=</span>projects.registry.vmware.com/tkg <span class="nv">kubernetes_rpm_repo</span><span class="o">=</span>https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64 <span class="nv">kubernetes_rpm_gpg_key</span><span class="o">=</span><span class="s2">&#34;https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg&#34;</span> <span class="nv">kubernetes_rpm_gpg_check</span><span class="o">=</span>True <span class="nv">kubernetes_deb_repo</span><span class="o">=</span><span class="s2">&#34;https://apt.kubernetes.io/ kubernetes-xenial&#34;</span> <span class="nv">kubernetes_deb_gpg_key</span><span class="o">=</span>https://packages.cloud.google.com/apt/doc/apt-key.gpg <span class="nv">kubernetes_cni_deb_version</span><span class="o">=</span>1.1.1-00 <span class="nv">kubernetes_cni_rpm_version</span><span class="o">=</span>1.1.1-0 <span class="nv">kubernetes_cni_semver</span><span class="o">=</span>v1.1.1+vmware.7 <span class="nv">kubernetes_cni_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_semver</span><span class="o">=</span>v1.23.10+vmware.1 <span class="nv">kubernetes_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_load_additional_imgs</span><span class="o">=</span><span class="nb">true</span> <span class="nv">kubernetes_deb_version</span><span class="o">=</span>1.23.10-00 <span class="nv">kubernetes_rpm_version</span><span class="o">=</span>1.23.10-0 <span class="nv">no_proxy</span><span class="o">=</span> <span class="nv">pip_conf_file</span><span class="o">=</span> <span class="nv">python_path</span><span class="o">=</span> <span class="nv">redhat_epel_rpm</span><span class="o">=</span>https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm <span class="nv">epel_rpm_gpg_key</span><span class="o">=</span>https://dl.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-8 <span class="nv">reenable_public_repos</span><span class="o">=</span><span class="nb">true</span> <span class="nv">remove_extra_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">systemd_prefix</span><span class="o">=</span>/usr/lib/systemd <span class="nv">sysusr_prefix</span><span class="o">=</span>/usr <span class="nv">sysusrlocal_prefix</span><span class="o">=</span>/usr/local <span class="nv">load_additional_components</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images_list</span><span class="o">=</span> <span class="nv">additional_url_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_url_images_list</span><span class="o">=</span> <span class="nv">additional_executables</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_executables_list</span><span class="o">=</span> <span class="nv">additional_executables_destination_path</span><span class="o">=</span> <span class="nv">build_target</span><span class="o">=</span>virt <span class="nv">amazon_ssm_agent_rpm</span><span class="o">=</span> --extra-vars <span class="nv">guestinfo_datasource_slug</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo <span class="nv">guestinfo_datasource_ref</span><span class="o">=</span>v1.4.1 <span class="nv">guestinfo_datasource_script</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo/v1.4.1/install.sh --extra-vars  -e <span class="nv">ansible_ssh_private_key_file</span><span class="o">=</span>/tmp/ansible-key652222647 -i /tmp/packer-provisioner-ansible1252180858 /home/image*****/ansible/node.yml
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY <span class="o">[</span>all<span class="o">]</span> *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>Gathering Facts<span class="o">]</span> *********************************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : node<span class="o">]</span> *****************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : RHEL subscription<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : import epel gpg key<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : add epel repo<span class="o">]</span> ***************************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : perform a yum update<span class="o">]</span> ********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : install baseline dependencies<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : install extra rpms<span class="o">]</span> **********************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Ensure overlay module is present<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Ensure br_netfilter module is present<span class="o">]</span> ****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Persist required kernel modules<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Set and persist kernel params<span class="o">]</span> ************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.bridge.bridge-nf-call-iptables&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.bridge.bridge-nf-call-ip6tables&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.ip_forward&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.conf.all.forwarding&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.conf.all.disable_ipv6&#39;</span>, <span class="s1">&#39;val&#39;</span>: 0<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.tcp_congestion_control&#39;</span>, <span class="s1">&#39;val&#39;</span>: <span class="s1">&#39;bbr&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;vm.overcommit_memory&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;kernel.panic&#39;</span>, <span class="s1">&#39;val&#39;</span>: 10<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;kernel.panic_on_oops&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Disable conntrackd service<span class="o">]</span> ***************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Ensure auditd is running and comes on at reboot<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : configure auditd rules <span class="k">for</span> containerd<span class="o">]</span> ****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Set transparent huge pages to madvise<span class="o">]</span> ****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Copy udev etcd network tuning rules<span class="o">]</span> ******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Copy etcd network tuning script<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : providers<span class="o">]</span> ************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : include_tasks<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere: included: /home/imagebuilder/ansible/roles/providers/tasks/vmware.yml <span class="k">for</span> default
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : include_tasks<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere: included: /home/imagebuilder/ansible/roles/providers/tasks/vmware-redhat.yml <span class="k">for</span> default
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Install cloud-init packages<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Download cloud-init datasource <span class="k">for</span> VMware Guestinfo<span class="o">]</span> *********
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Execute cloud-init-vmware.sh<span class="o">]</span> ********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Remove cloud-init-vmware.sh<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create provider vmtools config drop-in file<span class="o">]</span> *****************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create service to modify cloud-init config<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Copy cloud-init modification script<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Enable modify-cloud-init-cfg.service<span class="o">]</span> ************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Creates unit file directory <span class="k">for</span> cloud-final<span class="o">]</span> *****************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create cloud-final boot order drop in file<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Creates unit file directory <span class="k">for</span> cloud-config<span class="o">]</span> ****************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create cloud-final boot order drop in file<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Make sure all cloud init services are enabled<span class="o">]</span> ***************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-final<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-config<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-init<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-init-local<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create cloud-init config file<span class="o">]</span> *******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Ensure chrony is running<span class="o">]</span> ************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : containerd<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Install libseccomp package<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : download containerd<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create a directory <span class="k">if</span> it does not exist<span class="o">]</span> ********************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : unpack containerd<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : delete /opt/cni directory<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : delete /etc/cni directory<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Creates unit file directory<span class="o">]</span> ********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create containerd memory pressure drop in file<span class="o">]</span> *************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create containerd max tasks drop in file<span class="o">]</span> *******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create containerd http proxy conf file <span class="k">if</span> needed<span class="o">]</span> ***********
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Creates containerd config directory<span class="o">]</span> ************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Copy in containerd config file etc/containerd/config.toml<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Copy in crictl config<span class="o">]</span> **************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : start containerd service<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : delete tarball<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : kubernetes<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Symlink cri-tools<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>ctr<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>crictl<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>critest<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create CNI directory<span class="o">]</span> ***************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Download CNI tarball<span class="o">]</span> ***************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Install CNI<span class="o">]</span> ************************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Remove CNI tarball<span class="o">]</span> *****************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Download Kubernetes binaries<span class="o">]</span> *******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kubeadm<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kubectl<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kubelet<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Download Kubernetes images<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-apiserver.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-controller-manager.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-scheduler.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-proxy.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>pause.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>coredns.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>etcd.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Load Kubernetes images<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-apiserver.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-controller-manager.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-scheduler.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-proxy.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>pause.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>coredns.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>etcd.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Remove Kubernetes images<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-apiserver.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-controller-manager.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-scheduler.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-proxy.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>pause.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>coredns.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>etcd.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create Kubernetes manifests directory<span class="o">]</span> **********************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet sysconfig directory<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet drop-in directory<span class="o">]</span> ***************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet kubeadm drop-in file<span class="o">]</span> ************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet systemd file<span class="o">]</span> ********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet default config file<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Enable kubelet service<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create the Kubernetes version file<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Check <span class="k">if</span> Kubernetes container registry is using Amazon ECR<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : <span class="o">{{</span> role <span class="o">}}]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : Create /tkg-tmp space<span class="o">]</span> **************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : include_tasks<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: included: /home/imagebuilder/tkg/tasks/vsphere.yml <span class="k">for</span> default
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : Set extra kernel params <span class="k">for</span> GC threshhold<span class="o">]</span> ******
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.neigh.default.gc_thresh1&#39;</span>, <span class="s1">&#39;val&#39;</span>: 4096<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.neigh.default.gc_thresh1&#39;</span>, <span class="s1">&#39;val&#39;</span>: 4096<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.neigh.default.gc_thresh2&#39;</span>, <span class="s1">&#39;val&#39;</span>: 8192<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.neigh.default.gc_thresh2&#39;</span>, <span class="s1">&#39;val&#39;</span>: 8192<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.neigh.default.gc_thresh3&#39;</span>, <span class="s1">&#39;val&#39;</span>: 16384<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.neigh.default.gc_thresh3&#39;</span>, <span class="s1">&#39;val&#39;</span>: 16384<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : Ensure fs.file-max is set<span class="o">]</span> **********************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : sysprep<span class="o">]</span> **************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Define file modes<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Get installed packages<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : create the package list<span class="o">]</span> ***************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : exclude the packages from upgrades<span class="o">]</span> ****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove subscriptions<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Unregister system<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : clean <span class="nb">local</span> subscription data<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove yum package caches<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove yum package lists<span class="o">]</span> **************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Reset network interface IDs<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove the kickstart log<span class="o">]</span> **************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove containerd http proxy conf file <span class="k">if</span> needed<span class="o">]</span> **************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate machine id<span class="o">]</span> *******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/machine-id&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0444&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/machine-id&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0444&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate hostname file<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/hostname&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/hostname&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Set hostname<span class="o">]</span> **************************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Reset hosts file<span class="o">]</span> **********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate audit logs<span class="o">]</span> *******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/wtmp&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0664&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/lastlog&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/wtmp&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0664&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/lastlog&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove cloud-init lib dir and logs<span class="o">]</span> ****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/lib/cloud<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/log/cloud-init.log<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/log/cloud-init-output.log<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/run/cloud-init<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Find temp files<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Reset temp space<span class="o">]</span> **********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/tmp.fstab&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 34, <span class="s1">&#39;inode&#39;</span>: 917558, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677598881.515565, <span class="s1">&#39;mtime&#39;</span>: 1677598881.511565, <span class="s1">&#39;ctime&#39;</span>: 1677598881.511565, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/ks-script-womie7ev&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 701, <span class="s1">&#39;inode&#39;</span>: 917515, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677598324.1556787, <span class="s1">&#39;mtime&#39;</span>: 1677598324.1486788, <span class="s1">&#39;ctime&#39;</span>: 1677598324.1486788, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/ks-script-8szmx8f8&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 291, <span class="s1">&#39;inode&#39;</span>: 917517, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677598326.7056713, <span class="s1">&#39;mtime&#39;</span>: 1677598326.6976714, <span class="s1">&#39;ctime&#39;</span>: 1677598326.6976714, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/systemd-private-b8ce99c5a00043e28de4419f4592fc36-systemd-hostnamed.service-a3ZTtU&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 917547, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677598962.1890013, <span class="s1">&#39;mtime&#39;</span>: 1677598962.1890013, <span class="s1">&#39;ctime&#39;</span>: 1677598962.1890013, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/systemd-private-b8ce99c5a00043e28de4419f4592fc36-chronyd.service-1qPo5I&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 917523, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677598344.4472764, <span class="s1">&#39;mtime&#39;</span>: 1677598344.4472764, <span class="s1">&#39;ctime&#39;</span>: 1677598344.4472764, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/vmware-root_756-2965382642&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 917527, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 2, <span class="s1">&#39;atime&#39;</span>: 1677598344.8446836, <span class="s1">&#39;mtime&#39;</span>: 1677598344.8446836, <span class="s1">&#39;ctime&#39;</span>: 1677598344.8446836, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/ansible_find_payload_zej9mp7r&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 917531, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 2, <span class="s1">&#39;atime&#39;</span>: 1677598971.9629292, <span class="s1">&#39;mtime&#39;</span>: 1677598971.9639292, <span class="s1">&#39;ctime&#39;</span>: 1677598971.9639292, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/tmp/systemd-private-b8ce99c5a00043e28de4419f4592fc36-systemd-hostnamed.service-xvJeOq&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 1050059, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677598962.1890013, <span class="s1">&#39;mtime&#39;</span>: 1677598962.1900015, <span class="s1">&#39;ctime&#39;</span>: 1677598962.1900015, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/tmp/systemd-private-b8ce99c5a00043e28de4419f4592fc36-chronyd.service-CiirL0&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 1050453, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677598344.4472764, <span class="s1">&#39;mtime&#39;</span>: 1677598344.4472764, <span class="s1">&#39;ctime&#39;</span>: 1677598344.4472764, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: <span class="o">[</span>WARNING<span class="o">]</span>: Skipped <span class="s1">&#39;/lib/netplan&#39;</span> path due to this access issue: <span class="s1">&#39;/lib/netplan&#39;</span>
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Find netplan files<span class="o">]</span> ********************************************
</span></span><span class="line"><span class="cl">    vsphere: is not a directory
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere: <span class="o">[</span>WARNING<span class="o">]</span>: Skipped <span class="s1">&#39;/etc/netplan&#39;</span> path due to this access issue: <span class="s1">&#39;/etc/netplan&#39;</span>
</span></span><span class="line"><span class="cl">    vsphere: is not a directory
</span></span><span class="line"><span class="cl">    vsphere: <span class="o">[</span>WARNING<span class="o">]</span>: Skipped <span class="s1">&#39;/run/netplan&#39;</span> path due to this access issue: <span class="s1">&#39;/run/netplan&#39;</span>
</span></span><span class="line"><span class="cl">    vsphere: is not a directory
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Find SSH host keys<span class="o">]</span> ********************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove SSH host keys<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ecdsa_key.pub&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 162, <span class="s1">&#39;inode&#39;</span>: 787156, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677598344.7996838, <span class="s1">&#39;mtime&#39;</span>: 1677598344.4712763, <span class="s1">&#39;ctime&#39;</span>: 1677598344.4872763, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ecdsa_key&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0640&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 995, <span class="s1">&#39;size&#39;</span>: 480, <span class="s1">&#39;inode&#39;</span>: 787155, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677598344.7996838, <span class="s1">&#39;mtime&#39;</span>: 1677598344.4712763, <span class="s1">&#39;ctime&#39;</span>: 1677598344.4812763, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;ssh_keys&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ed25519_key&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0640&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 995, <span class="s1">&#39;size&#39;</span>: 387, <span class="s1">&#39;inode&#39;</span>: 787153, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677598344.7996838, <span class="s1">&#39;mtime&#39;</span>: 1677598344.4712763, <span class="s1">&#39;ctime&#39;</span>: 1677598344.4852762, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;ssh_keys&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_rsa_key.pub&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 554, <span class="s1">&#39;inode&#39;</span>: 787158, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677598344.7996838, <span class="s1">&#39;mtime&#39;</span>: 1677598344.7286837, <span class="s1">&#39;ctime&#39;</span>: 1677598344.7676837, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_rsa_key&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0640&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 995, <span class="s1">&#39;size&#39;</span>: 2578, <span class="s1">&#39;inode&#39;</span>: 787157, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677598344.7986836, <span class="s1">&#39;mtime&#39;</span>: 1677598344.7286837, <span class="s1">&#39;ctime&#39;</span>: 1677598344.7676837, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;ssh_keys&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ed25519_key.pub&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 82, <span class="s1">&#39;inode&#39;</span>: 787154, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677598344.7996838, <span class="s1">&#39;mtime&#39;</span>: 1677598344.4712763, <span class="s1">&#39;ctime&#39;</span>: 1677598344.4872763, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove SSH authorized users<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/root/.ssh/authorized_keys&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/home/builder/.ssh/authorized_keys&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate all remaining log files in /var/log<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Delete all logrotated log zips<span class="o">]</span> ********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate shell history<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/root/.bash_history&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/home/builder/.bash_history&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Rotate journalctl to archive logs<span class="o">]</span> *****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove archived journalctl logs<span class="o">]</span> *******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY RECAP *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere: default                    : <span class="nv">ok</span><span class="o">=</span><span class="m">100</span>  <span class="nv">changed</span><span class="o">=</span><span class="m">77</span>   <span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span>    <span class="nv">failed</span><span class="o">=</span><span class="m">0</span>    <span class="nv">skipped</span><span class="o">=</span><span class="m">208</span>  <span class="nv">rescued</span><span class="o">=</span><span class="m">0</span>    <span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with <span class="nv">Goss</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Configured to run on Linux
</span></span><span class="line"><span class="cl">    vsphere: Creating directory: /tkg-tmp/goss
</span></span><span class="line"><span class="cl">    vsphere: Installing Goss from, https://github.com/aelsabbahy/goss/releases/download/v0.3.16/goss-linux-amd64
</span></span><span class="line"><span class="cl">    vsphere: Downloading Goss to /tkg-tmp/goss-linux-amd64
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  <span class="nv">Current</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:                                  Dload  Upload   Total   Spent    Left  <span class="nv">Speed</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:   <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>      <span class="m">0</span>      <span class="m">0</span> --:--:-- --:--:-- --:--:--     <span class="nv">0</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:   <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>      <span class="m">0</span>      <span class="m">0</span> --:--:-- --:--:-- --:--:--     <span class="nv">0</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: <span class="m">100</span> 11.8M  <span class="m">100</span> 11.8M    <span class="m">0</span>     <span class="m">0</span>  2901k      <span class="m">0</span>  0:00:04  0:00:04 --:--:-- 4025k
</span></span><span class="line"><span class="cl">    vsphere: goss version v0.3.16
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Uploading goss tests...
</span></span><span class="line"><span class="cl">    vsphere: Inline variables are --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;rhel&#34;,&#34;OS_VERSION&#34;:&#34;8&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span>
</span></span><span class="line"><span class="cl">    vsphere: Uploading Dir /home/imagebuilder/goss
</span></span><span class="line"><span class="cl">    vsphere: Creating directory: /tkg-tmp/goss/goss
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running goss tests...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running GOSS render command: <span class="nb">cd</span> /tkg-tmp/goss <span class="o">&amp;&amp;</span>  /tkg-tmp/goss-linux-amd64 --gossfile goss/goss.yaml  --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;rhel&#34;,&#34;OS_VERSION&#34;:&#34;8&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span> render &gt; /tmp/goss-spec.yaml
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: file error: <span class="nb">read</span> goss/goss.yaml: is a <span class="nv">directory</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Goss render <span class="nv">failed</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Inspect mode on : proceeding without failing <span class="nv">Packer</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running GOSS render debug command: <span class="nb">cd</span> /tkg-tmp/goss <span class="o">&amp;&amp;</span>  /tkg-tmp/goss-linux-amd64 --gossfile goss/goss.yaml  --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;rhel&#34;,&#34;OS_VERSION&#34;:&#34;8&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span> render -d &gt; /tmp/debug-goss-spec.yaml
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: file error: <span class="nb">read</span> goss/goss.yaml: is a <span class="nv">directory</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Goss render debug <span class="nv">failed</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Inspect mode on : proceeding without failing <span class="nv">Packer</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running GOSS validate command: <span class="nb">cd</span> /tkg-tmp/goss <span class="o">&amp;&amp;</span> sudo  /tkg-tmp/goss-linux-amd64 --gossfile goss/goss.yaml  --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;rhel&#34;,&#34;OS_VERSION&#34;:&#34;8&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span> validate --retry-timeout 0s --sleep 1s -f json -o pretty
</span></span><span class="line"><span class="cl">    vsphere: Error: file error: <span class="nb">read</span> goss/goss.yaml: is a <span class="nv">directory</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Goss validate <span class="nv">failed</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Inspect mode on : proceeding without failing <span class="nv">Packer</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Downloading spec file and debug info
</span></span><span class="line"><span class="cl">    vsphere: Downloading Goss specs from, /tmp/goss-spec.yaml and /tmp/debug-goss-spec.yaml to current <span class="nv">dir</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Executing shutdown command...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Deleting Floppy drives...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Eject CD-ROM drives...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Convert VM into template...
</span></span><span class="line"><span class="cl">    vsphere: Starting export...
</span></span><span class="line"><span class="cl">    vsphere: Downloading: rhel-8-kube-v1.23.10_vmware.1-disk-0.vmdk
</span></span><span class="line"><span class="cl">    vsphere: Exporting file: rhel-8-kube-v1.23.10_vmware.1-disk-0.vmdk
</span></span><span class="line"><span class="cl">    vsphere: Writing ovf...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Clear boot order...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running post-processor: packer-manifest <span class="o">(</span><span class="nb">type</span> manifest<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running post-processor: vsphere <span class="o">(</span><span class="nb">type</span> shell-local<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Running <span class="nb">local</span> shell script: /tmp/packer-shell4251240128
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Opening OVF source: rhel-8-kube-v1.23.10+vmware.1.ovf
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Opening OVA target: rhel-8-kube-v1.23.10+vmware.1.ova
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Writing OVA package: rhel-8-kube-v1.23.10+vmware.1.ova
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Transfer Completed
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Warning:
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>:  - No manifest file found.
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>:  - No supported manifest<span class="o">(</span>sha1, sha256, sha512<span class="o">)</span> entry found <span class="k">for</span>: <span class="s1">&#39;rhel-8-kube-v1.23.10_vmware.1-disk-0.vmdk&#39;</span>.
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Completed successfully
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: <span class="nb">cd</span> .
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: loaded rhel-8-kube-v1.23.10+vmware.1
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: create ovf rhel-8-kube-v1.23.10+vmware.1.ovf
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: creating OVA from rhel-8-kube-v1.23.10+vmware.1.ovf using ovftool
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: create ova checksum rhel-8-kube-v1.23.10+vmware.1.ova.sha256
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running post-processor: custom-post-processor <span class="o">(</span><span class="nb">type</span> shell-local<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Running <span class="nb">local</span> shell script: /tmp/packer-shell2087900433
</span></span><span class="line"><span class="cl">Build <span class="s1">&#39;vsphere&#39;</span> finished after <span class="m">25</span> minutes <span class="m">32</span> seconds.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; Wait completed after <span class="m">25</span> minutes <span class="m">32</span> <span class="nv">seconds</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; Builds finished. The artifacts of successful builds are:
</span></span><span class="line"><span class="cl">--&gt; vsphere: rhel-8-kube-v1.23.10_vmware.1
</span></span><span class="line"><span class="cl">--&gt; vsphere: rhel-8-kube-v1.23.10_vmware.1
</span></span><span class="line"><span class="cl">--&gt; vsphere: rhel-8-kube-v1.23.10_vmware.1
</span></span><span class="line"><span class="cl">--&gt; vsphere: rhel-8-kube-v1.23.10_vmware.1
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## output 폴더 OVA 생성</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 1.6 </span>
</span></span><span class="line"><span class="cl">ls output/rhel-8-kube-v1.23.10_vmware.1/
</span></span><span class="line"><span class="cl">packer-manifest.json  rhel-8-kube-v1.23.10+vmware.1.ova  rhel-8-kube-v1.23.10+vmware.1.ova.sha256  rhel-8-kube-v1.23.10+vmware.1.ovf  rhel-8-kube-v1.23.10_vmware.1-disk-0.vmdk  rhel-8-kube-v1.23.10_vmware.1.ovf
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 2.1</span>
</span></span><span class="line"><span class="cl">ls output/rhel-8-kube-v1.24.9_vmware.1/
</span></span><span class="line"><span class="cl">packer-manifest.json  rhel-8-kube-v1.24.9_vmware.1-disk-0.vmdk  rhel-8-kube-v1.24.9+vmware.1.ova  rhel-8-kube-v1.24.9+vmware.1.ova.sha256  rhel-8-kube-v1.24.9+vmware.1.ovf  rhel-8-kube-v1.24.9_vmware.1.ovf
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<h2 id="5-photon-custom-image-생성">5. Photon Custom Image 생성</h2>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>LOG<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">   1
</span><span class="lnt">   2
</span><span class="lnt">   3
</span><span class="lnt">   4
</span><span class="lnt">   5
</span><span class="lnt">   6
</span><span class="lnt">   7
</span><span class="lnt">   8
</span><span class="lnt">   9
</span><span class="lnt">  10
</span><span class="lnt">  11
</span><span class="lnt">  12
</span><span class="lnt">  13
</span><span class="lnt">  14
</span><span class="lnt">  15
</span><span class="lnt">  16
</span><span class="lnt">  17
</span><span class="lnt">  18
</span><span class="lnt">  19
</span><span class="lnt">  20
</span><span class="lnt">  21
</span><span class="lnt">  22
</span><span class="lnt">  23
</span><span class="lnt">  24
</span><span class="lnt">  25
</span><span class="lnt">  26
</span><span class="lnt">  27
</span><span class="lnt">  28
</span><span class="lnt">  29
</span><span class="lnt">  30
</span><span class="lnt">  31
</span><span class="lnt">  32
</span><span class="lnt">  33
</span><span class="lnt">  34
</span><span class="lnt">  35
</span><span class="lnt">  36
</span><span class="lnt">  37
</span><span class="lnt">  38
</span><span class="lnt">  39
</span><span class="lnt">  40
</span><span class="lnt">  41
</span><span class="lnt">  42
</span><span class="lnt">  43
</span><span class="lnt">  44
</span><span class="lnt">  45
</span><span class="lnt">  46
</span><span class="lnt">  47
</span><span class="lnt">  48
</span><span class="lnt">  49
</span><span class="lnt">  50
</span><span class="lnt">  51
</span><span class="lnt">  52
</span><span class="lnt">  53
</span><span class="lnt">  54
</span><span class="lnt">  55
</span><span class="lnt">  56
</span><span class="lnt">  57
</span><span class="lnt">  58
</span><span class="lnt">  59
</span><span class="lnt">  60
</span><span class="lnt">  61
</span><span class="lnt">  62
</span><span class="lnt">  63
</span><span class="lnt">  64
</span><span class="lnt">  65
</span><span class="lnt">  66
</span><span class="lnt">  67
</span><span class="lnt">  68
</span><span class="lnt">  69
</span><span class="lnt">  70
</span><span class="lnt">  71
</span><span class="lnt">  72
</span><span class="lnt">  73
</span><span class="lnt">  74
</span><span class="lnt">  75
</span><span class="lnt">  76
</span><span class="lnt">  77
</span><span class="lnt">  78
</span><span class="lnt">  79
</span><span class="lnt">  80
</span><span class="lnt">  81
</span><span class="lnt">  82
</span><span class="lnt">  83
</span><span class="lnt">  84
</span><span class="lnt">  85
</span><span class="lnt">  86
</span><span class="lnt">  87
</span><span class="lnt">  88
</span><span class="lnt">  89
</span><span class="lnt">  90
</span><span class="lnt">  91
</span><span class="lnt">  92
</span><span class="lnt">  93
</span><span class="lnt">  94
</span><span class="lnt">  95
</span><span class="lnt">  96
</span><span class="lnt">  97
</span><span class="lnt">  98
</span><span class="lnt">  99
</span><span class="lnt"> 100
</span><span class="lnt"> 101
</span><span class="lnt"> 102
</span><span class="lnt"> 103
</span><span class="lnt"> 104
</span><span class="lnt"> 105
</span><span class="lnt"> 106
</span><span class="lnt"> 107
</span><span class="lnt"> 108
</span><span class="lnt"> 109
</span><span class="lnt"> 110
</span><span class="lnt"> 111
</span><span class="lnt"> 112
</span><span class="lnt"> 113
</span><span class="lnt"> 114
</span><span class="lnt"> 115
</span><span class="lnt"> 116
</span><span class="lnt"> 117
</span><span class="lnt"> 118
</span><span class="lnt"> 119
</span><span class="lnt"> 120
</span><span class="lnt"> 121
</span><span class="lnt"> 122
</span><span class="lnt"> 123
</span><span class="lnt"> 124
</span><span class="lnt"> 125
</span><span class="lnt"> 126
</span><span class="lnt"> 127
</span><span class="lnt"> 128
</span><span class="lnt"> 129
</span><span class="lnt"> 130
</span><span class="lnt"> 131
</span><span class="lnt"> 132
</span><span class="lnt"> 133
</span><span class="lnt"> 134
</span><span class="lnt"> 135
</span><span class="lnt"> 136
</span><span class="lnt"> 137
</span><span class="lnt"> 138
</span><span class="lnt"> 139
</span><span class="lnt"> 140
</span><span class="lnt"> 141
</span><span class="lnt"> 142
</span><span class="lnt"> 143
</span><span class="lnt"> 144
</span><span class="lnt"> 145
</span><span class="lnt"> 146
</span><span class="lnt"> 147
</span><span class="lnt"> 148
</span><span class="lnt"> 149
</span><span class="lnt"> 150
</span><span class="lnt"> 151
</span><span class="lnt"> 152
</span><span class="lnt"> 153
</span><span class="lnt"> 154
</span><span class="lnt"> 155
</span><span class="lnt"> 156
</span><span class="lnt"> 157
</span><span class="lnt"> 158
</span><span class="lnt"> 159
</span><span class="lnt"> 160
</span><span class="lnt"> 161
</span><span class="lnt"> 162
</span><span class="lnt"> 163
</span><span class="lnt"> 164
</span><span class="lnt"> 165
</span><span class="lnt"> 166
</span><span class="lnt"> 167
</span><span class="lnt"> 168
</span><span class="lnt"> 169
</span><span class="lnt"> 170
</span><span class="lnt"> 171
</span><span class="lnt"> 172
</span><span class="lnt"> 173
</span><span class="lnt"> 174
</span><span class="lnt"> 175
</span><span class="lnt"> 176
</span><span class="lnt"> 177
</span><span class="lnt"> 178
</span><span class="lnt"> 179
</span><span class="lnt"> 180
</span><span class="lnt"> 181
</span><span class="lnt"> 182
</span><span class="lnt"> 183
</span><span class="lnt"> 184
</span><span class="lnt"> 185
</span><span class="lnt"> 186
</span><span class="lnt"> 187
</span><span class="lnt"> 188
</span><span class="lnt"> 189
</span><span class="lnt"> 190
</span><span class="lnt"> 191
</span><span class="lnt"> 192
</span><span class="lnt"> 193
</span><span class="lnt"> 194
</span><span class="lnt"> 195
</span><span class="lnt"> 196
</span><span class="lnt"> 197
</span><span class="lnt"> 198
</span><span class="lnt"> 199
</span><span class="lnt"> 200
</span><span class="lnt"> 201
</span><span class="lnt"> 202
</span><span class="lnt"> 203
</span><span class="lnt"> 204
</span><span class="lnt"> 205
</span><span class="lnt"> 206
</span><span class="lnt"> 207
</span><span class="lnt"> 208
</span><span class="lnt"> 209
</span><span class="lnt"> 210
</span><span class="lnt"> 211
</span><span class="lnt"> 212
</span><span class="lnt"> 213
</span><span class="lnt"> 214
</span><span class="lnt"> 215
</span><span class="lnt"> 216
</span><span class="lnt"> 217
</span><span class="lnt"> 218
</span><span class="lnt"> 219
</span><span class="lnt"> 220
</span><span class="lnt"> 221
</span><span class="lnt"> 222
</span><span class="lnt"> 223
</span><span class="lnt"> 224
</span><span class="lnt"> 225
</span><span class="lnt"> 226
</span><span class="lnt"> 227
</span><span class="lnt"> 228
</span><span class="lnt"> 229
</span><span class="lnt"> 230
</span><span class="lnt"> 231
</span><span class="lnt"> 232
</span><span class="lnt"> 233
</span><span class="lnt"> 234
</span><span class="lnt"> 235
</span><span class="lnt"> 236
</span><span class="lnt"> 237
</span><span class="lnt"> 238
</span><span class="lnt"> 239
</span><span class="lnt"> 240
</span><span class="lnt"> 241
</span><span class="lnt"> 242
</span><span class="lnt"> 243
</span><span class="lnt"> 244
</span><span class="lnt"> 245
</span><span class="lnt"> 246
</span><span class="lnt"> 247
</span><span class="lnt"> 248
</span><span class="lnt"> 249
</span><span class="lnt"> 250
</span><span class="lnt"> 251
</span><span class="lnt"> 252
</span><span class="lnt"> 253
</span><span class="lnt"> 254
</span><span class="lnt"> 255
</span><span class="lnt"> 256
</span><span class="lnt"> 257
</span><span class="lnt"> 258
</span><span class="lnt"> 259
</span><span class="lnt"> 260
</span><span class="lnt"> 261
</span><span class="lnt"> 262
</span><span class="lnt"> 263
</span><span class="lnt"> 264
</span><span class="lnt"> 265
</span><span class="lnt"> 266
</span><span class="lnt"> 267
</span><span class="lnt"> 268
</span><span class="lnt"> 269
</span><span class="lnt"> 270
</span><span class="lnt"> 271
</span><span class="lnt"> 272
</span><span class="lnt"> 273
</span><span class="lnt"> 274
</span><span class="lnt"> 275
</span><span class="lnt"> 276
</span><span class="lnt"> 277
</span><span class="lnt"> 278
</span><span class="lnt"> 279
</span><span class="lnt"> 280
</span><span class="lnt"> 281
</span><span class="lnt"> 282
</span><span class="lnt"> 283
</span><span class="lnt"> 284
</span><span class="lnt"> 285
</span><span class="lnt"> 286
</span><span class="lnt"> 287
</span><span class="lnt"> 288
</span><span class="lnt"> 289
</span><span class="lnt"> 290
</span><span class="lnt"> 291
</span><span class="lnt"> 292
</span><span class="lnt"> 293
</span><span class="lnt"> 294
</span><span class="lnt"> 295
</span><span class="lnt"> 296
</span><span class="lnt"> 297
</span><span class="lnt"> 298
</span><span class="lnt"> 299
</span><span class="lnt"> 300
</span><span class="lnt"> 301
</span><span class="lnt"> 302
</span><span class="lnt"> 303
</span><span class="lnt"> 304
</span><span class="lnt"> 305
</span><span class="lnt"> 306
</span><span class="lnt"> 307
</span><span class="lnt"> 308
</span><span class="lnt"> 309
</span><span class="lnt"> 310
</span><span class="lnt"> 311
</span><span class="lnt"> 312
</span><span class="lnt"> 313
</span><span class="lnt"> 314
</span><span class="lnt"> 315
</span><span class="lnt"> 316
</span><span class="lnt"> 317
</span><span class="lnt"> 318
</span><span class="lnt"> 319
</span><span class="lnt"> 320
</span><span class="lnt"> 321
</span><span class="lnt"> 322
</span><span class="lnt"> 323
</span><span class="lnt"> 324
</span><span class="lnt"> 325
</span><span class="lnt"> 326
</span><span class="lnt"> 327
</span><span class="lnt"> 328
</span><span class="lnt"> 329
</span><span class="lnt"> 330
</span><span class="lnt"> 331
</span><span class="lnt"> 332
</span><span class="lnt"> 333
</span><span class="lnt"> 334
</span><span class="lnt"> 335
</span><span class="lnt"> 336
</span><span class="lnt"> 337
</span><span class="lnt"> 338
</span><span class="lnt"> 339
</span><span class="lnt"> 340
</span><span class="lnt"> 341
</span><span class="lnt"> 342
</span><span class="lnt"> 343
</span><span class="lnt"> 344
</span><span class="lnt"> 345
</span><span class="lnt"> 346
</span><span class="lnt"> 347
</span><span class="lnt"> 348
</span><span class="lnt"> 349
</span><span class="lnt"> 350
</span><span class="lnt"> 351
</span><span class="lnt"> 352
</span><span class="lnt"> 353
</span><span class="lnt"> 354
</span><span class="lnt"> 355
</span><span class="lnt"> 356
</span><span class="lnt"> 357
</span><span class="lnt"> 358
</span><span class="lnt"> 359
</span><span class="lnt"> 360
</span><span class="lnt"> 361
</span><span class="lnt"> 362
</span><span class="lnt"> 363
</span><span class="lnt"> 364
</span><span class="lnt"> 365
</span><span class="lnt"> 366
</span><span class="lnt"> 367
</span><span class="lnt"> 368
</span><span class="lnt"> 369
</span><span class="lnt"> 370
</span><span class="lnt"> 371
</span><span class="lnt"> 372
</span><span class="lnt"> 373
</span><span class="lnt"> 374
</span><span class="lnt"> 375
</span><span class="lnt"> 376
</span><span class="lnt"> 377
</span><span class="lnt"> 378
</span><span class="lnt"> 379
</span><span class="lnt"> 380
</span><span class="lnt"> 381
</span><span class="lnt"> 382
</span><span class="lnt"> 383
</span><span class="lnt"> 384
</span><span class="lnt"> 385
</span><span class="lnt"> 386
</span><span class="lnt"> 387
</span><span class="lnt"> 388
</span><span class="lnt"> 389
</span><span class="lnt"> 390
</span><span class="lnt"> 391
</span><span class="lnt"> 392
</span><span class="lnt"> 393
</span><span class="lnt"> 394
</span><span class="lnt"> 395
</span><span class="lnt"> 396
</span><span class="lnt"> 397
</span><span class="lnt"> 398
</span><span class="lnt"> 399
</span><span class="lnt"> 400
</span><span class="lnt"> 401
</span><span class="lnt"> 402
</span><span class="lnt"> 403
</span><span class="lnt"> 404
</span><span class="lnt"> 405
</span><span class="lnt"> 406
</span><span class="lnt"> 407
</span><span class="lnt"> 408
</span><span class="lnt"> 409
</span><span class="lnt"> 410
</span><span class="lnt"> 411
</span><span class="lnt"> 412
</span><span class="lnt"> 413
</span><span class="lnt"> 414
</span><span class="lnt"> 415
</span><span class="lnt"> 416
</span><span class="lnt"> 417
</span><span class="lnt"> 418
</span><span class="lnt"> 419
</span><span class="lnt"> 420
</span><span class="lnt"> 421
</span><span class="lnt"> 422
</span><span class="lnt"> 423
</span><span class="lnt"> 424
</span><span class="lnt"> 425
</span><span class="lnt"> 426
</span><span class="lnt"> 427
</span><span class="lnt"> 428
</span><span class="lnt"> 429
</span><span class="lnt"> 430
</span><span class="lnt"> 431
</span><span class="lnt"> 432
</span><span class="lnt"> 433
</span><span class="lnt"> 434
</span><span class="lnt"> 435
</span><span class="lnt"> 436
</span><span class="lnt"> 437
</span><span class="lnt"> 438
</span><span class="lnt"> 439
</span><span class="lnt"> 440
</span><span class="lnt"> 441
</span><span class="lnt"> 442
</span><span class="lnt"> 443
</span><span class="lnt"> 444
</span><span class="lnt"> 445
</span><span class="lnt"> 446
</span><span class="lnt"> 447
</span><span class="lnt"> 448
</span><span class="lnt"> 449
</span><span class="lnt"> 450
</span><span class="lnt"> 451
</span><span class="lnt"> 452
</span><span class="lnt"> 453
</span><span class="lnt"> 454
</span><span class="lnt"> 455
</span><span class="lnt"> 456
</span><span class="lnt"> 457
</span><span class="lnt"> 458
</span><span class="lnt"> 459
</span><span class="lnt"> 460
</span><span class="lnt"> 461
</span><span class="lnt"> 462
</span><span class="lnt"> 463
</span><span class="lnt"> 464
</span><span class="lnt"> 465
</span><span class="lnt"> 466
</span><span class="lnt"> 467
</span><span class="lnt"> 468
</span><span class="lnt"> 469
</span><span class="lnt"> 470
</span><span class="lnt"> 471
</span><span class="lnt"> 472
</span><span class="lnt"> 473
</span><span class="lnt"> 474
</span><span class="lnt"> 475
</span><span class="lnt"> 476
</span><span class="lnt"> 477
</span><span class="lnt"> 478
</span><span class="lnt"> 479
</span><span class="lnt"> 480
</span><span class="lnt"> 481
</span><span class="lnt"> 482
</span><span class="lnt"> 483
</span><span class="lnt"> 484
</span><span class="lnt"> 485
</span><span class="lnt"> 486
</span><span class="lnt"> 487
</span><span class="lnt"> 488
</span><span class="lnt"> 489
</span><span class="lnt"> 490
</span><span class="lnt"> 491
</span><span class="lnt"> 492
</span><span class="lnt"> 493
</span><span class="lnt"> 494
</span><span class="lnt"> 495
</span><span class="lnt"> 496
</span><span class="lnt"> 497
</span><span class="lnt"> 498
</span><span class="lnt"> 499
</span><span class="lnt"> 500
</span><span class="lnt"> 501
</span><span class="lnt"> 502
</span><span class="lnt"> 503
</span><span class="lnt"> 504
</span><span class="lnt"> 505
</span><span class="lnt"> 506
</span><span class="lnt"> 507
</span><span class="lnt"> 508
</span><span class="lnt"> 509
</span><span class="lnt"> 510
</span><span class="lnt"> 511
</span><span class="lnt"> 512
</span><span class="lnt"> 513
</span><span class="lnt"> 514
</span><span class="lnt"> 515
</span><span class="lnt"> 516
</span><span class="lnt"> 517
</span><span class="lnt"> 518
</span><span class="lnt"> 519
</span><span class="lnt"> 520
</span><span class="lnt"> 521
</span><span class="lnt"> 522
</span><span class="lnt"> 523
</span><span class="lnt"> 524
</span><span class="lnt"> 525
</span><span class="lnt"> 526
</span><span class="lnt"> 527
</span><span class="lnt"> 528
</span><span class="lnt"> 529
</span><span class="lnt"> 530
</span><span class="lnt"> 531
</span><span class="lnt"> 532
</span><span class="lnt"> 533
</span><span class="lnt"> 534
</span><span class="lnt"> 535
</span><span class="lnt"> 536
</span><span class="lnt"> 537
</span><span class="lnt"> 538
</span><span class="lnt"> 539
</span><span class="lnt"> 540
</span><span class="lnt"> 541
</span><span class="lnt"> 542
</span><span class="lnt"> 543
</span><span class="lnt"> 544
</span><span class="lnt"> 545
</span><span class="lnt"> 546
</span><span class="lnt"> 547
</span><span class="lnt"> 548
</span><span class="lnt"> 549
</span><span class="lnt"> 550
</span><span class="lnt"> 551
</span><span class="lnt"> 552
</span><span class="lnt"> 553
</span><span class="lnt"> 554
</span><span class="lnt"> 555
</span><span class="lnt"> 556
</span><span class="lnt"> 557
</span><span class="lnt"> 558
</span><span class="lnt"> 559
</span><span class="lnt"> 560
</span><span class="lnt"> 561
</span><span class="lnt"> 562
</span><span class="lnt"> 563
</span><span class="lnt"> 564
</span><span class="lnt"> 565
</span><span class="lnt"> 566
</span><span class="lnt"> 567
</span><span class="lnt"> 568
</span><span class="lnt"> 569
</span><span class="lnt"> 570
</span><span class="lnt"> 571
</span><span class="lnt"> 572
</span><span class="lnt"> 573
</span><span class="lnt"> 574
</span><span class="lnt"> 575
</span><span class="lnt"> 576
</span><span class="lnt"> 577
</span><span class="lnt"> 578
</span><span class="lnt"> 579
</span><span class="lnt"> 580
</span><span class="lnt"> 581
</span><span class="lnt"> 582
</span><span class="lnt"> 583
</span><span class="lnt"> 584
</span><span class="lnt"> 585
</span><span class="lnt"> 586
</span><span class="lnt"> 587
</span><span class="lnt"> 588
</span><span class="lnt"> 589
</span><span class="lnt"> 590
</span><span class="lnt"> 591
</span><span class="lnt"> 592
</span><span class="lnt"> 593
</span><span class="lnt"> 594
</span><span class="lnt"> 595
</span><span class="lnt"> 596
</span><span class="lnt"> 597
</span><span class="lnt"> 598
</span><span class="lnt"> 599
</span><span class="lnt"> 600
</span><span class="lnt"> 601
</span><span class="lnt"> 602
</span><span class="lnt"> 603
</span><span class="lnt"> 604
</span><span class="lnt"> 605
</span><span class="lnt"> 606
</span><span class="lnt"> 607
</span><span class="lnt"> 608
</span><span class="lnt"> 609
</span><span class="lnt"> 610
</span><span class="lnt"> 611
</span><span class="lnt"> 612
</span><span class="lnt"> 613
</span><span class="lnt"> 614
</span><span class="lnt"> 615
</span><span class="lnt"> 616
</span><span class="lnt"> 617
</span><span class="lnt"> 618
</span><span class="lnt"> 619
</span><span class="lnt"> 620
</span><span class="lnt"> 621
</span><span class="lnt"> 622
</span><span class="lnt"> 623
</span><span class="lnt"> 624
</span><span class="lnt"> 625
</span><span class="lnt"> 626
</span><span class="lnt"> 627
</span><span class="lnt"> 628
</span><span class="lnt"> 629
</span><span class="lnt"> 630
</span><span class="lnt"> 631
</span><span class="lnt"> 632
</span><span class="lnt"> 633
</span><span class="lnt"> 634
</span><span class="lnt"> 635
</span><span class="lnt"> 636
</span><span class="lnt"> 637
</span><span class="lnt"> 638
</span><span class="lnt"> 639
</span><span class="lnt"> 640
</span><span class="lnt"> 641
</span><span class="lnt"> 642
</span><span class="lnt"> 643
</span><span class="lnt"> 644
</span><span class="lnt"> 645
</span><span class="lnt"> 646
</span><span class="lnt"> 647
</span><span class="lnt"> 648
</span><span class="lnt"> 649
</span><span class="lnt"> 650
</span><span class="lnt"> 651
</span><span class="lnt"> 652
</span><span class="lnt"> 653
</span><span class="lnt"> 654
</span><span class="lnt"> 655
</span><span class="lnt"> 656
</span><span class="lnt"> 657
</span><span class="lnt"> 658
</span><span class="lnt"> 659
</span><span class="lnt"> 660
</span><span class="lnt"> 661
</span><span class="lnt"> 662
</span><span class="lnt"> 663
</span><span class="lnt"> 664
</span><span class="lnt"> 665
</span><span class="lnt"> 666
</span><span class="lnt"> 667
</span><span class="lnt"> 668
</span><span class="lnt"> 669
</span><span class="lnt"> 670
</span><span class="lnt"> 671
</span><span class="lnt"> 672
</span><span class="lnt"> 673
</span><span class="lnt"> 674
</span><span class="lnt"> 675
</span><span class="lnt"> 676
</span><span class="lnt"> 677
</span><span class="lnt"> 678
</span><span class="lnt"> 679
</span><span class="lnt"> 680
</span><span class="lnt"> 681
</span><span class="lnt"> 682
</span><span class="lnt"> 683
</span><span class="lnt"> 684
</span><span class="lnt"> 685
</span><span class="lnt"> 686
</span><span class="lnt"> 687
</span><span class="lnt"> 688
</span><span class="lnt"> 689
</span><span class="lnt"> 690
</span><span class="lnt"> 691
</span><span class="lnt"> 692
</span><span class="lnt"> 693
</span><span class="lnt"> 694
</span><span class="lnt"> 695
</span><span class="lnt"> 696
</span><span class="lnt"> 697
</span><span class="lnt"> 698
</span><span class="lnt"> 699
</span><span class="lnt"> 700
</span><span class="lnt"> 701
</span><span class="lnt"> 702
</span><span class="lnt"> 703
</span><span class="lnt"> 704
</span><span class="lnt"> 705
</span><span class="lnt"> 706
</span><span class="lnt"> 707
</span><span class="lnt"> 708
</span><span class="lnt"> 709
</span><span class="lnt"> 710
</span><span class="lnt"> 711
</span><span class="lnt"> 712
</span><span class="lnt"> 713
</span><span class="lnt"> 714
</span><span class="lnt"> 715
</span><span class="lnt"> 716
</span><span class="lnt"> 717
</span><span class="lnt"> 718
</span><span class="lnt"> 719
</span><span class="lnt"> 720
</span><span class="lnt"> 721
</span><span class="lnt"> 722
</span><span class="lnt"> 723
</span><span class="lnt"> 724
</span><span class="lnt"> 725
</span><span class="lnt"> 726
</span><span class="lnt"> 727
</span><span class="lnt"> 728
</span><span class="lnt"> 729
</span><span class="lnt"> 730
</span><span class="lnt"> 731
</span><span class="lnt"> 732
</span><span class="lnt"> 733
</span><span class="lnt"> 734
</span><span class="lnt"> 735
</span><span class="lnt"> 736
</span><span class="lnt"> 737
</span><span class="lnt"> 738
</span><span class="lnt"> 739
</span><span class="lnt"> 740
</span><span class="lnt"> 741
</span><span class="lnt"> 742
</span><span class="lnt"> 743
</span><span class="lnt"> 744
</span><span class="lnt"> 745
</span><span class="lnt"> 746
</span><span class="lnt"> 747
</span><span class="lnt"> 748
</span><span class="lnt"> 749
</span><span class="lnt"> 750
</span><span class="lnt"> 751
</span><span class="lnt"> 752
</span><span class="lnt"> 753
</span><span class="lnt"> 754
</span><span class="lnt"> 755
</span><span class="lnt"> 756
</span><span class="lnt"> 757
</span><span class="lnt"> 758
</span><span class="lnt"> 759
</span><span class="lnt"> 760
</span><span class="lnt"> 761
</span><span class="lnt"> 762
</span><span class="lnt"> 763
</span><span class="lnt"> 764
</span><span class="lnt"> 765
</span><span class="lnt"> 766
</span><span class="lnt"> 767
</span><span class="lnt"> 768
</span><span class="lnt"> 769
</span><span class="lnt"> 770
</span><span class="lnt"> 771
</span><span class="lnt"> 772
</span><span class="lnt"> 773
</span><span class="lnt"> 774
</span><span class="lnt"> 775
</span><span class="lnt"> 776
</span><span class="lnt"> 777
</span><span class="lnt"> 778
</span><span class="lnt"> 779
</span><span class="lnt"> 780
</span><span class="lnt"> 781
</span><span class="lnt"> 782
</span><span class="lnt"> 783
</span><span class="lnt"> 784
</span><span class="lnt"> 785
</span><span class="lnt"> 786
</span><span class="lnt"> 787
</span><span class="lnt"> 788
</span><span class="lnt"> 789
</span><span class="lnt"> 790
</span><span class="lnt"> 791
</span><span class="lnt"> 792
</span><span class="lnt"> 793
</span><span class="lnt"> 794
</span><span class="lnt"> 795
</span><span class="lnt"> 796
</span><span class="lnt"> 797
</span><span class="lnt"> 798
</span><span class="lnt"> 799
</span><span class="lnt"> 800
</span><span class="lnt"> 801
</span><span class="lnt"> 802
</span><span class="lnt"> 803
</span><span class="lnt"> 804
</span><span class="lnt"> 805
</span><span class="lnt"> 806
</span><span class="lnt"> 807
</span><span class="lnt"> 808
</span><span class="lnt"> 809
</span><span class="lnt"> 810
</span><span class="lnt"> 811
</span><span class="lnt"> 812
</span><span class="lnt"> 813
</span><span class="lnt"> 814
</span><span class="lnt"> 815
</span><span class="lnt"> 816
</span><span class="lnt"> 817
</span><span class="lnt"> 818
</span><span class="lnt"> 819
</span><span class="lnt"> 820
</span><span class="lnt"> 821
</span><span class="lnt"> 822
</span><span class="lnt"> 823
</span><span class="lnt"> 824
</span><span class="lnt"> 825
</span><span class="lnt"> 826
</span><span class="lnt"> 827
</span><span class="lnt"> 828
</span><span class="lnt"> 829
</span><span class="lnt"> 830
</span><span class="lnt"> 831
</span><span class="lnt"> 832
</span><span class="lnt"> 833
</span><span class="lnt"> 834
</span><span class="lnt"> 835
</span><span class="lnt"> 836
</span><span class="lnt"> 837
</span><span class="lnt"> 838
</span><span class="lnt"> 839
</span><span class="lnt"> 840
</span><span class="lnt"> 841
</span><span class="lnt"> 842
</span><span class="lnt"> 843
</span><span class="lnt"> 844
</span><span class="lnt"> 845
</span><span class="lnt"> 846
</span><span class="lnt"> 847
</span><span class="lnt"> 848
</span><span class="lnt"> 849
</span><span class="lnt"> 850
</span><span class="lnt"> 851
</span><span class="lnt"> 852
</span><span class="lnt"> 853
</span><span class="lnt"> 854
</span><span class="lnt"> 855
</span><span class="lnt"> 856
</span><span class="lnt"> 857
</span><span class="lnt"> 858
</span><span class="lnt"> 859
</span><span class="lnt"> 860
</span><span class="lnt"> 861
</span><span class="lnt"> 862
</span><span class="lnt"> 863
</span><span class="lnt"> 864
</span><span class="lnt"> 865
</span><span class="lnt"> 866
</span><span class="lnt"> 867
</span><span class="lnt"> 868
</span><span class="lnt"> 869
</span><span class="lnt"> 870
</span><span class="lnt"> 871
</span><span class="lnt"> 872
</span><span class="lnt"> 873
</span><span class="lnt"> 874
</span><span class="lnt"> 875
</span><span class="lnt"> 876
</span><span class="lnt"> 877
</span><span class="lnt"> 878
</span><span class="lnt"> 879
</span><span class="lnt"> 880
</span><span class="lnt"> 881
</span><span class="lnt"> 882
</span><span class="lnt"> 883
</span><span class="lnt"> 884
</span><span class="lnt"> 885
</span><span class="lnt"> 886
</span><span class="lnt"> 887
</span><span class="lnt"> 888
</span><span class="lnt"> 889
</span><span class="lnt"> 890
</span><span class="lnt"> 891
</span><span class="lnt"> 892
</span><span class="lnt"> 893
</span><span class="lnt"> 894
</span><span class="lnt"> 895
</span><span class="lnt"> 896
</span><span class="lnt"> 897
</span><span class="lnt"> 898
</span><span class="lnt"> 899
</span><span class="lnt"> 900
</span><span class="lnt"> 901
</span><span class="lnt"> 902
</span><span class="lnt"> 903
</span><span class="lnt"> 904
</span><span class="lnt"> 905
</span><span class="lnt"> 906
</span><span class="lnt"> 907
</span><span class="lnt"> 908
</span><span class="lnt"> 909
</span><span class="lnt"> 910
</span><span class="lnt"> 911
</span><span class="lnt"> 912
</span><span class="lnt"> 913
</span><span class="lnt"> 914
</span><span class="lnt"> 915
</span><span class="lnt"> 916
</span><span class="lnt"> 917
</span><span class="lnt"> 918
</span><span class="lnt"> 919
</span><span class="lnt"> 920
</span><span class="lnt"> 921
</span><span class="lnt"> 922
</span><span class="lnt"> 923
</span><span class="lnt"> 924
</span><span class="lnt"> 925
</span><span class="lnt"> 926
</span><span class="lnt"> 927
</span><span class="lnt"> 928
</span><span class="lnt"> 929
</span><span class="lnt"> 930
</span><span class="lnt"> 931
</span><span class="lnt"> 932
</span><span class="lnt"> 933
</span><span class="lnt"> 934
</span><span class="lnt"> 935
</span><span class="lnt"> 936
</span><span class="lnt"> 937
</span><span class="lnt"> 938
</span><span class="lnt"> 939
</span><span class="lnt"> 940
</span><span class="lnt"> 941
</span><span class="lnt"> 942
</span><span class="lnt"> 943
</span><span class="lnt"> 944
</span><span class="lnt"> 945
</span><span class="lnt"> 946
</span><span class="lnt"> 947
</span><span class="lnt"> 948
</span><span class="lnt"> 949
</span><span class="lnt"> 950
</span><span class="lnt"> 951
</span><span class="lnt"> 952
</span><span class="lnt"> 953
</span><span class="lnt"> 954
</span><span class="lnt"> 955
</span><span class="lnt"> 956
</span><span class="lnt"> 957
</span><span class="lnt"> 958
</span><span class="lnt"> 959
</span><span class="lnt"> 960
</span><span class="lnt"> 961
</span><span class="lnt"> 962
</span><span class="lnt"> 963
</span><span class="lnt"> 964
</span><span class="lnt"> 965
</span><span class="lnt"> 966
</span><span class="lnt"> 967
</span><span class="lnt"> 968
</span><span class="lnt"> 969
</span><span class="lnt"> 970
</span><span class="lnt"> 971
</span><span class="lnt"> 972
</span><span class="lnt"> 973
</span><span class="lnt"> 974
</span><span class="lnt"> 975
</span><span class="lnt"> 976
</span><span class="lnt"> 977
</span><span class="lnt"> 978
</span><span class="lnt"> 979
</span><span class="lnt"> 980
</span><span class="lnt"> 981
</span><span class="lnt"> 982
</span><span class="lnt"> 983
</span><span class="lnt"> 984
</span><span class="lnt"> 985
</span><span class="lnt"> 986
</span><span class="lnt"> 987
</span><span class="lnt"> 988
</span><span class="lnt"> 989
</span><span class="lnt"> 990
</span><span class="lnt"> 991
</span><span class="lnt"> 992
</span><span class="lnt"> 993
</span><span class="lnt"> 994
</span><span class="lnt"> 995
</span><span class="lnt"> 996
</span><span class="lnt"> 997
</span><span class="lnt"> 998
</span><span class="lnt"> 999
</span><span class="lnt">1000
</span><span class="lnt">1001
</span><span class="lnt">1002
</span><span class="lnt">1003
</span><span class="lnt">1004
</span><span class="lnt">1005
</span><span class="lnt">1006
</span><span class="lnt">1007
</span><span class="lnt">1008
</span><span class="lnt">1009
</span><span class="lnt">1010
</span><span class="lnt">1011
</span><span class="lnt">1012
</span><span class="lnt">1013
</span><span class="lnt">1014
</span><span class="lnt">1015
</span><span class="lnt">1016
</span><span class="lnt">1017
</span><span class="lnt">1018
</span><span class="lnt">1019
</span><span class="lnt">1020
</span><span class="lnt">1021
</span><span class="lnt">1022
</span><span class="lnt">1023
</span><span class="lnt">1024
</span><span class="lnt">1025
</span><span class="lnt">1026
</span><span class="lnt">1027
</span><span class="lnt">1028
</span><span class="lnt">1029
</span><span class="lnt">1030
</span><span class="lnt">1031
</span><span class="lnt">1032
</span><span class="lnt">1033
</span><span class="lnt">1034
</span><span class="lnt">1035
</span><span class="lnt">1036
</span><span class="lnt">1037
</span><span class="lnt">1038
</span><span class="lnt">1039
</span><span class="lnt">1040
</span><span class="lnt">1041
</span><span class="lnt">1042
</span><span class="lnt">1043
</span><span class="lnt">1044
</span><span class="lnt">1045
</span><span class="lnt">1046
</span><span class="lnt">1047
</span><span class="lnt">1048
</span><span class="lnt">1049
</span><span class="lnt">1050
</span><span class="lnt">1051
</span><span class="lnt">1052
</span><span class="lnt">1053
</span><span class="lnt">1054
</span><span class="lnt">1055
</span><span class="lnt">1056
</span><span class="lnt">1057
</span><span class="lnt">1058
</span><span class="lnt">1059
</span><span class="lnt">1060
</span><span class="lnt">1061
</span><span class="lnt">1062
</span><span class="lnt">1063
</span><span class="lnt">1064
</span><span class="lnt">1065
</span><span class="lnt">1066
</span><span class="lnt">1067
</span><span class="lnt">1068
</span><span class="lnt">1069
</span><span class="lnt">1070
</span><span class="lnt">1071
</span><span class="lnt">1072
</span><span class="lnt">1073
</span><span class="lnt">1074
</span><span class="lnt">1075
</span><span class="lnt">1076
</span><span class="lnt">1077
</span><span class="lnt">1078
</span><span class="lnt">1079
</span><span class="lnt">1080
</span><span class="lnt">1081
</span><span class="lnt">1082
</span><span class="lnt">1083
</span><span class="lnt">1084
</span><span class="lnt">1085
</span><span class="lnt">1086
</span><span class="lnt">1087
</span><span class="lnt">1088
</span><span class="lnt">1089
</span><span class="lnt">1090
</span><span class="lnt">1091
</span><span class="lnt">1092
</span><span class="lnt">1093
</span><span class="lnt">1094
</span><span class="lnt">1095
</span><span class="lnt">1096
</span><span class="lnt">1097
</span><span class="lnt">1098
</span><span class="lnt">1099
</span><span class="lnt">1100
</span><span class="lnt">1101
</span><span class="lnt">1102
</span><span class="lnt">1103
</span><span class="lnt">1104
</span><span class="lnt">1105
</span><span class="lnt">1106
</span><span class="lnt">1107
</span><span class="lnt">1108
</span><span class="lnt">1109
</span><span class="lnt">1110
</span><span class="lnt">1111
</span><span class="lnt">1112
</span><span class="lnt">1113
</span><span class="lnt">1114
</span><span class="lnt">1115
</span><span class="lnt">1116
</span><span class="lnt">1117
</span><span class="lnt">1118
</span><span class="lnt">1119
</span><span class="lnt">1120
</span><span class="lnt">1121
</span><span class="lnt">1122
</span><span class="lnt">1123
</span><span class="lnt">1124
</span><span class="lnt">1125
</span><span class="lnt">1126
</span><span class="lnt">1127
</span><span class="lnt">1128
</span><span class="lnt">1129
</span><span class="lnt">1130
</span><span class="lnt">1131
</span><span class="lnt">1132
</span><span class="lnt">1133
</span><span class="lnt">1134
</span><span class="lnt">1135
</span><span class="lnt">1136
</span><span class="lnt">1137
</span><span class="lnt">1138
</span><span class="lnt">1139
</span><span class="lnt">1140
</span><span class="lnt">1141
</span><span class="lnt">1142
</span><span class="lnt">1143
</span><span class="lnt">1144
</span><span class="lnt">1145
</span><span class="lnt">1146
</span><span class="lnt">1147
</span><span class="lnt">1148
</span><span class="lnt">1149
</span><span class="lnt">1150
</span><span class="lnt">1151
</span><span class="lnt">1152
</span><span class="lnt">1153
</span><span class="lnt">1154
</span><span class="lnt">1155
</span><span class="lnt">1156
</span><span class="lnt">1157
</span><span class="lnt">1158
</span><span class="lnt">1159
</span><span class="lnt">1160
</span><span class="lnt">1161
</span><span class="lnt">1162
</span><span class="lnt">1163
</span><span class="lnt">1164
</span><span class="lnt">1165
</span><span class="lnt">1166
</span><span class="lnt">1167
</span><span class="lnt">1168
</span><span class="lnt">1169
</span><span class="lnt">1170
</span><span class="lnt">1171
</span><span class="lnt">1172
</span><span class="lnt">1173
</span><span class="lnt">1174
</span><span class="lnt">1175
</span><span class="lnt">1176
</span><span class="lnt">1177
</span><span class="lnt">1178
</span><span class="lnt">1179
</span><span class="lnt">1180
</span><span class="lnt">1181
</span><span class="lnt">1182
</span><span class="lnt">1183
</span><span class="lnt">1184
</span><span class="lnt">1185
</span><span class="lnt">1186
</span><span class="lnt">1187
</span><span class="lnt">1188
</span><span class="lnt">1189
</span><span class="lnt">1190
</span><span class="lnt">1191
</span><span class="lnt">1192
</span><span class="lnt">1193
</span><span class="lnt">1194
</span><span class="lnt">1195
</span><span class="lnt">1196
</span><span class="lnt">1197
</span><span class="lnt">1198
</span><span class="lnt">1199
</span><span class="lnt">1200
</span><span class="lnt">1201
</span><span class="lnt">1202
</span><span class="lnt">1203
</span><span class="lnt">1204
</span><span class="lnt">1205
</span><span class="lnt">1206
</span><span class="lnt">1207
</span><span class="lnt">1208
</span><span class="lnt">1209
</span><span class="lnt">1210
</span><span class="lnt">1211
</span><span class="lnt">1212
</span><span class="lnt">1213
</span><span class="lnt">1214
</span><span class="lnt">1215
</span><span class="lnt">1216
</span><span class="lnt">1217
</span><span class="lnt">1218
</span><span class="lnt">1219
</span><span class="lnt">1220
</span><span class="lnt">1221
</span><span class="lnt">1222
</span><span class="lnt">1223
</span><span class="lnt">1224
</span><span class="lnt">1225
</span><span class="lnt">1226
</span><span class="lnt">1227
</span><span class="lnt">1228
</span><span class="lnt">1229
</span><span class="lnt">1230
</span><span class="lnt">1231
</span><span class="lnt">1232
</span><span class="lnt">1233
</span><span class="lnt">1234
</span><span class="lnt">1235
</span><span class="lnt">1236
</span><span class="lnt">1237
</span><span class="lnt">1238
</span><span class="lnt">1239
</span><span class="lnt">1240
</span><span class="lnt">1241
</span><span class="lnt">1242
</span><span class="lnt">1243
</span><span class="lnt">1244
</span><span class="lnt">1245
</span><span class="lnt">1246
</span><span class="lnt">1247
</span><span class="lnt">1248
</span><span class="lnt">1249
</span><span class="lnt">1250
</span><span class="lnt">1251
</span><span class="lnt">1252
</span><span class="lnt">1253
</span><span class="lnt">1254
</span><span class="lnt">1255
</span><span class="lnt">1256
</span><span class="lnt">1257
</span><span class="lnt">1258
</span><span class="lnt">1259
</span><span class="lnt">1260
</span><span class="lnt">1261
</span><span class="lnt">1262
</span><span class="lnt">1263
</span><span class="lnt">1264
</span><span class="lnt">1265
</span><span class="lnt">1266
</span><span class="lnt">1267
</span><span class="lnt">1268
</span><span class="lnt">1269
</span><span class="lnt">1270
</span><span class="lnt">1271
</span><span class="lnt">1272
</span><span class="lnt">1273
</span><span class="lnt">1274
</span><span class="lnt">1275
</span><span class="lnt">1276
</span><span class="lnt">1277
</span><span class="lnt">1278
</span><span class="lnt">1279
</span><span class="lnt">1280
</span><span class="lnt">1281
</span><span class="lnt">1282
</span><span class="lnt">1283
</span><span class="lnt">1284
</span><span class="lnt">1285
</span><span class="lnt">1286
</span><span class="lnt">1287
</span><span class="lnt">1288
</span><span class="lnt">1289
</span><span class="lnt">1290
</span><span class="lnt">1291
</span><span class="lnt">1292
</span><span class="lnt">1293
</span><span class="lnt">1294
</span><span class="lnt">1295
</span><span class="lnt">1296
</span><span class="lnt">1297
</span><span class="lnt">1298
</span><span class="lnt">1299
</span><span class="lnt">1300
</span><span class="lnt">1301
</span><span class="lnt">1302
</span><span class="lnt">1303
</span><span class="lnt">1304
</span><span class="lnt">1305
</span><span class="lnt">1306
</span><span class="lnt">1307
</span><span class="lnt">1308
</span><span class="lnt">1309
</span><span class="lnt">1310
</span><span class="lnt">1311
</span><span class="lnt">1312
</span><span class="lnt">1313
</span><span class="lnt">1314
</span><span class="lnt">1315
</span><span class="lnt">1316
</span><span class="lnt">1317
</span><span class="lnt">1318
</span><span class="lnt">1319
</span><span class="lnt">1320
</span><span class="lnt">1321
</span><span class="lnt">1322
</span><span class="lnt">1323
</span><span class="lnt">1324
</span><span class="lnt">1325
</span><span class="lnt">1326
</span><span class="lnt">1327
</span><span class="lnt">1328
</span><span class="lnt">1329
</span><span class="lnt">1330
</span><span class="lnt">1331
</span><span class="lnt">1332
</span><span class="lnt">1333
</span><span class="lnt">1334
</span><span class="lnt">1335
</span><span class="lnt">1336
</span><span class="lnt">1337
</span><span class="lnt">1338
</span><span class="lnt">1339
</span><span class="lnt">1340
</span><span class="lnt">1341
</span><span class="lnt">1342
</span><span class="lnt">1343
</span><span class="lnt">1344
</span><span class="lnt">1345
</span><span class="lnt">1346
</span><span class="lnt">1347
</span><span class="lnt">1348
</span><span class="lnt">1349
</span><span class="lnt">1350
</span><span class="lnt">1351
</span><span class="lnt">1352
</span><span class="lnt">1353
</span><span class="lnt">1354
</span><span class="lnt">1355
</span><span class="lnt">1356
</span><span class="lnt">1357
</span><span class="lnt">1358
</span><span class="lnt">1359
</span><span class="lnt">1360
</span><span class="lnt">1361
</span><span class="lnt">1362
</span><span class="lnt">1363
</span><span class="lnt">1364
</span><span class="lnt">1365
</span><span class="lnt">1366
</span><span class="lnt">1367
</span><span class="lnt">1368
</span><span class="lnt">1369
</span><span class="lnt">1370
</span><span class="lnt">1371
</span><span class="lnt">1372
</span><span class="lnt">1373
</span><span class="lnt">1374
</span><span class="lnt">1375
</span><span class="lnt">1376
</span><span class="lnt">1377
</span><span class="lnt">1378
</span><span class="lnt">1379
</span><span class="lnt">1380
</span><span class="lnt">1381
</span><span class="lnt">1382
</span><span class="lnt">1383
</span><span class="lnt">1384
</span><span class="lnt">1385
</span><span class="lnt">1386
</span><span class="lnt">1387
</span><span class="lnt">1388
</span><span class="lnt">1389
</span><span class="lnt">1390
</span><span class="lnt">1391
</span><span class="lnt">1392
</span><span class="lnt">1393
</span><span class="lnt">1394
</span><span class="lnt">1395
</span><span class="lnt">1396
</span><span class="lnt">1397
</span><span class="lnt">1398
</span><span class="lnt">1399
</span><span class="lnt">1400
</span><span class="lnt">1401
</span><span class="lnt">1402
</span><span class="lnt">1403
</span><span class="lnt">1404
</span><span class="lnt">1405
</span><span class="lnt">1406
</span><span class="lnt">1407
</span><span class="lnt">1408
</span><span class="lnt">1409
</span><span class="lnt">1410
</span><span class="lnt">1411
</span><span class="lnt">1412
</span><span class="lnt">1413
</span><span class="lnt">1414
</span><span class="lnt">1415
</span><span class="lnt">1416
</span><span class="lnt">1417
</span><span class="lnt">1418
</span><span class="lnt">1419
</span><span class="lnt">1420
</span><span class="lnt">1421
</span><span class="lnt">1422
</span><span class="lnt">1423
</span><span class="lnt">1424
</span><span class="lnt">1425
</span><span class="lnt">1426
</span><span class="lnt">1427
</span><span class="lnt">1428
</span><span class="lnt">1429
</span><span class="lnt">1430
</span><span class="lnt">1431
</span><span class="lnt">1432
</span><span class="lnt">1433
</span><span class="lnt">1434
</span><span class="lnt">1435
</span><span class="lnt">1436
</span><span class="lnt">1437
</span><span class="lnt">1438
</span><span class="lnt">1439
</span><span class="lnt">1440
</span><span class="lnt">1441
</span><span class="lnt">1442
</span><span class="lnt">1443
</span><span class="lnt">1444
</span><span class="lnt">1445
</span><span class="lnt">1446
</span><span class="lnt">1447
</span><span class="lnt">1448
</span><span class="lnt">1449
</span><span class="lnt">1450
</span><span class="lnt">1451
</span><span class="lnt">1452
</span><span class="lnt">1453
</span><span class="lnt">1454
</span><span class="lnt">1455
</span><span class="lnt">1456
</span><span class="lnt">1457
</span><span class="lnt">1458
</span><span class="lnt">1459
</span><span class="lnt">1460
</span><span class="lnt">1461
</span><span class="lnt">1462
</span><span class="lnt">1463
</span><span class="lnt">1464
</span><span class="lnt">1465
</span><span class="lnt">1466
</span><span class="lnt">1467
</span><span class="lnt">1468
</span><span class="lnt">1469
</span><span class="lnt">1470
</span><span class="lnt">1471
</span><span class="lnt">1472
</span><span class="lnt">1473
</span><span class="lnt">1474
</span><span class="lnt">1475
</span><span class="lnt">1476
</span><span class="lnt">1477
</span><span class="lnt">1478
</span><span class="lnt">1479
</span><span class="lnt">1480
</span><span class="lnt">1481
</span><span class="lnt">1482
</span><span class="lnt">1483
</span><span class="lnt">1484
</span><span class="lnt">1485
</span><span class="lnt">1486
</span><span class="lnt">1487
</span><span class="lnt">1488
</span><span class="lnt">1489
</span><span class="lnt">1490
</span><span class="lnt">1491
</span><span class="lnt">1492
</span><span class="lnt">1493
</span><span class="lnt">1494
</span><span class="lnt">1495
</span><span class="lnt">1496
</span><span class="lnt">1497
</span><span class="lnt">1498
</span><span class="lnt">1499
</span><span class="lnt">1500
</span><span class="lnt">1501
</span><span class="lnt">1502
</span><span class="lnt">1503
</span><span class="lnt">1504
</span><span class="lnt">1505
</span><span class="lnt">1506
</span><span class="lnt">1507
</span><span class="lnt">1508
</span><span class="lnt">1509
</span><span class="lnt">1510
</span><span class="lnt">1511
</span><span class="lnt">1512
</span><span class="lnt">1513
</span><span class="lnt">1514
</span><span class="lnt">1515
</span><span class="lnt">1516
</span><span class="lnt">1517
</span><span class="lnt">1518
</span><span class="lnt">1519
</span><span class="lnt">1520
</span><span class="lnt">1521
</span><span class="lnt">1522
</span><span class="lnt">1523
</span><span class="lnt">1524
</span><span class="lnt">1525
</span><span class="lnt">1526
</span><span class="lnt">1527
</span><span class="lnt">1528
</span><span class="lnt">1529
</span><span class="lnt">1530
</span><span class="lnt">1531
</span><span class="lnt">1532
</span><span class="lnt">1533
</span><span class="lnt">1534
</span><span class="lnt">1535
</span><span class="lnt">1536
</span><span class="lnt">1537
</span><span class="lnt">1538
</span><span class="lnt">1539
</span><span class="lnt">1540
</span><span class="lnt">1541
</span><span class="lnt">1542
</span><span class="lnt">1543
</span><span class="lnt">1544
</span><span class="lnt">1545
</span><span class="lnt">1546
</span><span class="lnt">1547
</span><span class="lnt">1548
</span><span class="lnt">1549
</span><span class="lnt">1550
</span><span class="lnt">1551
</span><span class="lnt">1552
</span><span class="lnt">1553
</span><span class="lnt">1554
</span><span class="lnt">1555
</span><span class="lnt">1556
</span><span class="lnt">1557
</span><span class="lnt">1558
</span><span class="lnt">1559
</span><span class="lnt">1560
</span><span class="lnt">1561
</span><span class="lnt">1562
</span><span class="lnt">1563
</span><span class="lnt">1564
</span><span class="lnt">1565
</span><span class="lnt">1566
</span><span class="lnt">1567
</span><span class="lnt">1568
</span><span class="lnt">1569
</span><span class="lnt">1570
</span><span class="lnt">1571
</span><span class="lnt">1572
</span><span class="lnt">1573
</span><span class="lnt">1574
</span><span class="lnt">1575
</span><span class="lnt">1576
</span><span class="lnt">1577
</span><span class="lnt">1578
</span><span class="lnt">1579
</span><span class="lnt">1580
</span><span class="lnt">1581
</span><span class="lnt">1582
</span><span class="lnt">1583
</span><span class="lnt">1584
</span><span class="lnt">1585
</span><span class="lnt">1586
</span><span class="lnt">1587
</span><span class="lnt">1588
</span><span class="lnt">1589
</span><span class="lnt">1590
</span><span class="lnt">1591
</span><span class="lnt">1592
</span><span class="lnt">1593
</span><span class="lnt">1594
</span><span class="lnt">1595
</span><span class="lnt">1596
</span><span class="lnt">1597
</span><span class="lnt">1598
</span><span class="lnt">1599
</span><span class="lnt">1600
</span><span class="lnt">1601
</span><span class="lnt">1602
</span><span class="lnt">1603
</span><span class="lnt">1604
</span><span class="lnt">1605
</span><span class="lnt">1606
</span><span class="lnt">1607
</span><span class="lnt">1608
</span><span class="lnt">1609
</span><span class="lnt">1610
</span><span class="lnt">1611
</span><span class="lnt">1612
</span><span class="lnt">1613
</span><span class="lnt">1614
</span><span class="lnt">1615
</span><span class="lnt">1616
</span><span class="lnt">1617
</span><span class="lnt">1618
</span><span class="lnt">1619
</span><span class="lnt">1620
</span><span class="lnt">1621
</span><span class="lnt">1622
</span><span class="lnt">1623
</span><span class="lnt">1624
</span><span class="lnt">1625
</span><span class="lnt">1626
</span><span class="lnt">1627
</span><span class="lnt">1628
</span><span class="lnt">1629
</span><span class="lnt">1630
</span><span class="lnt">1631
</span><span class="lnt">1632
</span><span class="lnt">1633
</span><span class="lnt">1634
</span><span class="lnt">1635
</span><span class="lnt">1636
</span><span class="lnt">1637
</span><span class="lnt">1638
</span><span class="lnt">1639
</span><span class="lnt">1640
</span><span class="lnt">1641
</span><span class="lnt">1642
</span><span class="lnt">1643
</span><span class="lnt">1644
</span><span class="lnt">1645
</span><span class="lnt">1646
</span><span class="lnt">1647
</span><span class="lnt">1648
</span><span class="lnt">1649
</span><span class="lnt">1650
</span><span class="lnt">1651
</span><span class="lnt">1652
</span><span class="lnt">1653
</span><span class="lnt">1654
</span><span class="lnt">1655
</span><span class="lnt">1656
</span><span class="lnt">1657
</span><span class="lnt">1658
</span><span class="lnt">1659
</span><span class="lnt">1660
</span><span class="lnt">1661
</span><span class="lnt">1662
</span><span class="lnt">1663
</span><span class="lnt">1664
</span><span class="lnt">1665
</span><span class="lnt">1666
</span><span class="lnt">1667
</span><span class="lnt">1668
</span><span class="lnt">1669
</span><span class="lnt">1670
</span><span class="lnt">1671
</span><span class="lnt">1672
</span><span class="lnt">1673
</span><span class="lnt">1674
</span><span class="lnt">1675
</span><span class="lnt">1676
</span><span class="lnt">1677
</span><span class="lnt">1678
</span><span class="lnt">1679
</span><span class="lnt">1680
</span><span class="lnt">1681
</span><span class="lnt">1682
</span><span class="lnt">1683
</span><span class="lnt">1684
</span><span class="lnt">1685
</span><span class="lnt">1686
</span><span class="lnt">1687
</span><span class="lnt">1688
</span><span class="lnt">1689
</span><span class="lnt">1690
</span><span class="lnt">1691
</span><span class="lnt">1692
</span><span class="lnt">1693
</span><span class="lnt">1694
</span><span class="lnt">1695
</span><span class="lnt">1696
</span><span class="lnt">1697
</span><span class="lnt">1698
</span><span class="lnt">1699
</span><span class="lnt">1700
</span><span class="lnt">1701
</span><span class="lnt">1702
</span><span class="lnt">1703
</span><span class="lnt">1704
</span><span class="lnt">1705
</span><span class="lnt">1706
</span><span class="lnt">1707
</span><span class="lnt">1708
</span><span class="lnt">1709
</span><span class="lnt">1710
</span><span class="lnt">1711
</span><span class="lnt">1712
</span><span class="lnt">1713
</span><span class="lnt">1714
</span><span class="lnt">1715
</span><span class="lnt">1716
</span><span class="lnt">1717
</span><span class="lnt">1718
</span><span class="lnt">1719
</span><span class="lnt">1720
</span><span class="lnt">1721
</span><span class="lnt">1722
</span><span class="lnt">1723
</span><span class="lnt">1724
</span><span class="lnt">1725
</span><span class="lnt">1726
</span><span class="lnt">1727
</span><span class="lnt">1728
</span><span class="lnt">1729
</span><span class="lnt">1730
</span><span class="lnt">1731
</span><span class="lnt">1732
</span><span class="lnt">1733
</span><span class="lnt">1734
</span><span class="lnt">1735
</span><span class="lnt">1736
</span><span class="lnt">1737
</span><span class="lnt">1738
</span><span class="lnt">1739
</span><span class="lnt">1740
</span><span class="lnt">1741
</span><span class="lnt">1742
</span><span class="lnt">1743
</span><span class="lnt">1744
</span><span class="lnt">1745
</span><span class="lnt">1746
</span><span class="lnt">1747
</span><span class="lnt">1748
</span><span class="lnt">1749
</span><span class="lnt">1750
</span><span class="lnt">1751
</span><span class="lnt">1752
</span><span class="lnt">1753
</span><span class="lnt">1754
</span><span class="lnt">1755
</span><span class="lnt">1756
</span><span class="lnt">1757
</span><span class="lnt">1758
</span><span class="lnt">1759
</span><span class="lnt">1760
</span><span class="lnt">1761
</span><span class="lnt">1762
</span><span class="lnt">1763
</span><span class="lnt">1764
</span><span class="lnt">1765
</span><span class="lnt">1766
</span><span class="lnt">1767
</span><span class="lnt">1768
</span><span class="lnt">1769
</span><span class="lnt">1770
</span><span class="lnt">1771
</span><span class="lnt">1772
</span><span class="lnt">1773
</span><span class="lnt">1774
</span><span class="lnt">1775
</span><span class="lnt">1776
</span><span class="lnt">1777
</span><span class="lnt">1778
</span><span class="lnt">1779
</span><span class="lnt">1780
</span><span class="lnt">1781
</span><span class="lnt">1782
</span><span class="lnt">1783
</span><span class="lnt">1784
</span><span class="lnt">1785
</span><span class="lnt">1786
</span><span class="lnt">1787
</span><span class="lnt">1788
</span><span class="lnt">1789
</span><span class="lnt">1790
</span><span class="lnt">1791
</span><span class="lnt">1792
</span><span class="lnt">1793
</span><span class="lnt">1794
</span><span class="lnt">1795
</span><span class="lnt">1796
</span><span class="lnt">1797
</span><span class="lnt">1798
</span><span class="lnt">1799
</span><span class="lnt">1800
</span><span class="lnt">1801
</span><span class="lnt">1802
</span><span class="lnt">1803
</span><span class="lnt">1804
</span><span class="lnt">1805
</span><span class="lnt">1806
</span><span class="lnt">1807
</span><span class="lnt">1808
</span><span class="lnt">1809
</span><span class="lnt">1810
</span><span class="lnt">1811
</span><span class="lnt">1812
</span><span class="lnt">1813
</span><span class="lnt">1814
</span><span class="lnt">1815
</span><span class="lnt">1816
</span><span class="lnt">1817
</span><span class="lnt">1818
</span><span class="lnt">1819
</span><span class="lnt">1820
</span><span class="lnt">1821
</span><span class="lnt">1822
</span><span class="lnt">1823
</span><span class="lnt">1824
</span><span class="lnt">1825
</span><span class="lnt">1826
</span><span class="lnt">1827
</span><span class="lnt">1828
</span><span class="lnt">1829
</span><span class="lnt">1830
</span><span class="lnt">1831
</span><span class="lnt">1832
</span><span class="lnt">1833
</span><span class="lnt">1834
</span><span class="lnt">1835
</span><span class="lnt">1836
</span><span class="lnt">1837
</span><span class="lnt">1838
</span><span class="lnt">1839
</span><span class="lnt">1840
</span><span class="lnt">1841
</span><span class="lnt">1842
</span><span class="lnt">1843
</span><span class="lnt">1844
</span><span class="lnt">1845
</span><span class="lnt">1846
</span><span class="lnt">1847
</span><span class="lnt">1848
</span><span class="lnt">1849
</span><span class="lnt">1850
</span><span class="lnt">1851
</span><span class="lnt">1852
</span><span class="lnt">1853
</span><span class="lnt">1854
</span><span class="lnt">1855
</span><span class="lnt">1856
</span><span class="lnt">1857
</span><span class="lnt">1858
</span><span class="lnt">1859
</span><span class="lnt">1860
</span><span class="lnt">1861
</span><span class="lnt">1862
</span><span class="lnt">1863
</span><span class="lnt">1864
</span><span class="lnt">1865
</span><span class="lnt">1866
</span><span class="lnt">1867
</span><span class="lnt">1868
</span><span class="lnt">1869
</span><span class="lnt">1870
</span><span class="lnt">1871
</span><span class="lnt">1872
</span><span class="lnt">1873
</span><span class="lnt">1874
</span><span class="lnt">1875
</span><span class="lnt">1876
</span><span class="lnt">1877
</span><span class="lnt">1878
</span><span class="lnt">1879
</span><span class="lnt">1880
</span><span class="lnt">1881
</span><span class="lnt">1882
</span><span class="lnt">1883
</span><span class="lnt">1884
</span><span class="lnt">1885
</span><span class="lnt">1886
</span><span class="lnt">1887
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## Photon Custom Image 생성시 아래와 같은 Log를 볼 수 있다, vCenter에서는 Template으로 생성이 되는 것을 확인 할 수 있다.</span>
</span></span><span class="line"><span class="cl">hack/ensure-ansible.sh
</span></span><span class="line"><span class="cl">Starting galaxy collection install process
</span></span><span class="line"><span class="cl">Nothing to <span class="k">do</span>. All requested collections are already installed. If you want to reinstall them, consider using <span class="sb">`</span>--force<span class="sb">`</span>.
</span></span><span class="line"><span class="cl">hack/ensure-ansible-windows.sh
</span></span><span class="line"><span class="cl">hack/ensure-packer.sh
</span></span><span class="line"><span class="cl">hack/ensure-goss.sh
</span></span><span class="line"><span class="cl">Right version of binary present
</span></span><span class="line"><span class="cl">hack/ensure-ovftool.sh
</span></span><span class="line"><span class="cl">packer build -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/kubernetes.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/cni.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/containerd.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/ansible-args.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/goss-args.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/common.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/additional_components.json&#34;</span>  -color<span class="o">=</span><span class="nb">true</span>  -var-file<span class="o">=</span><span class="s2">&#34;packer/ova/packer-common.json&#34;</span> -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/ova/photon-3.json&#34;</span> -var-file<span class="o">=</span><span class="s2">&#34;packer/ova/vsphere.json&#34;</span>  -except<span class="o">=</span><span class="nb">local</span> -only<span class="o">=</span>vsphere-iso -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/tkg.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/vsphere.json&#34;</span>  -only<span class="o">=</span>vsphere packer/ova/packer-node.json
</span></span><span class="line"><span class="cl">vsphere: output will be in this color.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: File /home/imagebuilder/.cache/packer/2d88648c04e690990b2940ca3710b0baadf15256.iso already uploaded<span class="p">;</span> <span class="nv">continuing</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: File <span class="o">[</span>vsanDatastore<span class="o">]</span> packer_cache//2d88648c04e690990b2940ca3710b0baadf15256.iso already exists<span class="p">;</span> skipping upload.
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Creating VM...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Customizing hardware...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Mounting ISO images...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Adding configuration parameters...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Starting HTTP server on port <span class="nv">8897</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Set boot order temporary...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Power on VM...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Waiting 10s <span class="k">for</span> boot...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: HTTP server is working at http://10.253.126.163:8897/
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Typing boot command...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Waiting <span class="k">for</span> IP...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: IP address: 10.253.126.198
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Using SSH communicator to connect: 10.253.126.198
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Waiting <span class="k">for</span> SSH to become available...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Connected to SSH!
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with shell script: ./packer/files/flatcar/scripts/bootstrap-flatcar.sh
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with Ansible...
</span></span><span class="line"><span class="cl">    vsphere: Setting up proxy adapter <span class="k">for</span> Ansible....
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Executing Ansible: ansible-playbook -e <span class="nv">packer_build_name</span><span class="o">=</span><span class="s2">&#34;vsphere&#34;</span> -e packer_*****_type<span class="o">=</span>vsphere-iso -e <span class="nv">packer_http_addr</span><span class="o">=</span>10.253.126.163:8897 --ssh-extra-args <span class="s1">&#39;-o IdentitiesOnly=yes&#39;</span> --extra-vars <span class="nv">containerd_url</span><span class="o">=</span>http://10.253.126.163:3000/files/containerd/cri-containerd-v1.6.6+vmware.2.linux-amd64.tar <span class="nv">containerd_sha256</span><span class="o">=</span>48f4327570dd7543464a28893160ab3bc9719ed2553f0a529a884b40f6dafd29 <span class="nv">pause_image</span><span class="o">=</span>projects.registry.vmware.com/tkg/pause:3.6 <span class="nv">containerd_additional_settings</span><span class="o">=</span> <span class="nv">containerd_cri_socket</span><span class="o">=</span>/var/run/containerd/containerd.sock <span class="nv">containerd_version</span><span class="o">=</span>v1.6.6+vmware.2 <span class="nv">crictl_url</span><span class="o">=</span> <span class="nv">crictl_sha256</span><span class="o">=</span> <span class="nv">crictl_source_type</span><span class="o">=</span>pkg <span class="nv">custom_role_names</span><span class="o">=</span><span class="s2">&#34;/home/image*****/tkg&#34;</span> <span class="nv">firstboot_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">firstboot_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">disable_public_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">extra_debs</span><span class="o">=</span><span class="s2">&#34;nfs-common unzip apparmor apparmor-utils sysstat&#34;</span> <span class="nv">extra_repos</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">extra_rpms</span><span class="o">=</span><span class="s2">&#34;sysstat&#34;</span> <span class="nv">http_proxy</span><span class="o">=</span> <span class="nv">https_proxy</span><span class="o">=</span> <span class="nv">kubeadm_template</span><span class="o">=</span>etc/kubeadm.yml <span class="nv">kubernetes_cni_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/cni_plugins <span class="nv">kubernetes_cni_http_checksum</span><span class="o">=</span> <span class="nv">kubernetes_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/kubernetes <span class="nv">kubernetes_container_registry</span><span class="o">=</span>projects.registry.vmware.com/tkg <span class="nv">kubernetes_rpm_repo</span><span class="o">=</span>https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64 <span class="nv">kubernetes_rpm_gpg_key</span><span class="o">=</span><span class="s2">&#34;https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg&#34;</span> <span class="nv">kubernetes_rpm_gpg_check</span><span class="o">=</span>True <span class="nv">kubernetes_deb_repo</span><span class="o">=</span><span class="s2">&#34;https://apt.kubernetes.io/ kubernetes-xenial&#34;</span> <span class="nv">kubernetes_deb_gpg_key</span><span class="o">=</span>https://packages.cloud.google.com/apt/doc/apt-key.gpg <span class="nv">kubernetes_cni_deb_version</span><span class="o">=</span>1.1.1-00 <span class="nv">kubernetes_cni_rpm_version</span><span class="o">=</span>1.1.1-0 <span class="nv">kubernetes_cni_semver</span><span class="o">=</span>v1.1.1+vmware.7 <span class="nv">kubernetes_cni_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_semver</span><span class="o">=</span>v1.23.10+vmware.1 <span class="nv">kubernetes_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_load_additional_imgs</span><span class="o">=</span><span class="nb">true</span> <span class="nv">kubernetes_deb_version</span><span class="o">=</span>1.23.10-00 <span class="nv">kubernetes_rpm_version</span><span class="o">=</span>1.23.10-0 <span class="nv">no_proxy</span><span class="o">=</span> <span class="nv">pip_conf_file</span><span class="o">=</span> <span class="nv">python_path</span><span class="o">=</span> <span class="nv">redhat_epel_rpm</span><span class="o">=</span>https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm <span class="nv">epel_rpm_gpg_key</span><span class="o">=</span> <span class="nv">reenable_public_repos</span><span class="o">=</span><span class="nb">true</span> <span class="nv">remove_extra_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">systemd_prefix</span><span class="o">=</span>/usr/lib/systemd <span class="nv">sysusr_prefix</span><span class="o">=</span>/usr <span class="nv">sysusrlocal_prefix</span><span class="o">=</span>/usr/local <span class="nv">load_additional_components</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images_list</span><span class="o">=</span> <span class="nv">additional_url_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_url_images_list</span><span class="o">=</span> <span class="nv">additional_executables</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_executables_list</span><span class="o">=</span> <span class="nv">additional_executables_destination_path</span><span class="o">=</span> <span class="nv">build_target</span><span class="o">=</span>virt <span class="nv">amazon_ssm_agent_rpm</span><span class="o">=</span> --extra-vars <span class="nv">guestinfo_datasource_slug</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo <span class="nv">guestinfo_datasource_ref</span><span class="o">=</span>v1.4.1 <span class="nv">guestinfo_datasource_script</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo/v1.4.1/install.sh --extra-vars  -e <span class="nv">ansible_ssh_private_key_file</span><span class="o">=</span>/tmp/ansible-key167164286 -i /tmp/packer-provisioner-ansible3699664147 /home/image*****/ansible/firstboot.yml
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY <span class="o">[</span>all<span class="o">]</span> *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: <span class="o">[</span>WARNING<span class="o">]</span>: Platform linux on host default is using the discovered Python
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>Gathering Facts<span class="o">]</span> *********************************************************
</span></span><span class="line"><span class="cl">    vsphere: interpreter at /usr/bin/python, but future installation of another Python
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere: interpreter could change the meaning of that path. See
</span></span><span class="line"><span class="cl">    vsphere: https://docs.ansible.com/ansible-
</span></span><span class="line"><span class="cl">    vsphere: core/2.11/reference_appendices/interpreter_discovery.html <span class="k">for</span> more information.
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : firstboot<span class="o">]</span> ************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : add bash_profile<span class="o">]</span> ************************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : Perform a tdnf distro-sync<span class="o">]</span> **************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : Concatenate the Photon RPMs<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : install extra RPMs<span class="o">]</span> **********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : Increase tmpfs size<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : reset iptables rules input<span class="o">]</span> **************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : reset ip6tables rules input<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>firstboot : include_tasks<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere: included: /home/imagebuilder/ansible/roles/firstboot/tasks/photon.yml <span class="k">for</span> default
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>firstboot : Set transparent huge pages to madvise<span class="o">]</span> ***********************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY RECAP *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere: default                    : <span class="nv">ok</span><span class="o">=</span><span class="m">10</span>   <span class="nv">changed</span><span class="o">=</span><span class="m">7</span>    <span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span>    <span class="nv">failed</span><span class="o">=</span><span class="m">0</span>    <span class="nv">skipped</span><span class="o">=</span><span class="m">72</span>   <span class="nv">rescued</span><span class="o">=</span><span class="m">0</span>    <span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with shell script: /tmp/packer-shell2422633172
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with Ansible...
</span></span><span class="line"><span class="cl">    vsphere: Setting up proxy adapter <span class="k">for</span> Ansible....
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Executing Ansible: ansible-playbook -e <span class="nv">packer_build_name</span><span class="o">=</span><span class="s2">&#34;vsphere&#34;</span> -e packer_*****_type<span class="o">=</span>vsphere-iso -e <span class="nv">packer_http_addr</span><span class="o">=</span>10.253.126.163:8897 --ssh-extra-args <span class="s1">&#39;-o IdentitiesOnly=yes&#39;</span> --extra-vars <span class="nv">containerd_url</span><span class="o">=</span>http://10.253.126.163:3000/files/containerd/cri-containerd-v1.6.6+vmware.2.linux-amd64.tar <span class="nv">containerd_sha256</span><span class="o">=</span>48f4327570dd7543464a28893160ab3bc9719ed2553f0a529a884b40f6dafd29 <span class="nv">pause_image</span><span class="o">=</span>projects.registry.vmware.com/tkg/pause:3.6 <span class="nv">containerd_additional_settings</span><span class="o">=</span> <span class="nv">containerd_cri_socket</span><span class="o">=</span>/var/run/containerd/containerd.sock <span class="nv">containerd_version</span><span class="o">=</span>v1.6.6+vmware.2 <span class="nv">crictl_url</span><span class="o">=</span> <span class="nv">crictl_sha256</span><span class="o">=</span> <span class="nv">crictl_source_type</span><span class="o">=</span>pkg <span class="nv">custom_role_names</span><span class="o">=</span><span class="s2">&#34;/home/image*****/tkg&#34;</span> <span class="nv">firstboot_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">firstboot_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">disable_public_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">extra_debs</span><span class="o">=</span><span class="s2">&#34;nfs-common unzip apparmor apparmor-utils sysstat&#34;</span> <span class="nv">extra_repos</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">extra_rpms</span><span class="o">=</span><span class="s2">&#34;sysstat&#34;</span> <span class="nv">http_proxy</span><span class="o">=</span> <span class="nv">https_proxy</span><span class="o">=</span> <span class="nv">kubeadm_template</span><span class="o">=</span>etc/kubeadm.yml <span class="nv">kubernetes_cni_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/cni_plugins <span class="nv">kubernetes_cni_http_checksum</span><span class="o">=</span> <span class="nv">kubernetes_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/kubernetes <span class="nv">kubernetes_container_registry</span><span class="o">=</span>projects.registry.vmware.com/tkg <span class="nv">kubernetes_rpm_repo</span><span class="o">=</span>https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64 <span class="nv">kubernetes_rpm_gpg_key</span><span class="o">=</span><span class="s2">&#34;https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg&#34;</span> <span class="nv">kubernetes_rpm_gpg_check</span><span class="o">=</span>True <span class="nv">kubernetes_deb_repo</span><span class="o">=</span><span class="s2">&#34;https://apt.kubernetes.io/ kubernetes-xenial&#34;</span> <span class="nv">kubernetes_deb_gpg_key</span><span class="o">=</span>https://packages.cloud.google.com/apt/doc/apt-key.gpg <span class="nv">kubernetes_cni_deb_version</span><span class="o">=</span>1.1.1-00 <span class="nv">kubernetes_cni_rpm_version</span><span class="o">=</span>1.1.1-0 <span class="nv">kubernetes_cni_semver</span><span class="o">=</span>v1.1.1+vmware.7 <span class="nv">kubernetes_cni_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_semver</span><span class="o">=</span>v1.23.10+vmware.1 <span class="nv">kubernetes_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_load_additional_imgs</span><span class="o">=</span><span class="nb">true</span> <span class="nv">kubernetes_deb_version</span><span class="o">=</span>1.23.10-00 <span class="nv">kubernetes_rpm_version</span><span class="o">=</span>1.23.10-0 <span class="nv">no_proxy</span><span class="o">=</span> <span class="nv">pip_conf_file</span><span class="o">=</span> <span class="nv">python_path</span><span class="o">=</span> <span class="nv">redhat_epel_rpm</span><span class="o">=</span>https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm <span class="nv">epel_rpm_gpg_key</span><span class="o">=</span> <span class="nv">reenable_public_repos</span><span class="o">=</span><span class="nb">true</span> <span class="nv">remove_extra_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">systemd_prefix</span><span class="o">=</span>/usr/lib/systemd <span class="nv">sysusr_prefix</span><span class="o">=</span>/usr <span class="nv">sysusrlocal_prefix</span><span class="o">=</span>/usr/local <span class="nv">load_additional_components</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images_list</span><span class="o">=</span> <span class="nv">additional_url_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_url_images_list</span><span class="o">=</span> <span class="nv">additional_executables</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_executables_list</span><span class="o">=</span> <span class="nv">additional_executables_destination_path</span><span class="o">=</span> <span class="nv">build_target</span><span class="o">=</span>virt <span class="nv">amazon_ssm_agent_rpm</span><span class="o">=</span> --extra-vars <span class="nv">guestinfo_datasource_slug</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo <span class="nv">guestinfo_datasource_ref</span><span class="o">=</span>v1.4.1 <span class="nv">guestinfo_datasource_script</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo/v1.4.1/install.sh --extra-vars  -e <span class="nv">ansible_ssh_private_key_file</span><span class="o">=</span>/tmp/ansible-key3066177402 -i /tmp/packer-provisioner-ansible1843978590 /home/image*****/ansible/node.yml
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY <span class="o">[</span>all<span class="o">]</span> *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: <span class="o">[</span>WARNING<span class="o">]</span>: Platform linux on host default is using the discovered Python
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>Gathering Facts<span class="o">]</span> *********************************************************
</span></span><span class="line"><span class="cl">    vsphere: interpreter at /usr/bin/python, but future installation of another Python
</span></span><span class="line"><span class="cl">    vsphere: interpreter could change the meaning of that path. See
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere: https://docs.ansible.com/ansible-
</span></span><span class="line"><span class="cl">    vsphere: core/2.11/reference_appendices/interpreter_discovery.html <span class="k">for</span> more information.
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : node<span class="o">]</span> *****************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : add bash_profile<span class="o">]</span> ************************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : Perform a tdnf distro-sync<span class="o">]</span> **************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : Concatenate the Photon RPMs<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : install baseline dependencies<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : install extra RPMs<span class="o">]</span> **********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : Increase tmpfs size<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : reset iptables rules input<span class="o">]</span> **************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : reset ip6tables rules input<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Double TCP small queue limit to be the same as Ubuntu<span class="o">]</span> ************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Disable Apparmor service<span class="o">]</span> *****************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Disable Apparmor in kernel<span class="o">]</span> ***************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Ensure overlay module is present<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Ensure br_netfilter module is present<span class="o">]</span> ****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Persist required kernel modules<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Set and persist kernel params<span class="o">]</span> ************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.bridge.bridge-nf-call-iptables&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.bridge.bridge-nf-call-ip6tables&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.ip_forward&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.conf.all.forwarding&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.conf.all.disable_ipv6&#39;</span>, <span class="s1">&#39;val&#39;</span>: 0<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.tcp_congestion_control&#39;</span>, <span class="s1">&#39;val&#39;</span>: <span class="s1">&#39;bbr&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;vm.overcommit_memory&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;kernel.panic&#39;</span>, <span class="s1">&#39;val&#39;</span>: 10<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;kernel.panic_on_oops&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Disable conntrackd service<span class="o">]</span> ***************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Ensure auditd is running and comes on at reboot<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : configure auditd rules <span class="k">for</span> containerd<span class="o">]</span> ****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Copy udev etcd network tuning rules<span class="o">]</span> ******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Copy etcd network tuning script<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : providers<span class="o">]</span> ************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : include_tasks<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere: included: /home/imagebuilder/ansible/roles/providers/tasks/vmware.yml <span class="k">for</span> default
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : include_tasks<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere: included: /home/imagebuilder/ansible/roles/providers/tasks/vmware-photon.yml <span class="k">for</span> default
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Install cloud-init and tools <span class="k">for</span> VMware Photon OS<span class="o">]</span> ***********
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Remove cloud-init /etc/cloud/cloud.cfg.d/99-disable-networking-config.cfg<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Install networkd-dispatcher service <span class="o">(</span>Download from <span class="nb">source</span><span class="o">)]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create needed directories<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;dir&#39;</span>: <span class="s1">&#39;/etc/conf.d&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;dir&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/carrier.d&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;dir&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/configured.d&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;dir&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/configuring.d&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;dir&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/degraded.d&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;dir&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/dormant.d&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;dir&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/no-carrier.d&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;dir&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/off.d&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;dir&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/routable.d&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Install networkd-dispatcher service <span class="o">(</span>Move files<span class="o">)]</span> ************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;src&#39;</span>: <span class="s1">&#39;/tmp/networkd-dispatcher-2.1/networkd-dispatcher&#39;</span>, <span class="s1">&#39;dest&#39;</span>: <span class="s1">&#39;/usr/bin&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;src&#39;</span>: <span class="s1">&#39;/tmp/networkd-dispatcher-2.1/networkd-dispatcher.service&#39;</span>, <span class="s1">&#39;dest&#39;</span>: <span class="s1">&#39;/etc/systemd/system&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;src&#39;</span>: <span class="s1">&#39;/tmp/networkd-dispatcher-2.1/networkd-dispatcher.conf&#39;</span>, <span class="s1">&#39;dest&#39;</span>: <span class="s1">&#39;/etc/conf.d&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Install networkd-dispatcher service <span class="o">(</span>Run networkd-dispatcher<span class="o">)]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Copy networkd-dispatcher scripts to add DHCP provided NTP servers<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;src&#39;</span>: <span class="s1">&#39;files/etc/networkd-dispatcher/routable.d/20-chrony.j2&#39;</span>, <span class="s1">&#39;dest&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/routable.d/20-chrony&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;src&#39;</span>: <span class="s1">&#39;files/etc/networkd-dispatcher/off.d/20-chrony.j2&#39;</span>, <span class="s1">&#39;dest&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/off.d/20-chrony&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;src&#39;</span>: <span class="s1">&#39;files/etc/networkd-dispatcher/no-carrier.d/20-chrony.j2&#39;</span>, <span class="s1">&#39;dest&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/no-carrier.d/20-chrony&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Copy chrony-helper script<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create provider vmtools config drop-in file<span class="o">]</span> *****************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create service to modify cloud-init config<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Copy cloud-init modification script<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Enable modify-cloud-init-cfg.service<span class="o">]</span> ************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Creates unit file directory <span class="k">for</span> cloud-final<span class="o">]</span> *****************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create cloud-final boot order drop in file<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Creates unit file directory <span class="k">for</span> cloud-config<span class="o">]</span> ****************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create cloud-final boot order drop in file<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Make sure all cloud init services are enabled<span class="o">]</span> ***************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-final<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-config<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-init<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-init-local<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create cloud-init config file<span class="o">]</span> *******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Ensure chrony is running<span class="o">]</span> ************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : containerd<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Install libseccomp package<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : download containerd<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create a directory <span class="k">if</span> it does not exist<span class="o">]</span> ********************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : unpack containerd<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : delete /opt/cni directory<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : delete /etc/cni directory<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Creates unit file directory<span class="o">]</span> ********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create containerd memory pressure drop in file<span class="o">]</span> *************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create containerd max tasks drop in file<span class="o">]</span> *******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create containerd http proxy conf file <span class="k">if</span> needed<span class="o">]</span> ***********
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Creates containerd config directory<span class="o">]</span> ************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Copy in containerd config file etc/containerd/config.toml<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Copy in crictl config<span class="o">]</span> **************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : start containerd service<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : delete tarball<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : kubernetes<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Symlink cri-tools<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>ctr<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>crictl<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>critest<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create CNI directory<span class="o">]</span> ***************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Download CNI tarball<span class="o">]</span> ***************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Install CNI<span class="o">]</span> ************************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Remove CNI tarball<span class="o">]</span> *****************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Download Kubernetes binaries<span class="o">]</span> *******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kubeadm<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kubectl<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kubelet<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Download Kubernetes images<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-apiserver.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-controller-manager.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-scheduler.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-proxy.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>pause.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>coredns.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>etcd.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Load Kubernetes images<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-apiserver.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-controller-manager.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-scheduler.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-proxy.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>pause.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>coredns.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>etcd.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Remove Kubernetes images<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-apiserver.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-controller-manager.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-scheduler.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-proxy.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>pause.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>coredns.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>etcd.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create Kubernetes manifests directory<span class="o">]</span> **********************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet sysconfig directory<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet drop-in directory<span class="o">]</span> ***************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet kubeadm drop-in file<span class="o">]</span> ************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet systemd file<span class="o">]</span> ********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet default config file<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Enable kubelet service<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create the Kubernetes version file<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Check <span class="k">if</span> Kubernetes container registry is using Amazon ECR<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : <span class="o">{{</span> role <span class="o">}}]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : Create /tkg-tmp space<span class="o">]</span> **************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : include_tasks<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: included: /home/imagebuilder/tkg/tasks/vsphere.yml <span class="k">for</span> default
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : Set extra kernel params <span class="k">for</span> GC threshhold<span class="o">]</span> ******
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.neigh.default.gc_thresh1&#39;</span>, <span class="s1">&#39;val&#39;</span>: 4096<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.neigh.default.gc_thresh1&#39;</span>, <span class="s1">&#39;val&#39;</span>: 4096<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.neigh.default.gc_thresh2&#39;</span>, <span class="s1">&#39;val&#39;</span>: 8192<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.neigh.default.gc_thresh2&#39;</span>, <span class="s1">&#39;val&#39;</span>: 8192<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.neigh.default.gc_thresh3&#39;</span>, <span class="s1">&#39;val&#39;</span>: 16384<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.neigh.default.gc_thresh3&#39;</span>, <span class="s1">&#39;val&#39;</span>: 16384<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : Ensure fs.file-max is set<span class="o">]</span> **********************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : sysprep<span class="o">]</span> **************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Define file modes<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : <span class="nb">set</span> hostname<span class="o">]</span> **************************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove the kickstart log<span class="o">]</span> **************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Get installed packages<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : create a package list<span class="o">]</span> *****************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : exclude packages from upgrade<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove tdnf package caches<span class="o">]</span> ************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Lock root account<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove containerd http proxy conf file <span class="k">if</span> needed<span class="o">]</span> **************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate machine id<span class="o">]</span> *******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/machine-id&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0444&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/machine-id&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0444&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate hostname file<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/hostname&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/hostname&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Reset hosts file<span class="o">]</span> **********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate audit logs<span class="o">]</span> *******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/wtmp&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0664&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/lastlog&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/wtmp&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0664&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/lastlog&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove cloud-init lib dir and logs<span class="o">]</span> ****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/lib/cloud<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/log/cloud-init.log<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/log/cloud-init-output.log<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/run/cloud-init<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Find temp files<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Reset temp space<span class="o">]</span> **********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/tmp.fstab&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0640&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 34, <span class="s1">&#39;inode&#39;</span>: 57450, <span class="s1">&#39;dev&#39;</span>: 40, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677665217.6763215, <span class="s1">&#39;mtime&#39;</span>: 1677665217.6723216, <span class="s1">&#39;ctime&#39;</span>: 1677665217.6723216, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/ansible_find_payload_3hbfsyyc&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 60, <span class="s1">&#39;inode&#39;</span>: 63432, <span class="s1">&#39;dev&#39;</span>: 40, <span class="s1">&#39;nlink&#39;</span>: 2, <span class="s1">&#39;atime&#39;</span>: 1677665254.2719367, <span class="s1">&#39;mtime&#39;</span>: 1677665254.2719367, <span class="s1">&#39;ctime&#39;</span>: 1677665254.2719367, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/systemd-private-3a2fc663b4fc47f4ba32428a1da69c77-systemd-hostnamed.service-xJnZMS&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 60, <span class="s1">&#39;inode&#39;</span>: 57839, <span class="s1">&#39;dev&#39;</span>: 40, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677665228.8361993, <span class="s1">&#39;mtime&#39;</span>: 1677665228.8361993, <span class="s1">&#39;ctime&#39;</span>: 1677665228.8361993, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/systemd-private-3a2fc663b4fc47f4ba32428a1da69c77-chronyd.service-fJ6BYJ&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 60, <span class="s1">&#39;inode&#39;</span>: 38557, <span class="s1">&#39;dev&#39;</span>: 40, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677665108.6314168, <span class="s1">&#39;mtime&#39;</span>: 1677665108.6314168, <span class="s1">&#39;ctime&#39;</span>: 1677665108.6314168, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/networkd-dispatcher-2.1&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0775&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 240, <span class="s1">&#39;inode&#39;</span>: 31992, <span class="s1">&#39;dev&#39;</span>: 40, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677665059.744108, <span class="s1">&#39;mtime&#39;</span>: 1677665074.139975, <span class="s1">&#39;ctime&#39;</span>: 1677665074.139975, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: True, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: True, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: True, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/systemd-private-3a2fc663b4fc47f4ba32428a1da69c77-systemd-resolved.service-xp4jFP&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 60, <span class="s1">&#39;inode&#39;</span>: 17549, <span class="s1">&#39;dev&#39;</span>: 40, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677664816.3119998, <span class="s1">&#39;mtime&#39;</span>: 1677664816.3119998, <span class="s1">&#39;ctime&#39;</span>: 1677664816.3119998, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/systemd-private-3a2fc663b4fc47f4ba32428a1da69c77-systemd-networkd.service-t6w0pJ&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 60, <span class="s1">&#39;inode&#39;</span>: 17540, <span class="s1">&#39;dev&#39;</span>: 40, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677664816.1039999, <span class="s1">&#39;mtime&#39;</span>: 1677664816.1039999, <span class="s1">&#39;ctime&#39;</span>: 1677664816.1039999, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/vmware-root_477-2084322203&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 40, <span class="s1">&#39;inode&#39;</span>: 19486, <span class="s1">&#39;dev&#39;</span>: 40, <span class="s1">&#39;nlink&#39;</span>: 2, <span class="s1">&#39;atime&#39;</span>: 1677664812.5279999, <span class="s1">&#39;mtime&#39;</span>: 1677664812.5279999, <span class="s1">&#39;ctime&#39;</span>: 1677664812.5279999, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/tmp/systemd-private-3a2fc663b4fc47f4ba32428a1da69c77-systemd-networkd.service-aPq1ih&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 1048662, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677664816.1039999, <span class="s1">&#39;mtime&#39;</span>: 1677664816.1039999, <span class="s1">&#39;ctime&#39;</span>: 1677664816.1039999, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/tmp/systemd-private-3a2fc663b4fc47f4ba32428a1da69c77-systemd-resolved.service-kXLC1n&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 1048689, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677664816.3119998, <span class="s1">&#39;mtime&#39;</span>: 1677664816.3119998, <span class="s1">&#39;ctime&#39;</span>: 1677664816.3119998, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/tmp/systemd-private-3a2fc663b4fc47f4ba32428a1da69c77-systemd-hostnamed.service-cCjnEF&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 1055760, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677665228.8361993, <span class="s1">&#39;mtime&#39;</span>: 1677665228.8361993, <span class="s1">&#39;ctime&#39;</span>: 1677665228.8361993, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/tmp/systemd-private-3a2fc663b4fc47f4ba32428a1da69c77-chronyd.service-KHvBV5&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 1048771, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677665108.6314168, <span class="s1">&#39;mtime&#39;</span>: 1677665108.6314168, <span class="s1">&#39;ctime&#39;</span>: 1677665108.6314168, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: <span class="o">[</span>WARNING<span class="o">]</span>: Skipped <span class="s1">&#39;/lib/netplan&#39;</span> path due to this access issue: <span class="s1">&#39;/lib/netplan&#39;</span>
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Find netplan files<span class="o">]</span> ********************************************
</span></span><span class="line"><span class="cl">    vsphere: is not a directory
</span></span><span class="line"><span class="cl">    vsphere: <span class="o">[</span>WARNING<span class="o">]</span>: Skipped <span class="s1">&#39;/etc/netplan&#39;</span> path due to this access issue: <span class="s1">&#39;/etc/netplan&#39;</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere: is not a directory
</span></span><span class="line"><span class="cl">    vsphere: <span class="o">[</span>WARNING<span class="o">]</span>: Skipped <span class="s1">&#39;/run/netplan&#39;</span> path due to this access issue: <span class="s1">&#39;/run/netplan&#39;</span>
</span></span><span class="line"><span class="cl">    vsphere: is not a directory
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Find SSH host keys<span class="o">]</span> ********************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove SSH host keys<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ed25519_key&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0600&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 411, <span class="s1">&#39;inode&#39;</span>: 655964, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677664650.3719997, <span class="s1">&#39;mtime&#39;</span>: 1677664650.3719997, <span class="s1">&#39;ctime&#39;</span>: 1677664650.3719997, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ecdsa_key&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0600&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 505, <span class="s1">&#39;inode&#39;</span>: 655962, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677664650.3559997, <span class="s1">&#39;mtime&#39;</span>: 1677664650.3559997, <span class="s1">&#39;ctime&#39;</span>: 1677664650.3559997, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_dsa_key&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0600&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 1381, <span class="s1">&#39;inode&#39;</span>: 655960, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677664650.3439996, <span class="s1">&#39;mtime&#39;</span>: 1677664650.3439996, <span class="s1">&#39;ctime&#39;</span>: 1677664650.3439996, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_dsa_key.pub&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 604, <span class="s1">&#39;inode&#39;</span>: 655961, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677664650.3439996, <span class="s1">&#39;mtime&#39;</span>: 1677664650.3439996, <span class="s1">&#39;ctime&#39;</span>: 1677664650.3439996, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_rsa_key.pub&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 396, <span class="s1">&#39;inode&#39;</span>: 655959, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677664650.2879996, <span class="s1">&#39;mtime&#39;</span>: 1677664650.2879996, <span class="s1">&#39;ctime&#39;</span>: 1677664650.2879996, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_rsa_key&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0600&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 1823, <span class="s1">&#39;inode&#39;</span>: 655957, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677664650.2879996, <span class="s1">&#39;mtime&#39;</span>: 1677664650.2879996, <span class="s1">&#39;ctime&#39;</span>: 1677664650.2879996, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ed25519_key.pub&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 96, <span class="s1">&#39;inode&#39;</span>: 655965, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677664650.3719997, <span class="s1">&#39;mtime&#39;</span>: 1677664650.3719997, <span class="s1">&#39;ctime&#39;</span>: 1677664650.3719997, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ecdsa_key.pub&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 176, <span class="s1">&#39;inode&#39;</span>: 655963, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677664650.3559997, <span class="s1">&#39;mtime&#39;</span>: 1677664650.3559997, <span class="s1">&#39;ctime&#39;</span>: 1677664650.3559997, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove SSH authorized users<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/root/.ssh/authorized_keys&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/home/builder/.ssh/authorized_keys&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate all remaining log files in /var/log<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Delete all logrotated log zips<span class="o">]</span> ********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate shell history<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/root/.bash_history&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/home/builder/.bash_history&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Rotate journalctl to archive logs<span class="o">]</span> *****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove archived journalctl logs<span class="o">]</span> *******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY RECAP *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere: default                    : <span class="nv">ok</span><span class="o">=</span><span class="m">104</span>  <span class="nv">changed</span><span class="o">=</span><span class="m">81</span>   <span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span>    <span class="nv">failed</span><span class="o">=</span><span class="m">0</span>    <span class="nv">skipped</span><span class="o">=</span><span class="m">207</span>  <span class="nv">rescued</span><span class="o">=</span><span class="m">0</span>    <span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with <span class="nv">Goss</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Configured to run on Linux
</span></span><span class="line"><span class="cl">    vsphere: Creating directory: /tkg-tmp/goss
</span></span><span class="line"><span class="cl">    vsphere: Installing Goss from, https://github.com/aelsabbahy/goss/releases/download/v0.3.16/goss-linux-amd64
</span></span><span class="line"><span class="cl">    vsphere: Downloading Goss to /tkg-tmp/goss-linux-amd64
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  <span class="nv">Current</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:                                  Dload  Upload   Total   Spent    Left  <span class="nv">Speed</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:   <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>      <span class="m">0</span>      <span class="m">0</span> --:--:-- --:--:-- --:--:--     <span class="nv">0</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:   <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>      <span class="m">0</span>      <span class="m">0</span> --:--:-- --:--:-- --:--:--     <span class="nv">0</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: <span class="m">100</span> 11.8M  <span class="m">100</span> 11.8M    <span class="m">0</span>     <span class="m">0</span>  2067k      <span class="m">0</span>  0:00:05  0:00:05 --:--:-- 3162k
</span></span><span class="line"><span class="cl">    vsphere: goss version v0.3.16
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Uploading goss tests...
</span></span><span class="line"><span class="cl">    vsphere: Inline variables are --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;photon&#34;,&#34;OS_VERSION&#34;:&#34;3&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span>
</span></span><span class="line"><span class="cl">    vsphere: Uploading Dir /home/imagebuilder/goss
</span></span><span class="line"><span class="cl">    vsphere: Creating directory: /tkg-tmp/goss/goss
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running goss tests...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running GOSS render command: <span class="nb">cd</span> /tkg-tmp/goss <span class="o">&amp;&amp;</span>  /tkg-tmp/goss-linux-amd64 --gossfile goss/goss.yaml  --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;photon&#34;,&#34;OS_VERSION&#34;:&#34;3&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span> render &gt; /tmp/goss-spec.yaml
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Goss render ran <span class="nv">successfully</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running GOSS render debug command: <span class="nb">cd</span> /tkg-tmp/goss <span class="o">&amp;&amp;</span>  /tkg-tmp/goss-linux-amd64 --gossfile goss/goss.yaml  --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;photon&#34;,&#34;OS_VERSION&#34;:&#34;3&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span> render -d &gt; /tmp/debug-goss-spec.yaml
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Goss render debug ran <span class="nv">successfully</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running GOSS validate command: <span class="nb">cd</span> /tkg-tmp/goss <span class="o">&amp;&amp;</span> sudo  /tkg-tmp/goss-linux-amd64 --gossfile goss/goss.yaml  --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;photon&#34;,&#34;OS_VERSION&#34;:&#34;3&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span> validate --retry-timeout 0s --sleep 1s -f json -o pretty
</span></span><span class="line"><span class="cl">    vsphere: <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:     <span class="s2">&#34;results&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 10299109,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;rng-tools&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: rng-tools: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 25116058,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;jq&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: jq: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 25439183,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;chrony&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: chrony: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 26234385,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;cloud-init&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: cloud-init: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 32738183,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;Expected\n    \u003cbool\u003e: false\nto equal\n    \u003cbool\u003e: true&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;ethtool&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 1,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: false,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: ethtool: installed:\nExpected\n    \u003cbool\u003e: false\nto equal\n    \u003cbool\u003e: true&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 35497290,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;python-netifaces&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: python-netifaces: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 36019503,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;python3-netifaces&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: python3-netifaces: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 40315463,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;apparmor-parser&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: apparmor-parser: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 43431807,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;distrib-compat&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: distrib-compat: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 48933998,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;tar&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: tar: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 45595040,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;openssl-c_rehash&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: openssl-c_rehash: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 59955212,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;exit-status&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;containerd --version | awk -F&#39; &#39; &#39;{print substr(</span><span class="nv">$3</span><span class="s2">,2); }&#39;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: containerd --version | awk -F&#39; &#39; &#39;{print substr(</span><span class="nv">$3</span><span class="s2">,2); }&#39;: exit-status: matches expectation: [0]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 76769725,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;unzip&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: unzip: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 72268162,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;socat&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: socat: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 78789939,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;exit-status&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;crictl images | grep -v &#39;IMAGE ID&#39; | awk -F&#39;[ /]&#39; &#39;{print </span><span class="nv">$3</span><span class="s2">}&#39; | sed &#39;s/-amd64//g&#39; | sort&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: crictl images | grep -v &#39;IMAGE ID&#39; | awk -F&#39;[ /]&#39; &#39;{print </span><span class="nv">$3</span><span class="s2">}&#39; | sed &#39;s/-amd64//g&#39; | sort: exit-status: matches expectation: [0]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 13332,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;coredns&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;etcd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;kube-apiserver&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;kube-controller-manager&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;kube-proxy&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;kube-scheduler&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;pause&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;coredns&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;etcd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;kube-apiserver&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;kube-controller-manager&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;kube-proxy&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;kube-scheduler&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;pause&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;stdout&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;crictl images | grep -v &#39;IMAGE ID&#39; | awk -F&#39;[ /]&#39; &#39;{print </span><span class="nv">$3</span><span class="s2">}&#39; | sed &#39;s/-amd64//g&#39; | sort&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: crictl images | grep -v &#39;IMAGE ID&#39; | awk -F&#39;[ /]&#39; &#39;{print </span><span class="nv">$3</span><span class="s2">}&#39; | sed &#39;s/-amd64//g&#39; | sort: stdout: matches expectation: [coredns etcd kube-apiserver kube-controller-manager kube-proxy kube-scheduler pause]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 2,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 87058361,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;exit-status&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;/opt/cni/bin/host-device 2\u003e\u00261 | awk -F&#39; &#39; &#39;{print substr(</span><span class="nv">$4</span><span class="s2">,2); }&#39;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: /opt/cni/bin/host-device 2\u003e\u00261 | awk -F&#39; &#39; &#39;{print substr(</span><span class="nv">$4</span><span class="s2">,2); }&#39;: exit-status: matches expectation: [0]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 11728,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;1.1.1+vmware.7&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;1.1.1+vmware.7&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;stdout&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;/opt/cni/bin/host-device 2\u003e\u00261 | awk -F&#39; &#39; &#39;{print substr(</span><span class="nv">$4</span><span class="s2">,2); }&#39;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: /opt/cni/bin/host-device 2\u003e\u00261 | awk -F&#39; &#39; &#39;{print substr(</span><span class="nv">$4</span><span class="s2">,2); }&#39;: stdout: matches expectation: [1.1.1+vmware.7]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 2,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 86595708,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;ntp&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: ntp: installed: matches expectation: [false]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 64736050,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;sysstat&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: sysstat: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 67731573,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;conntrack-tools&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: conntrack-tools: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 98041982,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;exit-status&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;kubeadm version -o json | jq .clientVersion.gitVersion | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: kubeadm version -o json | jq .clientVersion.gitVersion | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;: exit-status: matches expectation: [0]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 15067,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;1.23.10+vmware.1&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;1.23.10+vmware.1&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;stdout&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;kubeadm version -o json | jq .clientVersion.gitVersion | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: kubeadm version -o json | jq .clientVersion.gitVersion | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;: stdout: matches expectation: [1.23.10+vmware.1]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 2,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 43288,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;8192\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;8192\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.ipv4.neigh.default.gc_thresh2&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.ipv4.neigh.default.gc_thresh2: value: matches expectation: [\&#34;8192\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 37179,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;524288\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;524288\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.ipv4.tcp_limit_output_bytes&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.ipv4.tcp_limit_output_bytes: value: matches expectation: [\&#34;524288\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 40709,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;16384\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;16384\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.ipv4.neigh.default.gc_thresh3&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.ipv4.neigh.default.gc_thresh3: value: matches expectation: [\&#34;16384\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 19243,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;4096\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;4096\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.ipv6.neigh.default.gc_thresh1&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.ipv6.neigh.default.gc_thresh1: value: matches expectation: [\&#34;4096\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 28023,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;1\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;1\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.bridge.bridge-nf-call-ip6tables&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.bridge.bridge-nf-call-ip6tables: value: matches expectation: [\&#34;1\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 28141,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;1\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;1\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.ipv4.ip_forward&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.ipv4.ip_forward: value: matches expectation: [\&#34;1\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 28205,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;1\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;1\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.ipv6.conf.all.forwarding&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.ipv6.conf.all.forwarding: value: matches expectation: [\&#34;1\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 28518,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;1\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;1\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.bridge.bridge-nf-call-iptables&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.bridge.bridge-nf-call-iptables: value: matches expectation: [\&#34;1\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 22812,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;16384\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;16384\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.ipv6.neigh.default.gc_thresh3&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.ipv6.neigh.default.gc_thresh3: value: matches expectation: [\&#34;16384\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 30924,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;4096\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;4096\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.ipv4.neigh.default.gc_thresh1&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.ipv4.neigh.default.gc_thresh1: value: matches expectation: [\&#34;4096\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 27686,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;8192\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;8192\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.ipv6.neigh.default.gc_thresh2&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.ipv6.neigh.default.gc_thresh2: value: matches expectation: [\&#34;8192\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 19066,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;9223372036854775807\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;9223372036854775807\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;fs.file-max&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: fs.file-max: value: matches expectation: [\&#34;9223372036854775807\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 29099,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;0\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;0\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.ipv6.conf.all.disable_ipv6&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.ipv6.conf.all.disable_ipv6: value: matches expectation: [\&#34;0\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 73090032,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;Expected\n    \u003cbool\u003e: false\nto equal\n    \u003cbool\u003e: true&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;nfs-utils&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 1,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: false,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: nfs-utils: installed:\nExpected\n    \u003cbool\u003e: false\nto equal\n    \u003cbool\u003e: true&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 72355410,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;open-vm-tools&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: open-vm-tools: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 112430963,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;exit-status&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;crictl ps&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: crictl ps: exit-status: matches expectation: [0]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 80632261,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;python3-pip&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: python3-pip: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 82198514,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;audit&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: audit: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 74345777,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;cloud-utils&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: cloud-utils: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 78364183,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;python-requests&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: python-requests: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 77396663,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net-tools&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: net-tools: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 73944805,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;ebtables&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: ebtables: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 145517664,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;exit-status&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;kubectl version --short --client=true -o json | jq .clientVersion.gitVersion | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: kubectl version --short --client=true -o json | jq .clientVersion.gitVersion | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;: exit-status: matches expectation: [0]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 10058,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;1.23.10+vmware.1&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;1.23.10+vmware.1&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;stdout&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;kubectl version --short --client=true -o json | jq .clientVersion.gitVersion | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: kubectl version --short --client=true -o json | jq .clientVersion.gitVersion | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;: stdout: matches expectation: [1.23.10+vmware.1]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 2,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 149739398,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;exit-status&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;kubelet --version | awk -F&#39; &#39; &#39;{print </span><span class="nv">$2</span><span class="s2">}&#39;  | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: kubelet --version | awk -F&#39; &#39; &#39;{print </span><span class="nv">$2</span><span class="s2">}&#39;  | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;: exit-status: matches expectation: [0]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 7485,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;1.23.10+vmware.1&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;1.23.10+vmware.1&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;stdout&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;kubelet --version | awk -F&#39; &#39; &#39;{print </span><span class="nv">$2</span><span class="s2">}&#39;  | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: kubelet --version | awk -F&#39; &#39; &#39;{print </span><span class="nv">$2</span><span class="s2">}&#39;  | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;: stdout: matches expectation: [1.23.10+vmware.1]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 2,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 62272042,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;enabled&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;dockerd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: dockerd: enabled: matches expectation: [false]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 20644198,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;running&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;dockerd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: dockerd: running: matches expectation: [false]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 65773735,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;enabled&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;containerd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: containerd: enabled: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 18159690,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;running&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;containerd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: containerd: running: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 58361772,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;enabled&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;kubelet&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: kubelet: enabled: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 18462803,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;running&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;kubelet&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: kubelet: running: matches expectation: [false]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 77957073,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;enabled&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;conntrackd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: conntrackd: enabled: matches expectation: [false]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 22462736,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;running&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;conntrackd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: conntrackd: running: matches expectation: [false]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 66898103,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;enabled&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;networkd-dispatcher&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: networkd-dispatcher: enabled: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 11014421,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;running&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;networkd-dispatcher&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: networkd-dispatcher: running: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 58245320,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;enabled&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;chronyd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: chronyd: enabled: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 14300317,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;running&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;chronyd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: chronyd: running: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 66981034,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;enabled&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;apparmor&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: apparmor: enabled: matches expectation: [false]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 10594373,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;running&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;apparmor&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: apparmor: running: matches expectation: [false]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 67507859,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;enabled&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;auditd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: auditd: enabled: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 10329547,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;running&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;auditd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: auditd: running: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>
</span></span><span class="line"><span class="cl">    vsphere:     <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:     <span class="s2">&#34;summary&#34;</span>: <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="s2">&#34;failed-count&#34;</span>: 2,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Count: 65, Failed: 2, Duration: 0.168s&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="s2">&#34;test-count&#34;</span>: 65,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="s2">&#34;total-duration&#34;</span>: <span class="m">168422616</span>
</span></span><span class="line"><span class="cl">    vsphere:     <span class="o">}</span>
</span></span><span class="line"><span class="cl">    vsphere: <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Goss validate <span class="nv">failed</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Inspect mode on : proceeding without failing <span class="nv">Packer</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Downloading spec file and debug info
</span></span><span class="line"><span class="cl">    vsphere: Downloading Goss specs from, /tmp/goss-spec.yaml and /tmp/debug-goss-spec.yaml to current <span class="nv">dir</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Executing shutdown command...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Deleting Floppy drives...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Eject CD-ROM drives...
</span></span><span class="line"><span class="cl">    vsphere: Starting export...
</span></span><span class="line"><span class="cl">    vsphere: Downloading: photon-3-kube-v1.23.10_vmware.1-disk-0.vmdk
</span></span><span class="line"><span class="cl">    vsphere: Exporting file: photon-3-kube-v1.23.10_vmware.1-disk-0.vmdk
</span></span><span class="line"><span class="cl">    vsphere: Writing ovf...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Clear boot order...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running post-processor: packer-manifest <span class="o">(</span><span class="nb">type</span> manifest<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running post-processor: vsphere <span class="o">(</span><span class="nb">type</span> shell-local<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Running <span class="nb">local</span> shell script: /tmp/packer-shell2767289316
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Opening OVF source: photon-3-kube-v1.23.10+vmware.1.ovf
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Opening OVA target: photon-3-kube-v1.23.10+vmware.1.ova
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Writing OVA package: photon-3-kube-v1.23.10+vmware.1.ova
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Transfer Completed
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Warning:
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>:  - No manifest file found.
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>:  - No supported manifest<span class="o">(</span>sha1, sha256, sha512<span class="o">)</span> entry found <span class="k">for</span>: <span class="s1">&#39;photon-3-kube-v1.23.10_vmware.1-disk-0.vmdk&#39;</span>.
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Completed successfully
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: <span class="nb">cd</span> .
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: loaded photon-3-kube-v1.23.10+vmware.1
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: create ovf photon-3-kube-v1.23.10+vmware.1.ovf
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: creating OVA from photon-3-kube-v1.23.10+vmware.1.ovf using ovftool
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: create ova checksum photon-3-kube-v1.23.10+vmware.1.ova.sha256
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running post-processor: custom-post-processor <span class="o">(</span><span class="nb">type</span> shell-local<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Running <span class="nb">local</span> shell script: /tmp/packer-shell4018393751
</span></span><span class="line"><span class="cl">Build <span class="s1">&#39;vsphere&#39;</span> finished after <span class="m">13</span> minutes <span class="m">36</span> seconds.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; Wait completed after <span class="m">13</span> minutes <span class="m">36</span> <span class="nv">seconds</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; Builds finished. The artifacts of successful builds are:
</span></span><span class="line"><span class="cl">--&gt; vsphere: photon-3-kube-v1.23.10_vmware.1
</span></span><span class="line"><span class="cl">--&gt; vsphere: photon-3-kube-v1.23.10_vmware.1
</span></span><span class="line"><span class="cl">--&gt; vsphere: photon-3-kube-v1.23.10_vmware.1
</span></span><span class="line"><span class="cl">--&gt; vsphere: photon-3-kube-v1.23.10_vmware.1
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## output 폴더 OVA 생성</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 1.6 </span>
</span></span><span class="line"><span class="cl">ls output/photon-3-kube-v1.23.10_vmware.1/
</span></span><span class="line"><span class="cl">packer-manifest.json  photon-3-kube-v1.23.10+vmware.1.ova  photon-3-kube-v1.23.10+vmware.1.ova.sha256  photon-3-kube-v1.23.10+vmware.1.ovf  photon-3-kube-v1.23.10_vmware.1-disk-0.vmdk  photon-3-kube-v1.23.10_vmware.1.ovf
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 2.1</span>
</span></span><span class="line"><span class="cl">ls output/photon-3-kube-v1.24.9_vmware.1/
</span></span><span class="line"><span class="cl">packer-manifest.json  photon-3-kube-v1.24.9_vmware.1-disk-0.vmdk  photon-3-kube-v1.24.9+vmware.1.ova  photon-3-kube-v1.24.9+vmware.1.ova.sha256  photon-3-kube-v1.24.9+vmware.1.ovf  photon-3-kube-v1.24.9_vmware.1.ovf
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<h2 id="6-tkr-등록">6. TKR 등록</h2>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>TKR 등록<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## 1.6</span>
</span></span><span class="line"><span class="cl">vi ~/.config/tanzu/tkg/bom/tkr-bom-v1.23.10+vmware.1-tkg.1.yaml
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 아래 ova를 찾아서 추가 해준다. </span>
</span></span><span class="line"><span class="cl">ova:
</span></span><span class="line"><span class="cl">- name: ova-photon-3-rt
</span></span><span class="line"><span class="cl">  osinfo:
</span></span><span class="line"><span class="cl">    name: photon
</span></span><span class="line"><span class="cl">    version: <span class="s2">&#34;3&#34;</span>
</span></span><span class="line"><span class="cl">    arch: amd64
</span></span><span class="line"><span class="cl">  version: v1.23.10+vmware.1-dokyung.0
</span></span><span class="line"><span class="cl">- name: ova-ubuntu-2004-rt
</span></span><span class="line"><span class="cl">  osinfo:
</span></span><span class="line"><span class="cl">    name: ubuntu
</span></span><span class="line"><span class="cl">    version: <span class="s2">&#34;20.04&#34;</span>
</span></span><span class="line"><span class="cl">    arch: amd64
</span></span><span class="line"><span class="cl">  version: v1.23.10+vmware.1-dokyung.0
</span></span><span class="line"><span class="cl">- name: ova-rhel-8-rt
</span></span><span class="line"><span class="cl">  osinfo:
</span></span><span class="line"><span class="cl">    name: rhel
</span></span><span class="line"><span class="cl">    version: <span class="s2">&#34;8&#34;</span>
</span></span><span class="line"><span class="cl">    arch: amd64
</span></span><span class="line"><span class="cl">  version: v1.23.10+vmware.1-dokyung.0
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 2.1</span>
</span></span><span class="line"><span class="cl">vi ~/.config/tanzu/tkg/bom/tkr-bom-v1.24.9+vmware.1-tkg.1.yaml
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 아래 ova를 찾아서 추가 해준다. </span>
</span></span><span class="line"><span class="cl">ova:
</span></span><span class="line"><span class="cl">- name: ova-photon-3-rt
</span></span><span class="line"><span class="cl">  osinfo:
</span></span><span class="line"><span class="cl">    name: photon
</span></span><span class="line"><span class="cl">    version: <span class="s2">&#34;3&#34;</span>
</span></span><span class="line"><span class="cl">    arch: amd64
</span></span><span class="line"><span class="cl">  version: v1.24.9+vmware.1-dokyung.0
</span></span><span class="line"><span class="cl">- name: ova-ubuntu-2004-rt
</span></span><span class="line"><span class="cl">  osinfo:
</span></span><span class="line"><span class="cl">    name: ubuntu
</span></span><span class="line"><span class="cl">    version: <span class="s2">&#34;20.04&#34;</span>
</span></span><span class="line"><span class="cl">    arch: amd64
</span></span><span class="line"><span class="cl">  version: v1.24.9+vmware.1-dokyung.0
</span></span><span class="line"><span class="cl">- name: ova-rhel-8-rt
</span></span><span class="line"><span class="cl">  osinfo:
</span></span><span class="line"><span class="cl">    name: rhel
</span></span><span class="line"><span class="cl">    version: <span class="s2">&#34;8&#34;</span>
</span></span><span class="line"><span class="cl">    arch: amd64
</span></span><span class="line"><span class="cl">  version: v1.24.9+vmware.1-dokyung.0
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<h2 id="7-ova-업로드">7. OVA 업로드</h2>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>업로드<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## 1.6</span>
</span></span><span class="line"><span class="cl"><span class="c1">### photon</span>
</span></span><span class="line"><span class="cl">ovftool --acceptAllEulas --net:nic0<span class="o">={</span>NIC<span class="o">}</span>--datastore<span class="o">={</span>STORE<span class="o">}</span> --vmFolder<span class="o">={</span>FOLDER<span class="o">}</span> --importAsTemplate output/photon-3-kube-v1.23.10_vmware.1/photon-3-kube-v1.23.10+vmware.1.ova <span class="s1">&#39;vi://{ID}:{PW}}@{vCenter FQDN or IP}/{DATACENTER}/host/{CLUSTER}/&#39;</span>
</span></span><span class="line"><span class="cl"><span class="c1">### ubuntu</span>
</span></span><span class="line"><span class="cl">ovftool --acceptAllEulas --net:nic0<span class="o">={</span>NIC<span class="o">}</span>--datastore<span class="o">={</span>STORE<span class="o">}</span> --vmFolder<span class="o">={</span>FOLDER<span class="o">}</span> --importAsTemplate output/ubuntu-2004-kube-v1.23.10_vmware.1/ubuntu-2004-kube-v1.23.10+vmware.1.ova <span class="s1">&#39;vi://{ID}:{PW}}@{vCenter FQDN or IP}/{DATACENTER}/host/{CLUSTER}/&#39;</span>
</span></span><span class="line"><span class="cl"><span class="c1">### rhel</span>
</span></span><span class="line"><span class="cl">ovftool --acceptAllEulas --net:nic0<span class="o">={</span>NIC<span class="o">}</span>--datastore<span class="o">={</span>STORE<span class="o">}</span> --vmFolder<span class="o">={</span>FOLDER<span class="o">}</span> --importAsTemplate output/rhel-8-kube-v1.23.10_vmware.1/rhel-8-kube-v1.23.10+vmware.1.ova <span class="s1">&#39;vi://{ID}:{PW}}@{vCenter FQDN or IP}/{DATACENTER}/host/{CLUSTER}/&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 2.1</span>
</span></span><span class="line"><span class="cl"><span class="c1">### photon</span>
</span></span><span class="line"><span class="cl">ovftool --acceptAllEulas --net:nic0<span class="o">={</span>NIC<span class="o">}</span>--datastore<span class="o">={</span>STORE<span class="o">}</span> --vmFolder<span class="o">={</span>FOLDER<span class="o">}</span> --importAsTemplate output/photon-3-kube-v1.24.9_vmware.1/photon-3-kube-v1.24.9+vmware.1.ova <span class="s1">&#39;vi://{ID}:{PW}}@{vCenter FQDN or IP}/{DATACENTER}/host/{CLUSTER}/&#39;</span>
</span></span><span class="line"><span class="cl"><span class="c1">### ubuntu</span>
</span></span><span class="line"><span class="cl">ovftool --acceptAllEulas --net:nic0<span class="o">={</span>NIC<span class="o">}</span>--datastore<span class="o">={</span>STORE<span class="o">}</span> --vmFolder<span class="o">={</span>FOLDER<span class="o">}</span> --importAsTemplate output/ubuntu-2004-kube-v1.24.9_vmware.1/ubuntu-2004-kube-v1.24.9+vmware.1.ova <span class="s1">&#39;vi://{ID}:{PW}}@{vCenter FQDN or IP}/{DATACENTER}/host/{CLUSTER}/&#39;</span>
</span></span><span class="line"><span class="cl"><span class="c1">### rhel</span>
</span></span><span class="line"><span class="cl">ovftool --acceptAllEulas --net:nic0<span class="o">={</span>NIC<span class="o">}</span>--datastore<span class="o">={</span>STORE<span class="o">}</span> --vmFolder<span class="o">={</span>FOLDER<span class="o">}</span> --importAsTemplate output/rhel-8-kube-v1.24.9_vmware.1/rhel-8-kube-v1.24.9+vmware.1.ova <span class="s1">&#39;vi://{ID}:{PW}}@{vCenter FQDN or IP}/{DATACENTER}/host/{CLUSTER}/&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<h2 id="6-배포">6. 배포</h2>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>클러스터 배포<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tanzu cluster create -f <span class="o">{</span>FILE<span class="o">}</span> -v <span class="m">9</span> -y
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<h2 id="7-확인">7. 확인</h2>
<blockquote>
<p>1.6
<figure><figcaption>
            <h4>rhel node</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>photon node</h4>
        </figcaption>
</figure>
</p>
</blockquote>
<blockquote>
<p>2.1
<figure><figcaption>
            <h4>All node</h4>
        </figcaption>
</figure>
</p>
</blockquote>
]]></description>
</item><item>
    <title>The Documentation Tanzu Community Edition with TAP</title>
    <link>https://huntedhappy.github.io/ko/tce/</link>
    <pubDate>Tue, 06 Dec 2022 20:51:50 &#43;0900</pubDate>
    <author>Author</author>
    <guid>https://huntedhappy.github.io/ko/tce/</guid>
    <description><![CDATA[<h2 id="1-tanzu-community-edition">1. TANZU Community Edition?</h2>
<p>Tanzu Community Edition은 무료로 사용 가능한 VMware에서 제공하는 Kubernetes 플랫폼으로 손쉽게 클러스터를 구성 할 수 있는 솔루션이다. 
유료 서비스인 TKG 플랫폼의 모든 기능을 사용 할 수 있지만, 몇가지 제약적인 부분이 있을 수 있다. 가령 하나의 클러스터만 배포를 할 수 있는 단점이 있을 수 있으며 별도로 솔루션의 대한 이슈 및 설치의 대해서 지원을 받지 못한다.</p>
<p>하지만 TKG 솔루션의 대해서 사전에 테스트 환경을 구축 함으로 Kubernetes 플랫폼의 손쉬운 배포 와 VMware에서 제공하는 오픈소스 에코 시스템을 통해 확장의 대해서도 손쉽게 구현을 할 수 있을 것이다.</p>
<p>아래에 제공하는 오픈소스를 효율적으로 구성을 할 수 있다.
<figure><figcaption>
            <h4>Eco System</h4>
        </figcaption>
</figure>
</p>
<h2 id="2-tanzu-community-edition-구성">2. TANZU Community Edition 구성</h2>
<p><a href="https://docs.docker.com/desktop/install/windows-install/" target="_blank" rel="noopener noreffer"><i class="fas fa-link"></i> Docker 설치 링크</a>
<a href="https://kind.sigs.k8s.io/" target="_blank" rel="noopener noreffer"><i class="fas fa-link"></i> KIND 설치 링크</a></p>
<p>KIND Kubernetes 클러스터는 싱글 노드에서 구축을 할 수 있으며, 비슷한 솔루션으로는 MINIKUBE, K3S등이 있다.
구성환경은 윈도우 10, i7-4770 CPU 16GB 이며 아래는 gitops를 사용하지 않았으며, 마찬가지로 gitops로 구성하여 git에 소스를 머지 할 수도 있지만 여기서는 해당 기능의 대해서는 넣지 않았다.</p>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>KIND Install<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># MAC OS</span>
</span></span><span class="line"><span class="cl"><span class="c1"># for Intel Macs</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span> <span class="k">$(</span>uname -m<span class="k">)</span> <span class="o">=</span> x86_64 <span class="o">]&amp;&amp;</span> curl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.17.0/kind-darwin-amd64
</span></span><span class="line"><span class="cl"><span class="c1"># for M1 / ARM Macs</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span> <span class="k">$(</span>uname -m<span class="k">)</span> <span class="o">=</span> arm64 <span class="o">]</span> <span class="o">&amp;&amp;</span> curl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.17.0/kind-darwin-arm64
</span></span><span class="line"><span class="cl">chmod +x ./kind
</span></span><span class="line"><span class="cl">mv ./kind /some-dir-in-your-PATH/kind
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="c"># WINDOWS</span>
</span></span><span class="line"><span class="cl"><span class="n">curl</span><span class="p">.</span><span class="n">exe</span> <span class="n">-Lo</span> <span class="nb">kind-windows</span><span class="n">-amd64</span><span class="p">.</span><span class="n">exe</span> <span class="n">https</span><span class="err">:</span><span class="p">//</span><span class="n">kind</span><span class="p">.</span><span class="n">sigs</span><span class="p">.</span><span class="n">k8s</span><span class="p">.</span><span class="n">io</span><span class="p">/</span><span class="n">dl</span><span class="p">/</span><span class="n">v0</span><span class="p">.</span><span class="n">17</span><span class="p">.</span><span class="n">0</span><span class="p">/</span><span class="nb">kind-windows</span><span class="n">-amd64</span>
</span></span><span class="line"><span class="cl"><span class="nb">Move-Item</span> <span class="p">.\</span><span class="nb">kind-windows</span><span class="n">-amd64</span><span class="p">.</span><span class="n">exe</span> <span class="n">c:</span><span class="p">\</span><span class="nb">some-dir</span><span class="n">-in-your-PATH</span><span class="p">\</span><span class="n">kind</span><span class="p">.</span><span class="n">exe</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># Linux</span>
</span></span><span class="line"><span class="cl">curl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.17.0/kind-linux-amd64
</span></span><span class="line"><span class="cl">chmod +x ./kind
</span></span><span class="line"><span class="cl">sudo mv ./kind /usr/local/bin/kind
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>KIND Cluster 생성<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>kind-expose-port.yaml 파일 생성 후 아래 내용 추가</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Cluster</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">kind.x-k8s.io/v1alpha4</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">nodes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span>- <span class="nt">role</span><span class="p">:</span><span class="w"> </span><span class="l">control-plane</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="nt">extraPortMappings</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span>- <span class="nt">containerPort</span><span class="p">:</span><span class="w"> </span><span class="m">31443</span><span class="w"> </span><span class="c"># expose port 31443 of the node to port 80 on the host for use later by Contour ingress (envoy)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="nt">hostPort</span><span class="p">:</span><span class="w"> </span><span class="m">443</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span>- <span class="nt">containerPort</span><span class="p">:</span><span class="w"> </span><span class="m">31080</span><span class="w"> </span><span class="c"># expose port 31080 of the node to port 80 on the host for use later by Contour ingress (envoy)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="nt">hostPort</span><span class="p">:</span><span class="w"> </span><span class="m">80</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="c"># 실행</span>
</span></span><span class="line"><span class="cl"><span class="n">kind</span> <span class="n">create</span> <span class="n">cluster</span> <span class="p">-</span><span class="n">-config</span> <span class="nb">kind-expose</span><span class="n">-port</span><span class="p">.</span><span class="n">yaml</span> <span class="p">-</span><span class="n">-image</span> <span class="n">kindest</span><span class="p">/</span><span class="n">node</span><span class="err">:</span><span class="n">v1</span><span class="p">.</span><span class="n">23</span><span class="p">.</span><span class="n">12</span>
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<figure><figcaption>
            <h4>Kind Cluster 확인</h4>
        </figcaption>
</figure>

<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>Pivnet 다운로드 <i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="n">curl</span><span class="p">.</span><span class="n">exe</span> <span class="n">-Lo</span> <span class="nb">pivnet-windows</span><span class="n">-amd64</span><span class="p">-</span><span class="n">3</span><span class="p">.</span><span class="n">0</span><span class="p">.</span><span class="n">1</span><span class="p">.</span><span class="n">exe</span> <span class="n">https</span><span class="err">:</span><span class="p">//</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="nb">pivotal-cf</span><span class="p">/</span><span class="nb">pivnet-cli</span><span class="p">/</span><span class="n">releases</span><span class="p">/</span><span class="n">download</span><span class="p">/</span><span class="n">v3</span><span class="p">.</span><span class="n">0</span><span class="p">.</span><span class="n">1</span><span class="p">/</span><span class="nb">pivnet-windows</span><span class="n">-amd64</span><span class="p">-</span><span class="n">3</span><span class="p">.</span><span class="n">0</span><span class="p">.</span><span class="n">1</span>
</span></span><span class="line"><span class="cl"><span class="nb">Move-Item</span> <span class="p">.\</span><span class="nb">pivnet-windows</span><span class="n">-amd64</span><span class="p">-</span><span class="n">3</span><span class="p">.</span><span class="n">0</span><span class="p">.</span><span class="n">1</span><span class="p">.</span><span class="n">exe</span> <span class="n">c:</span><span class="p">\</span><span class="n">tmc</span><span class="p">\</span><span class="n">pivnet</span><span class="p">.</span><span class="n">exe</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">pivnet</span> <span class="n">login</span> <span class="p">-</span><span class="n">-api-token</span><span class="p">=&lt;</span><span class="n">API</span> <span class="n">Token</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">## TANZU NET에서 EULA Accept 필요</span>
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>Tanzu CLI Install<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># tanzu application framework download</span>
</span></span><span class="line"><span class="cl">pivnet dlpf -p tanzu-application-platform -r 1.3.2 -g *framework*
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># Linux</span>
</span></span><span class="line"><span class="cl">tar xvf tanzu-framework-*-amd64-*.tar
</span></span><span class="line"><span class="cl">install cli/core/v0.25.0/tanzu-core-*_amd64 /usr/local/bin/tanzu
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">TANZU_CLI_NO_INIT</span><span class="o">=</span><span class="nb">true</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="c"># Windows</span>
</span></span><span class="line"><span class="cl"><span class="nb">Expand-Archive</span> <span class="n">-Force</span> <span class="nb">tanzu-framework</span><span class="p">-*</span><span class="n">-amd64</span><span class="p">-*.</span><span class="n">zip</span> <span class="n">c:</span><span class="p">\</span><span class="n">tmc</span>
</span></span><span class="line"><span class="cl"><span class="nb">Copy-Item</span> <span class="n">C:</span><span class="p">\</span><span class="n">tmc</span><span class="p">\</span><span class="n">cli</span><span class="p">\</span><span class="n">core</span><span class="p">\</span><span class="n">v0</span><span class="p">.</span><span class="n">25</span><span class="p">.</span><span class="n">0</span><span class="p">/</span><span class="nb">tanzu-core</span><span class="p">-*</span><span class="n">_amd64</span><span class="p">*</span> <span class="n">c:</span><span class="p">\</span><span class="n">tmc</span><span class="p">\</span><span class="n">tanzu</span><span class="p">.</span><span class="n">exe</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c"># Version 확인</span>
</span></span><span class="line"><span class="cl"><span class="n">tanzu</span> <span class="n">version</span>
</span></span><span class="line"><span class="cl"><span class="p">-----------------</span>
</span></span><span class="line"><span class="cl"><span class="n">version</span><span class="err">:</span> <span class="n">v0</span><span class="p">.</span><span class="n">25</span><span class="p">.</span><span class="n">0</span>
</span></span><span class="line"><span class="cl"><span class="n">buildDate</span><span class="err">:</span> <span class="n">2022</span><span class="p">-</span><span class="n">08</span><span class="p">-</span><span class="n">25</span>
</span></span><span class="line"><span class="cl"><span class="n">sha</span><span class="err">:</span> <span class="n">6288c751-dirty</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c"># Plugin 설치</span>
</span></span><span class="line"><span class="cl"><span class="n">tanzu</span> <span class="n">plugin</span> <span class="n">install</span> <span class="p">-</span><span class="n">-local</span> <span class="n">c:</span><span class="p">\</span><span class="n">tmc</span><span class="p">\</span><span class="nb">cli </span><span class="n">all</span>
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>Cluster Essentials Install<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># tanzu-cluster-essentials download</span>
</span></span><span class="line"><span class="cl">pivnet dlpf -p tanzu-cluster-essentials -r 1.3.0 -g *essentials*
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="n">tar</span> <span class="n">xzvf</span> <span class="nb">tanzu-cluster</span><span class="n">-essentials-windows-amd64</span><span class="p">-</span><span class="n">1</span><span class="p">.</span><span class="n">3</span><span class="p">.</span><span class="n">0</span><span class="p">.</span><span class="n">tgz</span> <span class="n">-C</span> <span class="n">c:</span><span class="p">\</span><span class="n">tmc</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">$Env:TANZUNET_USERNAME</span><span class="p">=</span><span class="s1">&#39;&#39;</span>
</span></span><span class="line"><span class="cl"><span class="nv">$Env:TANZUNET_PASSWORD</span><span class="p">=</span><span class="s1">&#39;&#39;</span>
</span></span><span class="line"><span class="cl"><span class="nv">$Env:INSTALL_BUNDLE</span><span class="p">=</span><span class="s1">&#39;registry.tanzu.vmware.com/tanzu-cluster-essentials/cluster-essentials-bundle:1.3.0&#39;</span>
</span></span><span class="line"><span class="cl"><span class="nv">$Env:INSTALL_REGISTRY_HOSTNAME</span><span class="p">=</span><span class="s1">&#39;registry.tanzu.vmware.com&#39;</span>
</span></span><span class="line"><span class="cl"><span class="nv">$Env:INSTALL_REGISTRY_USERNAME</span><span class="p">=</span><span class="nv">$Env:TANZUNET_USERNAME</span>
</span></span><span class="line"><span class="cl"><span class="nv">$Env:INSTALL_REGISTRY_PASSWORD</span><span class="p">=</span><span class="nv">$Env:TANZUNET_PASSWORD</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">c:</span><span class="p">\</span><span class="n">tmc</span><span class="p">\</span><span class="n">install</span><span class="p">.</span><span class="n">bat</span> <span class="n">-y</span>
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<p>만약 원하는 OS만 받고 싶으면 해당 하는 파일이름을 -g {설치하고자 하는 OS 선택}
<figure><figcaption>
            <h4>TKGM Downloads</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>essentials Downloads</h4>
        </figcaption>
</figure>
</p>
<p>구성된 KIND cluster에 TAP iterate를 설치하여 source를 테스트 하고 빠르게 build를 함으로 개발의 민첩성을 제공 할 수 있다.
별도의 클러스터를 구성해서 사용 할 수 있지만, 이렇게 TCE를 구성함으로 인해서 노트북에서도 생성 후 테스트를 할 수 있다.</p>
<figure><figcaption>
            <h4>iterate에 포함된 opensource</h4>
        </figcaption>
</figure>

<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>Tanzu Application Install<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">kubectl create ns tap-install
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">kubectl create secret docker-registry tap-registry --docker-server<span class="o">=</span>registry.tanzu.vmware.com --docker-username<span class="o">=</span><span class="nv">$Env</span>:TANZUNET_USERNAME --docker-password<span class="o">=</span><span class="nv">$Env</span>:TANZUNET_PASSWORD -n tap-install
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">tanzu package repository add tanzu-tap-repository --url registry.tanzu.vmware.com/tanzu-application-platform/tap-packages:1.3.2 -n tap-install --wait<span class="o">=</span><span class="nb">false</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># plugin 확인</span>
</span></span><span class="line"><span class="cl">tanzu package available list --namespace tap-install
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># GIT 환경변수 등록</span>
</span></span><span class="line"><span class="cl"><span class="nv">$Env</span>:GITHUB_USERNAME<span class="o">=</span>github-name
</span></span><span class="line"><span class="cl"><span class="nv">$Env</span>:GITHUB_TOKEN<span class="o">=</span>api-token
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># tap-values.yaml</span>
</span></span><span class="line"><span class="cl">shared:
</span></span><span class="line"><span class="cl">  ingress_domain: huntedhappy.kro.kr
</span></span><span class="line"><span class="cl">  image_registry:
</span></span><span class="line"><span class="cl">    project_path: ghcr.io/<span class="nv">$Env</span>:GITHUB_USERNAME
</span></span><span class="line"><span class="cl">    username: <span class="nv">$Env</span>:GITHUB_USERNAME
</span></span><span class="line"><span class="cl">    password: <span class="nv">$Env</span>:GITHUB_TOKEN
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">ceip_policy_disclosed: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">profile: iterate
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">supply_chain: basic
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">contour:
</span></span><span class="line"><span class="cl">  contour:
</span></span><span class="line"><span class="cl">    replicas: <span class="m">1</span>
</span></span><span class="line"><span class="cl">  envoy:
</span></span><span class="line"><span class="cl">    service:
</span></span><span class="line"><span class="cl">      type: NodePort
</span></span><span class="line"><span class="cl">      nodePorts:
</span></span><span class="line"><span class="cl">        http: <span class="m">31080</span>
</span></span><span class="line"><span class="cl">        https: <span class="m">31443</span>
</span></span><span class="line"><span class="cl">    hostPorts:
</span></span><span class="line"><span class="cl">      enable: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">cnrs:
</span></span><span class="line"><span class="cl">  domain_template: <span class="s2">&#34;{{.Name}}.{{.Domain}}&#34;</span>
</span></span><span class="line"><span class="cl">  provider: <span class="nb">local</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">excluded_packages:
</span></span><span class="line"><span class="cl">- policy.apps.tanzu.vmware.com
</span></span><span class="line"><span class="cl">- image-policy-webhook.signing.apps.tanzu.vmware.com
</span></span><span class="line"><span class="cl">- eventing.tanzu.vmware.com
</span></span><span class="line"><span class="cl">- sso.apps.tanzu.vmware.com
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># TAP 설치</span>
</span></span><span class="line"><span class="cl">tanzu package install tap -p tap.tanzu.vmware.com -v 1.3.2 -f tap-values.yaml -n tap-install
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Namespace 생성</span>
</span></span><span class="line"><span class="cl">kubectl get app -n tap-install
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>Workload 실행 파일 생성<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># git-repository-credentials 생성</span>
</span></span><span class="line"><span class="cl">kubectl create secret docker-registry git-repository-credentials --docker-server ghcr.io --docker-username <span class="nv">$Env</span>:GITHUB_USERNAME --password <span class="nv">$Env</span>:GITHUB_TOKEN -n tap-install
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># rbac.yaml 생성</span>
</span></span><span class="line"><span class="cl">apiVersion: v1
</span></span><span class="line"><span class="cl">kind: ServiceAccount
</span></span><span class="line"><span class="cl">metadata:
</span></span><span class="line"><span class="cl">  name: default
</span></span><span class="line"><span class="cl">secrets:
</span></span><span class="line"><span class="cl">- name: git-registry-credentials
</span></span><span class="line"><span class="cl">imagePullSecrets:
</span></span><span class="line"><span class="cl">- name: git-registry-credentials
</span></span><span class="line"><span class="cl">- name: tap-registry
</span></span><span class="line"><span class="cl">---
</span></span><span class="line"><span class="cl">apiVersion: rbac.authorization.k8s.io/v1
</span></span><span class="line"><span class="cl">kind: RoleBinding
</span></span><span class="line"><span class="cl">metadata:
</span></span><span class="line"><span class="cl">  name: default-permit-deliverable
</span></span><span class="line"><span class="cl">roleRef:
</span></span><span class="line"><span class="cl">  apiGroup: rbac.authorization.k8s.io
</span></span><span class="line"><span class="cl">  kind: ClusterRole
</span></span><span class="line"><span class="cl">  name: deliverable
</span></span><span class="line"><span class="cl">subjects:
</span></span><span class="line"><span class="cl">  - kind: ServiceAccount
</span></span><span class="line"><span class="cl">    name: default
</span></span><span class="line"><span class="cl">---
</span></span><span class="line"><span class="cl">apiVersion: rbac.authorization.k8s.io/v1
</span></span><span class="line"><span class="cl">kind: RoleBinding
</span></span><span class="line"><span class="cl">metadata:
</span></span><span class="line"><span class="cl">  name: default-permit-workload
</span></span><span class="line"><span class="cl">roleRef:
</span></span><span class="line"><span class="cl">  apiGroup: rbac.authorization.k8s.io
</span></span><span class="line"><span class="cl">  kind: ClusterRole
</span></span><span class="line"><span class="cl">  name: workload
</span></span><span class="line"><span class="cl">subjects:
</span></span><span class="line"><span class="cl">- kind: ServiceAccount
</span></span><span class="line"><span class="cl">  name: default
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># rbac 실행</span>
</span></span><span class="line"><span class="cl">kubectl apply -f rbac.yaml -n tap-install
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 새 파일 생성</span>
</span></span><span class="line"><span class="cl">tanzu-java-web-app.yaml
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 아래 내용 추가</span>
</span></span><span class="line"><span class="cl">apiVersion: carto.run/v1alpha1
</span></span><span class="line"><span class="cl">kind: Workload
</span></span><span class="line"><span class="cl">metadata:
</span></span><span class="line"><span class="cl">  labels:
</span></span><span class="line"><span class="cl">    apps.tanzu.vmware.com/workload-type: web
</span></span><span class="line"><span class="cl">spec:
</span></span><span class="line"><span class="cl">  params:
</span></span><span class="line"><span class="cl">  - name: annotations
</span></span><span class="line"><span class="cl">    value:
</span></span><span class="line"><span class="cl">      autoscaling.knative.dev/minScale: <span class="s2">&#34;1&#34;</span>
</span></span><span class="line"><span class="cl">  source:
</span></span><span class="line"><span class="cl">    git:
</span></span><span class="line"><span class="cl">      ref:
</span></span><span class="line"><span class="cl">        branch: main
</span></span><span class="line"><span class="cl">      url: https://github.com/sample-accelerators/tanzu-java-web-app
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># workload 실행</span>
</span></span><span class="line"><span class="cl">kubectl apply -f tanzu-java-web-app.yaml -n tap-install
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>Workload 확인<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tanzu app workload get tanzu-java-web-app -n tap-install
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">kubectl get pod, httpproxy -n tap-install
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<p><figure><figcaption>
            <h4>Workload 확인</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>Workload 확인</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>Result</h4>
        </figcaption>
</figure>
</p>
]]></description>
</item><item>
    <title>The Documentation TAP</title>
    <link>https://huntedhappy.github.io/ko/tanzu-application-platform/</link>
    <pubDate>Wed, 09 Mar 2022 11:09:57 &#43;0900</pubDate>
    <author>Author</author>
    <guid>https://huntedhappy.github.io/ko/tanzu-application-platform/</guid>
    <description><![CDATA[<h2 id="1-vmware-tap">1. VMware TAP?</h2>
<p>VMware Tanzu 애플리케이션 플랫폼은 개발자와 운영자가 Kubernetes 플랫폼에서 앱을 보다 쉽게 구축, 배포 및 관리할 수 있도록 도와주는 패키지된 구성 요소 집합입니다.</p>
<p>Tanzu 애플리케이션 플랫폼은 Kubernetes 기반 앱 개발의 내부 루프와 외부 루프 모두에서 워크플로를 단순화합니다.</p>
<ul>
<li>
<p>내부 루프: 내부 루프는 개발자가 앱을 코딩하고 테스트하는 로컬 개발 환경을 설명합니다. 내부 루프에서 발생하는 활동에는 코드 작성, 버전 제어 시스템에 커밋, 개발 또는 스테이징 환경에 배포, 테스트 및 추가 코드 변경이 포함됩니다.</p>
</li>
<li>
<p>외부 루프: 외부 루프는 앱을 프로덕션에 배포하고 시간이 지남에 따라 유지 관리하는 단계를 설명합니다. 예를 들어, 클라우드 네이티브 플랫폼에서 외부 루프에는 컨테이너 이미지 빌드, 컨테이너 보안 추가, 지속적 통합(CI) 및 지속적 전달(CD) 파이프라인 구성과 같은 활동이 포함됩니다.</p>
</li>
</ul>
<p>VMware Tanzu 애플리케이션 플랫폼은 보안 및 확장을 지원하는 모든 Kubernetes에서 코드를 실행할 수 있도록 사전 포장된 프로덕션 경로를 개발 팀에 제공합니다. 팀이 조직의 기본 설정에 따라 사용자 지정할 수 있도록 모듈화된 애플리케이션 인식 플랫폼입니다.</p>
<h3 id="주의-사항">주의 사항</h3>
<p>현재 버그가 있는것으로 보임 Private Harbor 구성시 사설 인증서 문제가 발생 하기 때문에 외부 Registry 활용 필요,
Github 연동시 Integration으로 설정</p>
<h3 id="사전-설치">사전 설치</h3>
<ul>
<li>DOCKER</li>
<li>GCR (Google Container Registry)</li>
<li>GitHub</li>
<li>DNS Records</li>
</ul>
<h3 id="resource-requirements">Resource requirements</h3>
<p>To deploy all Tanzu Application Platform packages, your cluster must have at least:</p>
<ul>
<li>8 CPUs for i9 (or equivalent) available to Tanzu Application Platform components</li>
<li>12 CPUs for i7 (or equivalent) available to Tanzu Application Platform components</li>
<li>8 GB of RAM across all nodes available to Tanzu Application Platform</li>
<li>12 GB of RAM is available to build and deploy applications, including Minikube. VMware recommends 16 GB of RAM for an optimal experience.</li>
<li>70 GB of disk space available per node
For the full profile, or use of Security Chain Security Tools - Store, your cluster must have a configured default StorageClass.</li>
</ul>
<h2 id="2-tap-101">2. TAP 1.0.1</h2>
<h3 id="tools-and-cli-requirements">Tools and CLI requirements</h3>
<p>Installation requires:</p>
<ul>
<li>The Kubernetes CLI, kubectl, v1.20, v1.21 or v1.22, installed and authenticated with administrator rights for your target cluster. See Install Tools in the Kubernetes documentation.</li>
</ul>
<h3 id="21-tap">2.1. TAP</h3>
<h4 id="211-tanzu-network-등록">2.1.1 Tanzu Network 등록</h4>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>Tanzu Network ID/PW<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">INSTALL_REGISTRY_USERNAME</span><span class="o">=</span>        <span class="c1">#### Tanzu Network ID</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">INSTALL_REGISTRY_PASSWORD</span><span class="o">=</span>        <span class="c1">#### Tanzu Network PW</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">INSTALL_REGISTRY_HOSTNAME</span><span class="o">=</span>registry.tanzu.vmware.com
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">TAP_VERSION</span><span class="o">=</span>1.0.1
</span></span></code></pre></td></tr></table>
</div>
</div><p>namespace 생성</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">kubectl create ns tap-install
</span></span></code></pre></td></tr></table>
</div>
</div><p>tanzu registry 추가</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tanzu secret registry add tap-registry <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --username <span class="si">${</span><span class="nv">INSTALL_REGISTRY_USERNAME</span><span class="si">}</span> --password <span class="si">${</span><span class="nv">INSTALL_REGISTRY_PASSWORD</span><span class="si">}</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --server <span class="si">${</span><span class="nv">INSTALL_REGISTRY_HOSTNAME</span><span class="si">}</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --export-to-all-namespaces --yes --namespace tap-install
</span></span></code></pre></td></tr></table>
</div>
</div><p>tanzu repository 추가</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tanzu package repository add tanzu-tap-repository <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --url registry.tanzu.vmware.com/tanzu-application-platform/tap-packages:<span class="nv">$TAP_VERSION</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --namespace tap-install
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<p><figure><figcaption>
            <h4>EULA 허용</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>EULA 허용</h4>
        </figcaption>
</figure>
</p>
<h3 id="22-tanzu-tap-설치-리스트-확인">2.2. Tanzu TAP 설치 리스트 확인</h3>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>Registry / Repository 확인<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tanzu secret registry list -n tap-install
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">tanzu package repository list -n tap-install
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">tanzu package repository get tanzu-tap-repository --namespace tap-install
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">tanzu package available list --namespace tap-install
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">tanzu package available list tap.tanzu.vmware.com --namespace tap-install
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<p><figure><figcaption>
            <h4>Registry 리스트 확인</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>Repository 리스트 확인</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>Package 리스트 확인</h4>
        </figcaption>
</figure>
</p>
<h3 id="23-tanzu-tap-설치">2.3. Tanzu TAP 설치</h3>
<p>Private Harbor의 경우 사설 인증서가 문제가 있으므로 외부에서 제공하는 Registry 사용하는 필요.</p>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>TAP 설치<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>GCR에서 키값을 json으로 다운로드 받은 후 service_account_key[변수] 저장</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tanzu secret registry add registry-credentials --server gcr.io --username _json_key --password <span class="s2">&#34;</span><span class="k">$(</span>cat main-xxxx-xxx-xxxx.json<span class="k">)</span><span class="s2">&#34;</span> --namespace tap-install
</span></span><span class="line"><span class="cl"><span class="nv">service_account_key</span><span class="o">=</span><span class="s2">&#34;</span><span class="k">$(</span>cat main-xxxx-xxx-xxxx.json<span class="k">)</span><span class="s2">&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>실행 파일 설정</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">cat <span class="s">&lt;&lt;EOF &gt; gcr-tap-values.yaml
</span></span></span><span class="line"><span class="cl"><span class="s">profile: full
</span></span></span><span class="line"><span class="cl"><span class="s">ceip_policy_disclosed: true # The value must be true for installation to succeed
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">buildservice:
</span></span></span><span class="line"><span class="cl"><span class="s">  kp_default_repository: &#34;gcr.io/{Registry ID}/build-service&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  kp_default_repository_username: _json_key
</span></span></span><span class="line"><span class="cl"><span class="s">  kp_default_repository_password: &#39;$(echo $service_account_key)&#39;
</span></span></span><span class="line"><span class="cl"><span class="s">  tanzunet_username: &#34;&#34;                             ## Tanzu Network ID
</span></span></span><span class="line"><span class="cl"><span class="s">  tanzunet_password: &#34;&#34;                             ## Tanzu Network Password
</span></span></span><span class="line"><span class="cl"><span class="s">  descriptor_name: &#34;tap-1.0.0-full&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  enable_automatic_dependency_updates: true
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">supply_chain: basic
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">cnrs:
</span></span></span><span class="line"><span class="cl"><span class="s">  domain_name: tkg.io
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">accelerator:
</span></span></span><span class="line"><span class="cl"><span class="s">  server:
</span></span></span><span class="line"><span class="cl"><span class="s">    service_type: &#34;ClusterIP&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">ootb_supply_chain_basic:
</span></span></span><span class="line"><span class="cl"><span class="s">  registry:
</span></span></span><span class="line"><span class="cl"><span class="s">    server: &#34;gcr.io&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">    repository: &#34;{Registry ID}/supply_chain&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  gitops:
</span></span></span><span class="line"><span class="cl"><span class="s">    #repository_prefix: git@github.com:vmware-tanzu/
</span></span></span><span class="line"><span class="cl"><span class="s">    #branch: main
</span></span></span><span class="line"><span class="cl"><span class="s">    #user_name: supplychain
</span></span></span><span class="line"><span class="cl"><span class="s">    #user_email: supplychain
</span></span></span><span class="line"><span class="cl"><span class="s">    #commit_message: supplychain@cluster.local
</span></span></span><span class="line"><span class="cl"><span class="s">    #ssh_secret: git-ssh  
</span></span></span><span class="line"><span class="cl"><span class="s">    ssh_secret: &#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  cluster_builder: default
</span></span></span><span class="line"><span class="cl"><span class="s">  service_account: default
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">learningcenter:
</span></span></span><span class="line"><span class="cl"><span class="s">  ingressDomain: &#34;tkg.io&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  ingressClass: contour
</span></span></span><span class="line"><span class="cl"><span class="s">  ingressSecret:
</span></span></span><span class="line"><span class="cl"><span class="s">    secretName: workshops.example.com-tls
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">contour:
</span></span></span><span class="line"><span class="cl"><span class="s">  envoy:
</span></span></span><span class="line"><span class="cl"><span class="s">    service:
</span></span></span><span class="line"><span class="cl"><span class="s">      type: LoadBalancer
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">tap_gui:
</span></span></span><span class="line"><span class="cl"><span class="s">  service_type: ClusterIP
</span></span></span><span class="line"><span class="cl"><span class="s">  ingressEnabled: &#34;true&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  ingressDomain: &#34;tkg.io&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  app_config:
</span></span></span><span class="line"><span class="cl"><span class="s">    app:
</span></span></span><span class="line"><span class="cl"><span class="s">      baseUrl: http://tap-gui.tkg.io
</span></span></span><span class="line"><span class="cl"><span class="s">      support:
</span></span></span><span class="line"><span class="cl"><span class="s">        url: https://tanzu.vmware.com/support
</span></span></span><span class="line"><span class="cl"><span class="s">        items:
</span></span></span><span class="line"><span class="cl"><span class="s">          - title: Contact Support
</span></span></span><span class="line"><span class="cl"><span class="s">            icon: email
</span></span></span><span class="line"><span class="cl"><span class="s">            links:
</span></span></span><span class="line"><span class="cl"><span class="s">              - url: https://tanzu.vmware.com/support
</span></span></span><span class="line"><span class="cl"><span class="s">                title: Tanzu Support Page
</span></span></span><span class="line"><span class="cl"><span class="s">          - title: Documentation
</span></span></span><span class="line"><span class="cl"><span class="s">            icon: docs
</span></span></span><span class="line"><span class="cl"><span class="s">            links:
</span></span></span><span class="line"><span class="cl"><span class="s">              - url: https://docs.vmware.com/en/VMware-Tanzu-Application-Platform/index.html
</span></span></span><span class="line"><span class="cl"><span class="s">                title: Tanzu Application Platform Documentation
</span></span></span><span class="line"><span class="cl"><span class="s">    integrations:
</span></span></span><span class="line"><span class="cl"><span class="s">      github: # Other integrations available see NOTE below
</span></span></span><span class="line"><span class="cl"><span class="s">        - host: github.com
</span></span></span><span class="line"><span class="cl"><span class="s">          token: &#34;{GIT TOKEN}&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">    catalog:
</span></span></span><span class="line"><span class="cl"><span class="s">      locations:
</span></span></span><span class="line"><span class="cl"><span class="s">        - type: url
</span></span></span><span class="line"><span class="cl"><span class="s">          target: https://github.com/huntedhappy/tanzu-java-web-app/catalog-info.yaml
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">    backend:
</span></span></span><span class="line"><span class="cl"><span class="s">      baseUrl: http://tap-gui.tkg.io
</span></span></span><span class="line"><span class="cl"><span class="s">      cors:
</span></span></span><span class="line"><span class="cl"><span class="s">        origin: http://tap-gui.tkg.io
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">#    ##Existing values file above (OIDC)
</span></span></span><span class="line"><span class="cl"><span class="s">#    auth:
</span></span></span><span class="line"><span class="cl"><span class="s">#      allowGuestAccess: true
</span></span></span><span class="line"><span class="cl"><span class="s">#      environment: development
</span></span></span><span class="line"><span class="cl"><span class="s">#      loginPage:
</span></span></span><span class="line"><span class="cl"><span class="s">#        github:
</span></span></span><span class="line"><span class="cl"><span class="s">#          title: Github Login
</span></span></span><span class="line"><span class="cl"><span class="s">#          message: Enter with your GitHub account
</span></span></span><span class="line"><span class="cl"><span class="s">#      providers:
</span></span></span><span class="line"><span class="cl"><span class="s">#        github:
</span></span></span><span class="line"><span class="cl"><span class="s">#          development:
</span></span></span><span class="line"><span class="cl"><span class="s">#            clientId: 
</span></span></span><span class="line"><span class="cl"><span class="s">#            clientSecret: 
</span></span></span><span class="line"><span class="cl"><span class="s">#            ## uncomment if using GitHub Enterprise
</span></span></span><span class="line"><span class="cl"><span class="s">#            # enterpriseInstanceUrl:
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">metadata_store:
</span></span></span><span class="line"><span class="cl"><span class="s">  app_service_type: LoadBalancer # (optional) Defaults to LoadBalancer. Change to NodePort for distributions that don&#39;t support LoadBalancer
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">grype:
</span></span></span><span class="line"><span class="cl"><span class="s">  namespace: &#34;tap-install&#34; # (optional) Defaults to default namespace.
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>TAP 설치</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tanzu package install tap -p tap.tanzu.vmware.com -v <span class="nv">$TAP_VERSION</span> --values-file gcr-tap-values.yml -n tap-install
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<figure><figcaption>
            <h4>TAP 설치 완료</h4>
        </figcaption>
</figure>

<h3 id="24-tanzu-tap-rbac-설정">2.4. Tanzu TAP RBAC 설정</h3>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>RBAC 설정<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nv">dockerconfigjson</span><span class="o">=</span><span class="s2">&#34;</span><span class="k">$(</span>kubectl get secret tbs-builder-secret-gen-placeholder-secret -n tap-install -o <span class="nv">jsonpath</span><span class="o">={</span>.data.<span class="se">\\</span>.dockerconfigjson<span class="o">}</span><span class="k">)</span><span class="s2">&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">cat <span class="s">&lt;&lt;EOF | tee rbac.yaml
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: Secret
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: tap-registry
</span></span></span><span class="line"><span class="cl"><span class="s">  annotations:
</span></span></span><span class="line"><span class="cl"><span class="s">    secretgen.carvel.dev/image-pull-secret: &#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">type: kubernetes.io/dockerconfigjson
</span></span></span><span class="line"><span class="cl"><span class="s">data:
</span></span></span><span class="line"><span class="cl"><span class="s">  .dockerconfigjson: $(echo $dockerconfigjson)
</span></span></span><span class="line"><span class="cl"><span class="s">---
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: ServiceAccount
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: default
</span></span></span><span class="line"><span class="cl"><span class="s">secrets:
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: registry-credentials
</span></span></span><span class="line"><span class="cl"><span class="s">imagePullSecrets:
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: registry-credentials
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: tap-registry
</span></span></span><span class="line"><span class="cl"><span class="s">---
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: rbac.authorization.k8s.io/v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: Role
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: default
</span></span></span><span class="line"><span class="cl"><span class="s">rules:
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [source.toolkit.fluxcd.io]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [gitrepositories]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;*&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [source.apps.tanzu.vmware.com]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [imagerepositories]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;*&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [carto.run]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [deliverables, runnables]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;*&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [kpack.io]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [images]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;*&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [conventions.apps.tanzu.vmware.com]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [podintents]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;*&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#34;&#34;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [&#39;configmaps&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;*&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#34;&#34;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [&#39;pods&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [tekton.dev]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [taskruns, pipelineruns]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;*&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [tekton.dev]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [pipelines]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [kappctrl.k14s.io]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [apps]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;*&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [serving.knative.dev]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [&#39;services&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;*&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [servicebinding.io]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [&#39;servicebindings&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;*&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [services.apps.tanzu.vmware.com]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [&#39;resourceclaims&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;*&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [scanning.apps.tanzu.vmware.com]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [&#39;imagescans&#39;, &#39;sourcescans&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;*&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">---
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: rbac.authorization.k8s.io/v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: RoleBinding
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: default
</span></span></span><span class="line"><span class="cl"><span class="s">roleRef:
</span></span></span><span class="line"><span class="cl"><span class="s">  apiGroup: rbac.authorization.k8s.io
</span></span></span><span class="line"><span class="cl"><span class="s">  kind: Role
</span></span></span><span class="line"><span class="cl"><span class="s">  name: default
</span></span></span><span class="line"><span class="cl"><span class="s">subjects:
</span></span></span><span class="line"><span class="cl"><span class="s">  - kind: ServiceAccount
</span></span></span><span class="line"><span class="cl"><span class="s">    name: default
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<h3 id="25-workload-실행">2.5. workload 실행</h3>
<p>INGRESS IP 확인</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">kubectl get svc -n tap-install
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">kubectl get httpproxy -A
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><figcaption>
            <h4>ingress 및 DNS 확인</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>gui 접속 후 Tanzu Java Web App 실행</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>gui 접속 후 Tanzu Java Web App 실행</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>gui 접속 후 Tanzu Java Web App 실행</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>gui 접속 후 Tanzu Java Web App 다운로드</h4>
        </figcaption>
</figure>
</p>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>GIT PUSH<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>미리 GIT에 프로젝트 생성 후 다운로드 받은 ZIP파일 PUSH</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">unzip tanzu-java-web-app.zip
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">git init
</span></span><span class="line"><span class="cl">git remote add origin git@github.com:huntedhappy/tanzu-java-web-app
</span></span><span class="line"><span class="cl">git add .
</span></span><span class="line"><span class="cl">git commit -m <span class="s1">&#39;first&#39;</span>
</span></span><span class="line"><span class="cl">git push origin main
</span></span></code></pre></td></tr></table>
</div>
</div><p>apps workload 실행</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tanzu apps workload create tanzu-java-web-app <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --git-repo https://github.com/huntedhappy/tanzu-java-web-app <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --git-branch main <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --type web <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --label apps.tanzu.vmware.com/has-tests<span class="o">=</span><span class="nb">true</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --yes <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> -n tap-install
</span></span></code></pre></td></tr></table>
</div>
</div><p>배포 상태 확인</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tanzu apps cluster-supply-chain list
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">tanzu apps workload tail tanzu-java-web-app --since 10m --timestamp -n tap-install
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">kubectl get workload,gitrepository,pipelinerun,images.kpack,podintent,app,services.serving -n tap-install
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<h2 id="3-tap-110">3. TAP 1.1.0</h2>
<p>Repository를 설정한다. 여기서는 GCR을 사용하기 때문에 GCR의 정보를 입력</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">INSTALL_REGISTRY_HOSTNAME</span><span class="o">=</span>gcr.io
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">TAP_VERSION</span><span class="o">=</span>1.1.0
</span></span></code></pre></td></tr></table>
</div>
</div><p>TANZU NET 및 GCR docker login 후 GCR에 이미지들을 다운로드</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker login registry.tanzu.vmware.com
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">docker login -u _json_key --password-stdin https://gcr.io &lt; <span class="o">{</span>gcr key<span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">imgpkg copy -b registry.tanzu.vmware.com/tanzu-application-platform/tap-packages:<span class="si">${</span><span class="nv">TAP_VERSION</span><span class="si">}</span> --to-repo <span class="si">${</span><span class="nv">INSTALL_REGISTRY_HOSTNAME</span><span class="si">}</span>/<span class="o">{</span>gcr project<span class="o">}</span>/tap-packages
</span></span></code></pre></td></tr></table>
</div>
</div><p>namespace 및 secret 생성 후 tanzu package Repository 생성</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tanzu secret registry add tap-registry --server gcr.io --username _json_key --password <span class="s2">&#34;</span><span class="k">$(</span>cat <span class="o">{</span>gcr key<span class="o">}</span><span class="k">)</span><span class="s2">&#34;</span> --export-to-all-namespaces --yes -n tap-install
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">tanzu secret registry add registry-credentials --server gcr.io --username _json_key --password <span class="s2">&#34;</span><span class="k">$(</span>cat <span class="o">{</span>gcr key<span class="o">}</span><span class="k">)</span><span class="s2">&#34;</span> --export-to-all-namespaces --yes -n tap-install
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">tanzu package repository add tanzu-tap-repository <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --url <span class="si">${</span><span class="nv">INSTALL_REGISTRY_HOSTNAME</span><span class="si">}</span>/main-tokenizer-343509/tap-packages:<span class="nv">$TAP_VERSION</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --namespace tap-install 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## Repository가 생성이 되었으면 설치 가능한 packages를 확인</span>
</span></span><span class="line"><span class="cl">tanzu package available list tap.tanzu.vmware.com --namespace tap-install
</span></span></code></pre></td></tr></table>
</div>
</div><p>권한 설정</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">kubectl annotate secret tap-registry -n tap-install secretgen.carvel.dev/image-pull-secret<span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">kubectl patch sa default -n tap-install --type <span class="s1">&#39;json&#39;</span> -p <span class="s1">&#39;[{&#34;op&#34;:&#34;add&#34;,&#34;path&#34;:&#34;/secrets&#34;,&#34;value&#34;:[&#34;name&#34;:&#34;registry-credentials&#34;,&#34;name&#34;:&#34;tap-registry&#34;]}]&#39;</span>
</span></span><span class="line"><span class="cl">kubectl patch sa default -n tap-install --type <span class="s1">&#39;json&#39;</span> -p <span class="s1">&#39;[{&#34;op&#34;:&#34;add&#34;,&#34;path&#34;:&#34;/imagePullSecrets&#34;,&#34;value&#34;:[&#34;name&#34;:&#34;registry-credentials&#34;,&#34;name&#34;:&#34;tap-registry&#34;]}]&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">cat <span class="s">&lt;&lt;EOF | kubectl -n tap-install apply -f -
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: rbac.authorization.k8s.io/v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: RoleBinding
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: default-permit-deliverable
</span></span></span><span class="line"><span class="cl"><span class="s">roleRef:
</span></span></span><span class="line"><span class="cl"><span class="s">  apiGroup: rbac.authorization.k8s.io
</span></span></span><span class="line"><span class="cl"><span class="s">  kind: ClusterRole
</span></span></span><span class="line"><span class="cl"><span class="s">  name: deliverable
</span></span></span><span class="line"><span class="cl"><span class="s">subjects:
</span></span></span><span class="line"><span class="cl"><span class="s">  - kind: ServiceAccount
</span></span></span><span class="line"><span class="cl"><span class="s">    name: default
</span></span></span><span class="line"><span class="cl"><span class="s">---
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: rbac.authorization.k8s.io/v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: RoleBinding
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: default-permit-workload
</span></span></span><span class="line"><span class="cl"><span class="s">roleRef:
</span></span></span><span class="line"><span class="cl"><span class="s">  apiGroup: rbac.authorization.k8s.io
</span></span></span><span class="line"><span class="cl"><span class="s">  kind: ClusterRole
</span></span></span><span class="line"><span class="cl"><span class="s">  name: workload
</span></span></span><span class="line"><span class="cl"><span class="s">subjects:
</span></span></span><span class="line"><span class="cl"><span class="s">  - kind: ServiceAccount
</span></span></span><span class="line"><span class="cl"><span class="s">    name: default
</span></span></span><span class="line"><span class="cl"><span class="s">---
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: rbac.authorization.k8s.io/v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: RoleBinding
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: dev-permit-app-viewer
</span></span></span><span class="line"><span class="cl"><span class="s">roleRef:
</span></span></span><span class="line"><span class="cl"><span class="s">  apiGroup: rbac.authorization.k8s.io
</span></span></span><span class="line"><span class="cl"><span class="s">  kind: ClusterRole
</span></span></span><span class="line"><span class="cl"><span class="s">  name: app-viewer
</span></span></span><span class="line"><span class="cl"><span class="s">subjects:
</span></span></span><span class="line"><span class="cl"><span class="s">  - kind: Group
</span></span></span><span class="line"><span class="cl"><span class="s">    name: &#34;namespace-developers&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">    apiGroup: rbac.authorization.k8s.io
</span></span></span><span class="line"><span class="cl"><span class="s">---
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: rbac.authorization.k8s.io/v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: ClusterRoleBinding
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: namespace-dev-permit-app-viewer
</span></span></span><span class="line"><span class="cl"><span class="s">roleRef:
</span></span></span><span class="line"><span class="cl"><span class="s">  apiGroup: rbac.authorization.k8s.io
</span></span></span><span class="line"><span class="cl"><span class="s">  kind: ClusterRole
</span></span></span><span class="line"><span class="cl"><span class="s">  name: app-viewer-cluster-access
</span></span></span><span class="line"><span class="cl"><span class="s">subjects:
</span></span></span><span class="line"><span class="cl"><span class="s">  - kind: Group
</span></span></span><span class="line"><span class="cl"><span class="s">    name: &#34;namespace-developers&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">    apiGroup: rbac.authorization.k8s.io
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>TAP 1.1.0 설치</p>
<p>GCR에서 키값을 json으로 다운로드 받은 후 service_account_key[변수] 저장</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tanzu secret registry add registry-credentials --server gcr.io --username _json_key --password <span class="s2">&#34;</span><span class="k">$(</span>cat main-xxxx-xxx-xxxx.json<span class="k">)</span><span class="s2">&#34;</span> --namespace tap-install
</span></span><span class="line"><span class="cl"><span class="nv">service_account_key</span><span class="o">=</span><span class="s2">&#34;</span><span class="k">$(</span>cat main-xxxx-xxx-xxxx.json<span class="k">)</span><span class="s2">&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>실행 파일 설정</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">cat <span class="s">&lt;&lt;EOF &gt; gcr-tap-values.yaml
</span></span></span><span class="line"><span class="cl"><span class="s">profile: full
</span></span></span><span class="line"><span class="cl"><span class="s">ceip_policy_disclosed: true # The value must be true for installation to succeed
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">buildservice:
</span></span></span><span class="line"><span class="cl"><span class="s">  kp_default_repository: &#34;gcr.io/{Registry ID}/build-service&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  kp_default_repository_username: _json_key
</span></span></span><span class="line"><span class="cl"><span class="s">  kp_default_repository_password: &#39;$(echo $service_account_key)&#39;
</span></span></span><span class="line"><span class="cl"><span class="s">  tanzunet_username: &#34;&#34;                             ## Tanzu Network ID
</span></span></span><span class="line"><span class="cl"><span class="s">  tanzunet_password: &#34;&#34;                             ## Tanzu Network Password
</span></span></span><span class="line"><span class="cl"><span class="s">  descriptor_name: &#34;full&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  enable_automatic_dependency_updates: true
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">supply_chain: basic
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">cnrs:
</span></span></span><span class="line"><span class="cl"><span class="s">  domain_name: tkg.io
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">accelerator:
</span></span></span><span class="line"><span class="cl"><span class="s">  server:
</span></span></span><span class="line"><span class="cl"><span class="s">    service_type: &#34;ClusterIP&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">ootb_supply_chain_basic:
</span></span></span><span class="line"><span class="cl"><span class="s">  registry:
</span></span></span><span class="line"><span class="cl"><span class="s">    server: &#34;gcr.io&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">    repository: &#34;{Registry ID}/supply_chain&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  gitops:
</span></span></span><span class="line"><span class="cl"><span class="s">    #repository_prefix: git@github.com:vmware-tanzu/
</span></span></span><span class="line"><span class="cl"><span class="s">    #branch: main
</span></span></span><span class="line"><span class="cl"><span class="s">    #user_name: supplychain
</span></span></span><span class="line"><span class="cl"><span class="s">    #user_email: supplychain
</span></span></span><span class="line"><span class="cl"><span class="s">    #commit_message: supplychain@cluster.local
</span></span></span><span class="line"><span class="cl"><span class="s">    #ssh_secret: git-ssh  
</span></span></span><span class="line"><span class="cl"><span class="s">    ssh_secret: &#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  cluster_builder: default
</span></span></span><span class="line"><span class="cl"><span class="s">  service_account: default
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">learningcenter:
</span></span></span><span class="line"><span class="cl"><span class="s">  ingressDomain: &#34;tkg.io&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  ingressClass: contour
</span></span></span><span class="line"><span class="cl"><span class="s">  ingressSecret:
</span></span></span><span class="line"><span class="cl"><span class="s">    secretName: workshops.example.com-tls
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">contour:
</span></span></span><span class="line"><span class="cl"><span class="s">  envoy:
</span></span></span><span class="line"><span class="cl"><span class="s">    service:
</span></span></span><span class="line"><span class="cl"><span class="s">      type: LoadBalancer
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">tap_gui:
</span></span></span><span class="line"><span class="cl"><span class="s">  service_type: ClusterIP
</span></span></span><span class="line"><span class="cl"><span class="s">  ingressEnabled: &#34;true&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  ingressDomain: &#34;tkg.io&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  app_config:
</span></span></span><span class="line"><span class="cl"><span class="s">    app:
</span></span></span><span class="line"><span class="cl"><span class="s">      baseUrl: http://tap-gui.tkg.io
</span></span></span><span class="line"><span class="cl"><span class="s">      support:
</span></span></span><span class="line"><span class="cl"><span class="s">        url: https://tanzu.vmware.com/support
</span></span></span><span class="line"><span class="cl"><span class="s">        items:
</span></span></span><span class="line"><span class="cl"><span class="s">          - title: Contact Support
</span></span></span><span class="line"><span class="cl"><span class="s">            icon: email
</span></span></span><span class="line"><span class="cl"><span class="s">            links:
</span></span></span><span class="line"><span class="cl"><span class="s">              - url: https://tanzu.vmware.com/support
</span></span></span><span class="line"><span class="cl"><span class="s">                title: Tanzu Support Page
</span></span></span><span class="line"><span class="cl"><span class="s">          - title: Documentation
</span></span></span><span class="line"><span class="cl"><span class="s">            icon: docs
</span></span></span><span class="line"><span class="cl"><span class="s">            links:
</span></span></span><span class="line"><span class="cl"><span class="s">              - url: https://docs.vmware.com/en/VMware-Tanzu-Application-Platform/index.html
</span></span></span><span class="line"><span class="cl"><span class="s">                title: Tanzu Application Platform Documentation
</span></span></span><span class="line"><span class="cl"><span class="s">    integrations:
</span></span></span><span class="line"><span class="cl"><span class="s">      github: # Other integrations available see NOTE below
</span></span></span><span class="line"><span class="cl"><span class="s">        - host: github.com
</span></span></span><span class="line"><span class="cl"><span class="s">          token: &#34;{GIT TOKEN}&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">    catalog:
</span></span></span><span class="line"><span class="cl"><span class="s">      locations:
</span></span></span><span class="line"><span class="cl"><span class="s">        - type: url
</span></span></span><span class="line"><span class="cl"><span class="s">          target: https://github.com/huntedhappy/tanzu-java-web-app/catalog-info.yaml
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">    backend:
</span></span></span><span class="line"><span class="cl"><span class="s">      baseUrl: http://tap-gui.tkg.io
</span></span></span><span class="line"><span class="cl"><span class="s">      cors:
</span></span></span><span class="line"><span class="cl"><span class="s">        origin: http://tap-gui.tkg.io
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">#    ##Existing values file above (OIDC)
</span></span></span><span class="line"><span class="cl"><span class="s">#    auth:
</span></span></span><span class="line"><span class="cl"><span class="s">#      allowGuestAccess: true
</span></span></span><span class="line"><span class="cl"><span class="s">#      environment: development
</span></span></span><span class="line"><span class="cl"><span class="s">#      loginPage:
</span></span></span><span class="line"><span class="cl"><span class="s">#        github:
</span></span></span><span class="line"><span class="cl"><span class="s">#          title: Github Login
</span></span></span><span class="line"><span class="cl"><span class="s">#          message: Enter with your GitHub account
</span></span></span><span class="line"><span class="cl"><span class="s">#      providers:
</span></span></span><span class="line"><span class="cl"><span class="s">#        github:
</span></span></span><span class="line"><span class="cl"><span class="s">#          development:
</span></span></span><span class="line"><span class="cl"><span class="s">#            clientId: 
</span></span></span><span class="line"><span class="cl"><span class="s">#            clientSecret: 
</span></span></span><span class="line"><span class="cl"><span class="s">#            ## uncomment if using GitHub Enterprise
</span></span></span><span class="line"><span class="cl"><span class="s">#            # enterpriseInstanceUrl:
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">metadata_store:
</span></span></span><span class="line"><span class="cl"><span class="s">  app_service_type: LoadBalancer # (optional) Defaults to LoadBalancer. Change to NodePort for distributions that don&#39;t support LoadBalancer
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">grype:
</span></span></span><span class="line"><span class="cl"><span class="s">  namespace: &#34;tap-install&#34; # (optional) Defaults to default namespace.
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>TANZU 설치</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tanzu package install tap -p tap.tanzu.vmware.com -v <span class="nv">$TAP_VERSION</span> --values-file gcr-tap-values.yaml -n tap-install
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="31-multicluster">3.1. MultiCluster</h3>
<figure><figcaption>
            <h4>MultiCluster</h4>
        </figcaption>
</figure>

<p>3개의 클러스터를 생성한다. 여기서는 아래와 같이 구성 하였다.</p>
<ul>
<li>
<p>tkgm01-tkc-dev02 = build</p>
</li>
<li>
<p>tkgm02-tkc-dev03 = run</p>
</li>
<li>
<p>tkgm03-tkc-dev04 = view</p>
</li>
</ul>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>이미지를 Repository에 저장한다.<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">INSTALL_REGISTRY_HOSTNAME</span><span class="o">=</span>gcr.io
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">TAP_VERSION</span><span class="o">=</span>1.1.0
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## Tanzu Network에 로그인을 한다.</span>
</span></span><span class="line"><span class="cl">docker login registry.tanzu.vmware.com -u <span class="o">{</span>ID<span class="o">}</span> --password-stdin &lt; ./password.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## GCR에 로그인을 한다.</span>
</span></span><span class="line"><span class="cl">docker login -u _json_key --password-stdin https://gcr.io &lt; <span class="o">{</span>togken<span class="o">}}</span>.json
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 이미지를 GCR에 복사 한다.</span>
</span></span><span class="line"><span class="cl">imgpkg copy -b registry.tanzu.vmware.com/tanzu-application-platform/tap-packages:<span class="si">${</span><span class="nv">TAP_VERSION</span><span class="si">}</span> --to-repo <span class="si">${</span><span class="nv">INSTALL_REGISTRY_HOSTNAME</span><span class="si">}</span>/main-tokenizer-343509/tap-packages
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>모든 이미지가 GCR에 저장이 완료 되면 Repository를 각각의 클러스터에 등록 해준다.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## Cluster 변경</span>
</span></span><span class="line"><span class="cl">kubectl use-context <span class="o">{</span>cluster context<span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">## NameSpace 생성</span>
</span></span><span class="line"><span class="cl">kubectl create ns tap-install
</span></span><span class="line"><span class="cl"><span class="c1">## GCR 접속 Secret 생성</span>
</span></span><span class="line"><span class="cl">tanzu secret registry add tap-registry --server gcr.io --username _json_key --password <span class="s2">&#34;</span><span class="k">$(</span>cat <span class="o">{</span>gcr-key<span class="o">}</span>.json<span class="k">)</span><span class="s2">&#34;</span>  --export-to-all-namespaces --yes -n tap-install
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">tanzu secret registry add registry-credentials --server gcr.io --username _json_key --password <span class="s2">&#34;</span><span class="k">$(</span>cat <span class="o">{</span>gcr-key<span class="o">}</span>.json<span class="k">)</span><span class="s2">&#34;</span> --export-to-all-namespaces --yes -n tap-install
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## Tanzu Package Repository 추가</span>
</span></span><span class="line"><span class="cl">tanzu package repository add tanzu-tap-repository <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --url <span class="si">${</span><span class="nv">INSTALL_REGISTRY_HOSTNAME</span><span class="si">}</span>/main-tokenizer-343509/tap-packages:<span class="nv">$TAP_VERSION</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --namespace tap-install 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## Tanzu Package Repository 확인</span>
</span></span><span class="line"><span class="cl">tanzu package repository list -n tap-install
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>각각의 클러스터의 맞는 tap을 설치 해준다.</li>
<li>build-tap-values.yaml</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">cat <span class="s">&lt;&lt; EOF | tee build-tap-values.yaml
</span></span></span><span class="line"><span class="cl"><span class="s">profile: build
</span></span></span><span class="line"><span class="cl"><span class="s">ceip_policy_disclosed: true
</span></span></span><span class="line"><span class="cl"><span class="s">buildservice:
</span></span></span><span class="line"><span class="cl"><span class="s">  kp_default_repository: &#34;gcr.io/{gcr project}/tap-packages&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  kp_default_repository_username: _json_key
</span></span></span><span class="line"><span class="cl"><span class="s">  kp_default_repository_password: {gcr key}
</span></span></span><span class="line"><span class="cl"><span class="s">  tanzunet_username: &#34;&#34;                             ## Tanzu Network ID
</span></span></span><span class="line"><span class="cl"><span class="s">  tanzunet_password: &#34;&#34;                                     ## Tanzu Network Password
</span></span></span><span class="line"><span class="cl"><span class="s">  descriptor_name: &#34;full&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  enable_automatic_dependency_updates: true
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">supply_chain: basic
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">ootb_supply_chain_basic:
</span></span></span><span class="line"><span class="cl"><span class="s">  registry:
</span></span></span><span class="line"><span class="cl"><span class="s">    server: &#34;gcr.io&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">    repository: &#34;{gcr project}/supply_chain&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  gitops:
</span></span></span><span class="line"><span class="cl"><span class="s">    ssh_secret: &#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  cluster_builder: default
</span></span></span><span class="line"><span class="cl"><span class="s">  service_account: default
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">grype:
</span></span></span><span class="line"><span class="cl"><span class="s">  namespace: &#34;tap-install&#34; # (optional) Defaults to default namespace.
</span></span></span><span class="line"><span class="cl"><span class="s">  targetImagePullSecret: tap-registry
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>run-tap-values.yaml</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">cat <span class="s">&lt;&lt; EOF | tee run-tap-values.yaml
</span></span></span><span class="line"><span class="cl"><span class="s">profile: run
</span></span></span><span class="line"><span class="cl"><span class="s">ceip_policy_disclosed: true # Installation fails if this is not set to true. Not a string.
</span></span></span><span class="line"><span class="cl"><span class="s">supply_chain: basic
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">cnrs:
</span></span></span><span class="line"><span class="cl"><span class="s">  domain_name: tkg.io
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">contour:
</span></span></span><span class="line"><span class="cl"><span class="s">  envoy:
</span></span></span><span class="line"><span class="cl"><span class="s">    service:
</span></span></span><span class="line"><span class="cl"><span class="s">      type: LoadBalancer #NodePort can be used if your Kubernetes cluster doesn&#39;t support LoadBalancing
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">appliveview_connector:
</span></span></span><span class="line"><span class="cl"><span class="s">  backend:
</span></span></span><span class="line"><span class="cl"><span class="s">    sslDisabled: &#34;true&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">    host: appliveview.tkg.io
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>클러스터를 변경 하면서 TAP을 설치 해준다.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">kubectl use-context <span class="o">{</span>TAP 클러스터<span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">tanzu package install tap -p tap.tanzu.vmware.com -v 1.1.0 -f build-tap-values.yaml -n tap-install
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">tanzu package install tap -p tap.tanzu.vmware.com -v 1.1.0 -f run-tap-values.yaml -n tap-install
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>build 와 run 클러스터에 TAP 설치가 완료 되었다면 클러스터의 URL 과 TOKEN을 확인한다.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nv">CLUSTER_URL</span><span class="o">=</span><span class="k">$(</span>kubectl config view --minify -o <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.clusters[0].cluster.server}&#39;</span><span class="k">)</span>
</span></span><span class="line"><span class="cl"><span class="nv">CLUSTER_TOKEN</span><span class="o">=</span><span class="k">$(</span>kubectl -n tap-gui get secret <span class="k">$(</span>kubectl -n tap-gui get sa tap-gui-viewer -o<span class="o">=</span>json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="p">|</span> jq -r <span class="s1">&#39;.secrets[0].name&#39;</span><span class="k">)</span> -o<span class="o">=</span>json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="p">|</span> jq -r <span class="s1">&#39;.data[&#34;token&#34;]&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="p">|</span> base64 --decode<span class="k">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> CLUSTER_URL: <span class="nv">$CLUSTER_URL</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> CLUSTER_TOKEN: <span class="nv">$CLUSTER_TOKEN</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>view-tap-values.yaml</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">cat <span class="s">&lt;&lt; EOF | tee view-tap-values.yaml
</span></span></span><span class="line"><span class="cl"><span class="s">profile: view
</span></span></span><span class="line"><span class="cl"><span class="s">ceip_policy_disclosed: true # Installation fails if this is not set to true. Not a string.
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">contour:
</span></span></span><span class="line"><span class="cl"><span class="s">  envoy:
</span></span></span><span class="line"><span class="cl"><span class="s">    service:
</span></span></span><span class="line"><span class="cl"><span class="s">      type: LoadBalancer #NodePort can be used if your Kubernetes cluster doesn&#39;t support LoadBalancing
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">learningcenter:
</span></span></span><span class="line"><span class="cl"><span class="s">  ingressDomain: &#34;tkg.io&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">tap_gui:
</span></span></span><span class="line"><span class="cl"><span class="s">  service_type: ClusterIP
</span></span></span><span class="line"><span class="cl"><span class="s">  ingressEnabled: &#34;true&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  ingressDomain: &#34;tkg.io&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  app_config:
</span></span></span><span class="line"><span class="cl"><span class="s">    app:
</span></span></span><span class="line"><span class="cl"><span class="s">      baseUrl: http://tap-gui.tkg.io
</span></span></span><span class="line"><span class="cl"><span class="s">    catalog:
</span></span></span><span class="line"><span class="cl"><span class="s">      locations:
</span></span></span><span class="line"><span class="cl"><span class="s">        - type: url
</span></span></span><span class="line"><span class="cl"><span class="s">          target: https://GIT-CATALOG-URL/catalog-info.yaml
</span></span></span><span class="line"><span class="cl"><span class="s">    backend:
</span></span></span><span class="line"><span class="cl"><span class="s">      baseUrl: http://tap-gui.tkg.io
</span></span></span><span class="line"><span class="cl"><span class="s">      cors:
</span></span></span><span class="line"><span class="cl"><span class="s">        origin: http://tap-gui.tkg.io
</span></span></span><span class="line"><span class="cl"><span class="s">    kubernetes:
</span></span></span><span class="line"><span class="cl"><span class="s">      serviceLocatorMethod:
</span></span></span><span class="line"><span class="cl"><span class="s">        type: &#39;multiTenant&#39;
</span></span></span><span class="line"><span class="cl"><span class="s">      clusterLocatorMethods:
</span></span></span><span class="line"><span class="cl"><span class="s">        - type: &#39;config&#39;
</span></span></span><span class="line"><span class="cl"><span class="s">          clusters:
</span></span></span><span class="line"><span class="cl"><span class="s">            - url: https://10.253.125.252:6443
</span></span></span><span class="line"><span class="cl"><span class="s">              name: tkgm01-tkc-dev02
</span></span></span><span class="line"><span class="cl"><span class="s">              authProvider: serviceAccount
</span></span></span><span class="line"><span class="cl"><span class="s">              skipTLSVerify: true
</span></span></span><span class="line"><span class="cl"><span class="s">              serviceAccountToken: eyJhbGciOiJSUzI1NiIsImtpZCI6InZ4S25KYi1SVW96UmJmdnVXc2lSODlza1NTV0RBRkd1aG1acHI5Qy0xdjAifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJ0YXAtZ3VpIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZWNyZXQubmFtZSI6InRhcC1ndWktdmlld2VyLXRva2VuLTk1c3EyIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6InRhcC1ndWktdmlld2VyIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQudWlkIjoiNzJhOTY2ZGEtYzA2ZS00OTIyLTk5Y2YtM2ZjYTMwNmNkNWM5Iiwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50OnRhcC1ndWk6dGFwLWd1aS12aWV3ZXIifQ.Vit66qxirDMNcZlUHaDaNXJAWpU-J0o5wfBXK8U2kVnoP3RMcAGrSTodoZ3fnsNtTlPKSCMlw9I7m591Kcly1HL8CPLwkLH-P2Ew26eurQHvVb-NGQUFAIRSdrN6Ig6J5Xg09D5D8wGMJTk7egSud8cj5A1z1bT1ctLCX1N2WrqO3Hrcu0o8XHgSoiogTP_ELU8B2E93kHqdCPeh0xbY9pkTEvXRQun9PTeag6jepd7eNUgCXMab4jYxsEXDbJ3PPbDusuleY2LpcObYaWuuYMyRc5QSVG5EBlEKfaXnEvslTNxdohdEQwQOHwABKC4Au-KBYbzy2s_MI40g2K79iw
</span></span></span><span class="line"><span class="cl"><span class="s">            - url: https://10.253.125.253:6443
</span></span></span><span class="line"><span class="cl"><span class="s">              name: tkgm01-tkc-dev03
</span></span></span><span class="line"><span class="cl"><span class="s">              authProvider: serviceAccount
</span></span></span><span class="line"><span class="cl"><span class="s">              skipTLSVerify: true
</span></span></span><span class="line"><span class="cl"><span class="s">              serviceAccountToken: eyJhbGciOiJSUzI1NiIsImtpZCI6Ii0tYzNpVm9HbXdfTkxqREZhU1ZXeEY0RXJCY29Sc0lwWkl5WW9XdENsYzgifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJ0YXAtZ3VpIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZWNyZXQubmFtZSI6InRhcC1ndWktdmlld2VyLXRva2VuLWs0aHQ2Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6InRhcC1ndWktdmlld2VyIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQudWlkIjoiNTBiNjMxYjktYjRlOS00ZjhhLThmZDgtNDAwMDE3ZWZkOTJmIiwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50OnRhcC1ndWk6dGFwLWd1aS12aWV3ZXIifQ.DL4nTskvqSvEXwi0HN2rNk61UD3DquvCnRxrFZZT2cM7L7WznTlqdXFxXsqlabE9zcS3nTLQ2NWDjx2qrJEdiAzqr6rOGXkFzYeyuE9kvzcTnVbHYYlagA8UMCjeQUAw0DtTGip3UFqPoXUGdwlZHYR7e1VQcaSmdnFc0UVTrDlpDdGQgJujDvyiU18-pa7BeizBkPJbKPVOgn0sP5M_zZh5Rtzb4-PKc1pYiAG7lg_05U7w_5rfMeoaLFN0H36BKUpGHb7inakGjnR3Z7_6iPe7x4FUR4zK-WZFCT4LbckfR0NKaDGHCaGoMSqQ-W2j6GFdK1wRVGhnortD8mC4ww
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">metadata_store:
</span></span></span><span class="line"><span class="cl"><span class="s">  app_service_type: LoadBalancer # (optional) Defaults to LoadBalancer. Change to NodePort for distributions that don&#39;t support LoadBalancer
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">appliveview:
</span></span></span><span class="line"><span class="cl"><span class="s">  ingressEnabled: &#34;true&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  ingressDomain: tkg.io
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>view 클러스터에 TAP 설치</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tanzu package install tap -p tap.tanzu.vmware.com -v 1.1.0 -f view-tap-values.yaml -n tap-install
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>설치 완료 후 build 와 run cluster에 권한 부여</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">kubectl apply -f - <span class="s">&lt;&lt; EOF
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: Namespace
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: tap-gui
</span></span></span><span class="line"><span class="cl"><span class="s">---
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: ServiceAccount
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  namespace: tap-gui
</span></span></span><span class="line"><span class="cl"><span class="s">  name: tap-gui-viewer
</span></span></span><span class="line"><span class="cl"><span class="s">---
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: rbac.authorization.k8s.io/v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: ClusterRoleBinding
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: tap-gui-read-k8s
</span></span></span><span class="line"><span class="cl"><span class="s">subjects:
</span></span></span><span class="line"><span class="cl"><span class="s">- kind: ServiceAccount
</span></span></span><span class="line"><span class="cl"><span class="s">  namespace: tap-gui
</span></span></span><span class="line"><span class="cl"><span class="s">  name: tap-gui-viewer
</span></span></span><span class="line"><span class="cl"><span class="s">roleRef:
</span></span></span><span class="line"><span class="cl"><span class="s">  kind: ClusterRole
</span></span></span><span class="line"><span class="cl"><span class="s">  name: k8s-reader
</span></span></span><span class="line"><span class="cl"><span class="s">  apiGroup: rbac.authorization.k8s.io
</span></span></span><span class="line"><span class="cl"><span class="s">---
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: rbac.authorization.k8s.io/v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: ClusterRole
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: k8s-reader
</span></span></span><span class="line"><span class="cl"><span class="s">rules:
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [&#39;pods&#39;, &#39;services&#39;, &#39;configmaps&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;apps&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [&#39;deployments&#39;, &#39;replicasets&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;autoscaling&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [&#39;horizontalpodautoscalers&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;networking.k8s.io&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [&#39;ingresses&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;networking.internal.knative.dev&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [&#39;serverlessservices&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [ &#39;autoscaling.internal.knative.dev&#39; ]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [ &#39;podautoscalers&#39; ]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [ &#39;get&#39;, &#39;watch&#39;, &#39;list&#39; ]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;serving.knative.dev&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources:
</span></span></span><span class="line"><span class="cl"><span class="s">  - configurations
</span></span></span><span class="line"><span class="cl"><span class="s">  - revisions
</span></span></span><span class="line"><span class="cl"><span class="s">  - routes
</span></span></span><span class="line"><span class="cl"><span class="s">  - services
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;carto.run&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources:
</span></span></span><span class="line"><span class="cl"><span class="s">  - clusterconfigtemplates
</span></span></span><span class="line"><span class="cl"><span class="s">  - clusterdeliveries
</span></span></span><span class="line"><span class="cl"><span class="s">  - clusterdeploymenttemplates
</span></span></span><span class="line"><span class="cl"><span class="s">  - clusterimagetemplates
</span></span></span><span class="line"><span class="cl"><span class="s">  - clusterruntemplates
</span></span></span><span class="line"><span class="cl"><span class="s">  - clustersourcetemplates
</span></span></span><span class="line"><span class="cl"><span class="s">  - clustersupplychains
</span></span></span><span class="line"><span class="cl"><span class="s">  - clustertemplates
</span></span></span><span class="line"><span class="cl"><span class="s">  - deliverables
</span></span></span><span class="line"><span class="cl"><span class="s">  - runnables
</span></span></span><span class="line"><span class="cl"><span class="s">  - workloads
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;source.toolkit.fluxcd.io&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources:
</span></span></span><span class="line"><span class="cl"><span class="s">  - gitrepositories
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;source.apps.tanzu.vmware.com&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources:
</span></span></span><span class="line"><span class="cl"><span class="s">  - imagerepositories
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;conventions.apps.tanzu.vmware.com&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources:
</span></span></span><span class="line"><span class="cl"><span class="s">  - podintents
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;kpack.io&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources:
</span></span></span><span class="line"><span class="cl"><span class="s">  - images
</span></span></span><span class="line"><span class="cl"><span class="s">  - builds
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;scanning.apps.tanzu.vmware.com&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources:
</span></span></span><span class="line"><span class="cl"><span class="s">  - sourcescans
</span></span></span><span class="line"><span class="cl"><span class="s">  - imagescans
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;tekton.dev&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources:
</span></span></span><span class="line"><span class="cl"><span class="s">  - taskruns
</span></span></span><span class="line"><span class="cl"><span class="s">  - pipelineruns
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;kappctrl.k14s.io&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources:
</span></span></span><span class="line"><span class="cl"><span class="s">  - apps
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>모든 클러스터에 개발자의 대한 권한을 부여</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">kubectl annotate secret tap-registry -n tap-install secretgen.carvel.dev/image-pull-secret<span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">kubectl patch sa default -n tap-install --type <span class="s1">&#39;json&#39;</span> -p <span class="s1">&#39;[{&#34;op&#34;:&#34;add&#34;,&#34;path&#34;:&#34;/secrets&#34;,&#34;value&#34;:[&#34;name&#34;:&#34;registry-credentials&#34;,&#34;name&#34;:&#34;tap-registry&#34;]}]&#39;</span>
</span></span><span class="line"><span class="cl">kubectl patch sa default -n tap-install --type <span class="s1">&#39;json&#39;</span> -p <span class="s1">&#39;[{&#34;op&#34;:&#34;add&#34;,&#34;path&#34;:&#34;/imagePullSecrets&#34;,&#34;value&#34;:[&#34;name&#34;:&#34;registry-credentials&#34;,&#34;name&#34;:&#34;tap-registry&#34;]}]&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">kubectl apply -f - -n tap-install <span class="s">&lt;&lt; EOF
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: rbac.authorization.k8s.io/v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: RoleBinding
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: default-permit-deliverable
</span></span></span><span class="line"><span class="cl"><span class="s">roleRef:
</span></span></span><span class="line"><span class="cl"><span class="s">  apiGroup: rbac.authorization.k8s.io
</span></span></span><span class="line"><span class="cl"><span class="s">  kind: ClusterRole
</span></span></span><span class="line"><span class="cl"><span class="s">  name: deliverable
</span></span></span><span class="line"><span class="cl"><span class="s">subjects:
</span></span></span><span class="line"><span class="cl"><span class="s">  - kind: ServiceAccount
</span></span></span><span class="line"><span class="cl"><span class="s">    name: default
</span></span></span><span class="line"><span class="cl"><span class="s">---
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: rbac.authorization.k8s.io/v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: RoleBinding
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: default-permit-workload
</span></span></span><span class="line"><span class="cl"><span class="s">roleRef:
</span></span></span><span class="line"><span class="cl"><span class="s">  apiGroup: rbac.authorization.k8s.io
</span></span></span><span class="line"><span class="cl"><span class="s">  kind: ClusterRole
</span></span></span><span class="line"><span class="cl"><span class="s">  name: workload
</span></span></span><span class="line"><span class="cl"><span class="s">subjects:
</span></span></span><span class="line"><span class="cl"><span class="s">  - kind: ServiceAccount
</span></span></span><span class="line"><span class="cl"><span class="s">    name: default
</span></span></span><span class="line"><span class="cl"><span class="s">---
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: rbac.authorization.k8s.io/v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: RoleBinding
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: dev-permit-app-viewer
</span></span></span><span class="line"><span class="cl"><span class="s">roleRef:
</span></span></span><span class="line"><span class="cl"><span class="s">  apiGroup: rbac.authorization.k8s.io
</span></span></span><span class="line"><span class="cl"><span class="s">  kind: ClusterRole
</span></span></span><span class="line"><span class="cl"><span class="s">  name: app-viewer
</span></span></span><span class="line"><span class="cl"><span class="s">subjects:
</span></span></span><span class="line"><span class="cl"><span class="s">  - kind: Group
</span></span></span><span class="line"><span class="cl"><span class="s">    name: &#34;namespace-developers&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">    apiGroup: rbac.authorization.k8s.io
</span></span></span><span class="line"><span class="cl"><span class="s">---
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: rbac.authorization.k8s.io/v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: ClusterRoleBinding
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: namespace-dev-permit-app-viewer
</span></span></span><span class="line"><span class="cl"><span class="s">roleRef:
</span></span></span><span class="line"><span class="cl"><span class="s">  apiGroup: rbac.authorization.k8s.io
</span></span></span><span class="line"><span class="cl"><span class="s">  kind: ClusterRole
</span></span></span><span class="line"><span class="cl"><span class="s">  name: app-viewer-cluster-access
</span></span></span><span class="line"><span class="cl"><span class="s">subjects:
</span></span></span><span class="line"><span class="cl"><span class="s">  - kind: Group
</span></span></span><span class="line"><span class="cl"><span class="s">    name: &#34;namespace-developers&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">    apiGroup: rbac.authorization.k8s.io
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Build Cluster로 컨텍스트 변경 후 App을 배포한다.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">DEVELOPER_NAMESPACE</span><span class="o">=</span>tap-install
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">tanzu apps workload create tanzu-java-web-app <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --git-repo https://github.com/huntedhappy/tanzu-java-web-app <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --git-branch main <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --type web <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --label app.kubernetes.io/part-of<span class="o">=</span>tanzu-java-web-app <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --yes <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> -n <span class="si">${</span><span class="nv">DEVELOPER_NAMESPACE</span><span class="si">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<figure><figcaption>
            <h4>app workload 상태 확인</h4>
        </figcaption>
</figure>

<ul>
<li>진행 상태 확인</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tanzu apps workload tail tanzu-java-web-app --since 10m --timestamp -n <span class="si">${</span><span class="nv">DEVELOPER_NAMESPACE</span><span class="si">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><figure><figcaption>
            <h4>app workload 진행 상태 확인</h4>
        </figcaption>
</figure>

<ul>
<li>
<p>생성이 완료 되면 GUI에서 확인
<figure><figcaption>
            <h4>supply chain 확인</h4>
        </figcaption>
</figure>
</p>
</li>
<li>
<p>deliverable이 되었는지 확인 한다. build 클러스터에서는 false로 나오는 것을 우선 확인 할 수 있다.</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">kubectl get deliverable -n <span class="si">${</span><span class="nv">DEVELOPER_NAMESPACE</span><span class="si">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><figure><figcaption>
            <h4>deliverable 실패 확인</h4>
        </figcaption>
</figure>

<ul>
<li>deliverable를 yaml파일로 저장한다.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">kubectl get deliverable tanzu-java-web-app -n <span class="si">${</span><span class="nv">DEVELOPER_NAMESPACE</span><span class="si">}</span> -oyaml &gt; deliverable.yaml
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>저장된 파일에서 ownerReferences와 status 부분을 삭제 한다. 그럼 아래와 비슷할 것이다.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">apiVersion: carto.run/v1alpha1
</span></span><span class="line"><span class="cl">kind: Deliverable
</span></span><span class="line"><span class="cl">metadata:
</span></span><span class="line"><span class="cl">  creationTimestamp: <span class="s2">&#34;2022-04-19T07:56:37Z&#34;</span>
</span></span><span class="line"><span class="cl">  generation: <span class="m">1</span>
</span></span><span class="line"><span class="cl">  labels:
</span></span><span class="line"><span class="cl">    app.kubernetes.io/component: deliverable
</span></span><span class="line"><span class="cl">    app.kubernetes.io/part-of: tanzu-java-web-app
</span></span><span class="line"><span class="cl">    app.tanzu.vmware.com/deliverable-type: web
</span></span><span class="line"><span class="cl">    apps.tanzu.vmware.com/workload-type: web
</span></span><span class="line"><span class="cl">    carto.run/cluster-template-name: deliverable-template
</span></span><span class="line"><span class="cl">    carto.run/resource-name: deliverable
</span></span><span class="line"><span class="cl">    carto.run/supply-chain-name: source-to-url
</span></span><span class="line"><span class="cl">    carto.run/template-kind: ClusterTemplate
</span></span><span class="line"><span class="cl">    carto.run/workload-name: tanzu-java-web-app
</span></span><span class="line"><span class="cl">    carto.run/workload-namespace: tap-install
</span></span><span class="line"><span class="cl">  name: tanzu-java-web-app
</span></span><span class="line"><span class="cl">  namespace: tap-install
</span></span><span class="line"><span class="cl">  resourceVersion: <span class="s2">&#34;1451190&#34;</span>
</span></span><span class="line"><span class="cl">  uid: 23c2d202-0186-4c62-b497-baaa961e3698
</span></span><span class="line"><span class="cl">spec:
</span></span><span class="line"><span class="cl">  source:
</span></span><span class="line"><span class="cl">    image: <span class="o">{</span>image<span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>run cluster로 변경 후 저장한 deliverable파일을 실행 해준다.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## RUN Cluster로 변경</span>
</span></span><span class="line"><span class="cl">kubectl config use-context <span class="o">{</span>run cluster<span class="o">}</span>
</span></span><span class="line"><span class="cl">kubectl apply -f deliverable.yaml -n <span class="si">${</span><span class="nv">DEVELOPER_NAMESPACE</span><span class="si">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>확인을 하면 성공한 것을 확인 할 수 있다.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">kubectl get deliverables -n <span class="si">${</span><span class="nv">DEVELOPER_NAMESPACE</span><span class="si">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><figcaption>
            <h4>deliverable 상태 확인</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>deliverable gui 상태 확인</h4>
        </figcaption>
</figure>
</p>
<h2 id="4-visual-studio">4. Visual Studio</h2>
<p>IDE를 Visual Studio를 사용하여 동작, 현재는 Visual studio만 지원 하고 있음</p>
<h3 id="41-extenstion-설정">4.1. Extenstion 설정</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">apt search openjdk
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">apt install openjdk-11-jdk -y
</span></span><span class="line"><span class="cl">java --version
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;allow_k8s_contexts(&#39;</span><span class="k">$(</span>kubectl config current-context<span class="k">)</span><span class="s2">&#39;)&#34;</span> &gt;&gt; /var/tmp/tap/tanzu-java-web-app/Tiltfile
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 맨아래 해당 context가 들어가 있는 것을 확인 할 수 있다.</span>
</span></span><span class="line"><span class="cl">cat /var/tmp/tap/tanzu-java-web-app/Tiltfile
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ctrl + <span class="nb">shift</span> + p
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><figcaption>
            <h4>VS 설정</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>VS 설정</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>VS 설정</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>VS 설정</h4>
        </figcaption>
</figure>
</p>
<h3 id="42-live-update-start">4.2. Live Update Start</h3>
<p>해당 부분을 수정 하면 자동으로 GIT에 업데이트가 되면서 바뀌는것을 볼수 있다.
<figure><figcaption>
            <h4>수정#1</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>수정#2</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>수정#3</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>수정#4</h4>
        </figcaption>
</figure>
</p>
]]></description>
</item></channel>
</rss>
