<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>tanzu - 태그 - Dokyung&#39;s DevOoOps</title>
        <link>https://huntedhappy.github.io/ko/tags/tanzu/</link>
        <description>tanzu - 태그 - Dokyung&#39;s DevOoOps</description>
        <generator>Hugo -- gohugo.io</generator><language>ko</language><managingEditor>huntedhappy@gmail.com (Dokyung)</managingEditor>
            <webMaster>huntedhappy@gmail.com (Dokyung)</webMaster><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Sun, 17 Sep 2023 00:29:40 &#43;0900</lastBuildDate><atom:link href="https://huntedhappy.github.io/ko/tags/tanzu/" rel="self" type="application/rss+xml" /><item>
    <title>The Documentation VisualStudioCode in TAP</title>
    <link>https://huntedhappy.github.io/ko/tap-ide/</link>
    <pubDate>Sun, 17 Sep 2023 00:29:40 &#43;0900</pubDate>
    <author>Dokyung</author>
    <guid>https://huntedhappy.github.io/ko/tap-ide/</guid>
    <description><![CDATA[<p>TANZU TAP 1.6 이전 버전에서는 윈도우에서 VisualStudioCode에서 라이브 업데이트를 구성하기 위해서는 Docker Desktop이 필요 했다.</p>
<p>하지만 TANZU TAP 1.6 버전부터는 Docker Desktop이 필요 없이 클러스터를 통해서 바로 테스트를 하고 이미지를 하버에 업로드가 가능하다.</p>
<p>** 정확히 TAP의 문제였는지 TILT의 문제였는지는 모르지만, 아마도 TILT에서는 기존 Docker Desktop이 무조건 필요 했던거 보면 어쩌면 TANZU TAP의 버전 문제는 아닐 수도 있다. 중요한건 지금은 필요없다는 것이다.</p>
<p>신규로 나온 Local Source Proxy의 기능을 통해서 가능 한것으로 보인다.</p>
<p>해당 내용을 보자면 아래와 같다.</p>
<p>LSP의 경우 개발자에게 로컬 소스 코드를 TAP 클러스터에 원활하게 업로드 할 수 있는 안전하고 또한 사용자 친화적인 접근 방식을 제공 한다고 한다.</p>
<p>해당 패키지는 iterate 및 full 프로파일에서만 지원하며, 만약 제외를 하고 싶으면 local-source-proxy.apps.tanzu.vmware.com 을 tap-values.yaml에서 제외 하면 된다.</p>
<p>로컬 소스 프록시를 사용하면 개발자는 아래와 같은 이득을 얻을 수 있다.</p>
<blockquote>
<p>엔트 포인트, 자격 증명, 인증서 등 레지스트리 세부 사항을 알 필요 없이 외부 레지스트리를 사용 할 수 있다. 기존에는 Source주소를 적었어야 한다. 이를 통해 개발자 워크스테이션에 레지스트리 자격 증명을 배포해야 하는 플랙폼 및 앱 운영자의 부담이 줄어든다.
소스 이미지 위치를 제공하지 않고 IDE 확장을 포함한 모든 매커니즘을 통해 로컬 소스에서 워크로드를 배포한다. 개발자는 로컬 컴퓨터에서 레지스트리 자격 증명을 관리하거나 로컬 소스가 업로드된 위치를 추적하지 않고도 어플리케이션을 원할하게 배포 할 수 있다.</p>
</blockquote>
<p>** 위에 말은 반은 맞고 반은 틀린거 같다. 윈도우에서는 레지스트리의 자격증명을 안넣으면 에러가 난다.</p>
<p>Tilt 파일을 생성 할 때 아래와 같이 &ndash;source-image를 없어도 된다고 나와 있지만 실제적으로 해보면 리눅스는 필요 없으나, 윈도우에서는 안된다.</p>
<figure><figcaption>
            <h4>LSP 구조</h4>
        </figcaption>
</figure>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## Linux일 경우 아래와 같이 SOURCE_IMAGE를 지정 하지 않아도 된다. 그러므로 개발자는 레지스트리 정보를 몰라도 된다.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">LOCAL_PATH</span> <span class="o">=</span> os.getenv<span class="o">(</span><span class="s2">&#34;LOCAL_PATH&#34;</span>, <span class="nv">default</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="nv">NAMESPACE</span> <span class="o">=</span> os.getenv<span class="o">(</span><span class="s2">&#34;NAMESPACE&#34;</span>, <span class="nv">default</span><span class="o">=</span><span class="s1">&#39;tap-install&#39;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">k8s_custom_deploy<span class="o">(</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;tanzu-java-web-app-test&#39;</span>,
</span></span><span class="line"><span class="cl">    <span class="nv">apply_cmd</span><span class="o">=</span><span class="s2">&#34;tanzu apps workload apply -f config/workload.yaml --live-update&#34;</span> +
</span></span><span class="line"><span class="cl">               <span class="s2">&#34; --namespace &#34;</span> + NAMESPACE +
</span></span><span class="line"><span class="cl">               <span class="s2">&#34; --local-path &#34;</span> + LOCAL_PATH +
</span></span><span class="line"><span class="cl">               <span class="s2">&#34; --yes &gt;/dev/null&#34;</span> +
</span></span><span class="line"><span class="cl">               <span class="s2">&#34; &amp;&amp; kubectl get workload tanzu-java-web-app-test --namespace &#34;</span> + NAMESPACE + <span class="s2">&#34; -o yaml&#34;</span>,
</span></span><span class="line"><span class="cl">    <span class="nv">delete_cmd</span><span class="o">=</span><span class="s2">&#34;tanzu apps workload delete -f config/workload.yaml --namespace &#34;</span> + NAMESPACE + <span class="s2">&#34; --yes&#34;</span>,
</span></span><span class="line"><span class="cl">    <span class="nv">deps</span><span class="o">=[</span><span class="s1">&#39;pom.xml&#39;</span>, <span class="s1">&#39;./target/classes&#39;</span><span class="o">]</span>,
</span></span><span class="line"><span class="cl">    <span class="nv">container_selector</span><span class="o">=</span><span class="s1">&#39;workload&#39;</span>,
</span></span><span class="line"><span class="cl">    <span class="nv">live_update</span><span class="o">=[</span>
</span></span><span class="line"><span class="cl">      sync<span class="o">(</span><span class="s1">&#39;./target/classes&#39;</span>, <span class="s1">&#39;/workspace/BOOT-INF/classes&#39;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">k8s_resource<span class="o">(</span><span class="s1">&#39;tanzu-java-web-app-test&#39;</span>, <span class="nv">port_forwards</span><span class="o">=[</span><span class="s2">&#34;8080:8080&#34;</span><span class="o">]</span>,
</span></span><span class="line"><span class="cl">            <span class="nv">extra_pod_selectors</span><span class="o">=[{</span><span class="s1">&#39;carto.run/workload-name&#39;</span>: <span class="s1">&#39;tanzu-java-web-app-test&#39;</span>, <span class="s1">&#39;app.kubernetes.io/component&#39;</span>: <span class="s1">&#39;run&#39;</span><span class="o">}])</span>
</span></span><span class="line"><span class="cl">allow_k8s_contexts<span class="o">(</span><span class="s1">&#39;iterate-cluster-admin@iterate-cluster&#39;</span><span class="o">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## 반면 Windows에서는 SOURCE IMAGE를 안넣으면 에러가 나는 것을 확인 할 수 있다. </span>
</span></span><span class="line"><span class="cl"><span class="nv">SOURCE_IMAGE</span> <span class="o">=</span> os.getenv<span class="o">(</span><span class="s2">&#34;SOURCE_IMAGE&#34;</span>, <span class="nv">default</span><span class="o">=</span><span class="s1">&#39;harbor-infra.huntedhappy.kro.kr/app/supply_chain&#39;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="nv">LOCAL_PATH</span> <span class="o">=</span> os.getenv<span class="o">(</span><span class="s2">&#34;LOCAL_PATH&#34;</span>, <span class="nv">default</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="nv">NAMESPACE</span> <span class="o">=</span> os.getenv<span class="o">(</span><span class="s2">&#34;NAMESPACE&#34;</span>, <span class="nv">default</span><span class="o">=</span><span class="s1">&#39;tap-install&#39;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">k8s_custom_deploy<span class="o">(</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;tanzu-java-web-app-test&#39;</span>,
</span></span><span class="line"><span class="cl">    <span class="nv">apply_cmd</span><span class="o">=</span><span class="s2">&#34;tanzu apps workload apply -f config/workload.yaml --live-update&#34;</span> +
</span></span><span class="line"><span class="cl">               <span class="s2">&#34; --namespace &#34;</span> + NAMESPACE +
</span></span><span class="line"><span class="cl">               <span class="s2">&#34; --source-image &#34;</span> + SOURCE_IMAGE + 
</span></span><span class="line"><span class="cl">               <span class="s2">&#34; --local-path &#34;</span> + LOCAL_PATH +
</span></span><span class="line"><span class="cl">               <span class="s2">&#34; --yes &gt;/null&#34;</span> +
</span></span><span class="line"><span class="cl">               <span class="s2">&#34; &amp;&amp; kubectl get workload tanzu-java-web-app-test --namespace &#34;</span> + NAMESPACE + <span class="s2">&#34; -o yaml&#34;</span>,
</span></span><span class="line"><span class="cl">    <span class="nv">delete_cmd</span><span class="o">=</span><span class="s2">&#34;tanzu apps workload delete -f config/workload.yaml --namespace &#34;</span> + NAMESPACE + <span class="s2">&#34; --yes&#34;</span>,
</span></span><span class="line"><span class="cl">    <span class="nv">deps</span><span class="o">=[</span><span class="s1">&#39;pom.xml&#39;</span>, <span class="s1">&#39;./target/classes&#39;</span><span class="o">]</span>,
</span></span><span class="line"><span class="cl">    <span class="nv">container_selector</span><span class="o">=</span><span class="s1">&#39;workload&#39;</span>,
</span></span><span class="line"><span class="cl">    <span class="nv">live_update</span><span class="o">=[</span>
</span></span><span class="line"><span class="cl">      sync<span class="o">(</span><span class="s1">&#39;./target/classes&#39;</span>, <span class="s1">&#39;/workspace/BOOT-INF/classes&#39;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">k8s_resource<span class="o">(</span><span class="s1">&#39;tanzu-java-web-app-test&#39;</span>, <span class="nv">port_forwards</span><span class="o">=[</span><span class="s2">&#34;8080:8080&#34;</span><span class="o">]</span>,
</span></span><span class="line"><span class="cl">            <span class="nv">extra_pod_selectors</span><span class="o">=[{</span><span class="s1">&#39;carto.run/workload-name&#39;</span>: <span class="s1">&#39;tanzu-java-web-app-test&#39;</span>, <span class="s1">&#39;app.kubernetes.io/component&#39;</span>: <span class="s1">&#39;run&#39;</span><span class="o">}])</span>
</span></span><span class="line"><span class="cl">allow_k8s_contexts<span class="o">(</span><span class="s1">&#39;iterate-cluster-admin@iterate-cluster&#39;</span><span class="o">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="lsp의-설정이-제대로-들어-갔는지-확인이-필요-하다">LSP의 설정이 제대로 들어 갔는지 확인이 필요 하다.</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tanzu apps lsp health
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 아래와 같이 나오면 정상적으로 동작 하고 있는 것이다.</span>
</span></span><span class="line"><span class="cl">user_has_permission: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">reachable: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">upstream_authenticated: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">overall_health: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">message: All health checks passed
</span></span></code></pre></td></tr></table>
</div>
</div><p>강화 된 것은 IDE 환경에서 어플리케이션의 모니터링을 할 수 있다는 점이다.</p>
<figure><figcaption>
            <h4>Visual Studio Code에서 Application Monitoring</h4>
        </figcaption>
</figure>

]]></description>
</item>
<item>
    <title>The Documentation TAP &amp; JENKINS</title>
    <link>https://huntedhappy.github.io/ko/tap-jenkins/</link>
    <pubDate>Sun, 25 Jun 2023 11:12:22 &#43;0900</pubDate>
    <author>Dokyung</author>
    <guid>https://huntedhappy.github.io/ko/tap-jenkins/</guid>
    <description><![CDATA[<h2 id="out-of-the-box-supply-chain-with-testing-on-jenkins-for-supply-chain-choreographer">Out of the Box Supply Chain with testing on Jenkins for Supply Chain Choreographer</h2>
<p>기본적으로 TAP에서는 TEKTON을 사용하여 Source Testing을 제공 하고 있다. 하지만 별도로 Jenkins를 연동 해서 Source Testing을 진행 해보고 싶어 할 수 도 있을 거 같다.</p>
<p>그래서 TAP에서는 Jenkins와 연동을 제공 하고 있다.</p>
<p><a href="https://docs.vmware.com/en/VMware-Tanzu-Application-Platform/1.5/tap/scc-ootb-supply-chain-testing-with-jenkins.html" target="_blank" rel="noopener noreffer "><i class="fas fa-link"></i> with jenkins</a></p>
<p>사전구성으로 Build Cluster에 Out of the Box Supply Chain With Testing or Out of the Box Supply Chain With Testing and Scanning로 supply_chain 구성이 필요 하다.</p>
<p>사전에 Jenkins의 정보를 넣기 위해 Secret을 생성 해 준다.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">cat <span class="s">&lt;&lt; EOF | kubectl apply -f - -n tap-install
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: Secret
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: MY-SECRET # secret name that will be referenced by the workload
</span></span></span><span class="line"><span class="cl"><span class="s">type: Opaque
</span></span></span><span class="line"><span class="cl"><span class="s">stringData:
</span></span></span><span class="line"><span class="cl"><span class="s">  url: JENKINS-URL # target jenkins instance url
</span></span></span><span class="line"><span class="cl"><span class="s">  username: USERNAME # jenkins username
</span></span></span><span class="line"><span class="cl"><span class="s">  password: PASSWORD # jenkins password
</span></span></span><span class="line"><span class="cl"><span class="s">  ca-cert: (Optional) PEM-CA-CERT # PEM encoded certificate
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>그리고 Out of the Box Jenkins를 사용하기 위해 Jenkin pipeline을 설정이 필요 합니다.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">cat <span class="s">&lt;&lt;EOF | kubectl apply -f -
</span></span></span><span class="line"><span class="cl"><span class="s">---
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: tekton.dev/v1beta1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: Pipeline
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: developer-defined-jenkins-tekton-pipeline
</span></span></span><span class="line"><span class="cl"><span class="s">  namespace: developer-namespace
</span></span></span><span class="line"><span class="cl"><span class="s">  labels:
</span></span></span><span class="line"><span class="cl"><span class="s">    #! This label should be provided to the Workload so that
</span></span></span><span class="line"><span class="cl"><span class="s">    #! the supply chain can find this pipeline
</span></span></span><span class="line"><span class="cl"><span class="s">    apps.tanzu.vmware.com/pipeline: jenkins-pipeline
</span></span></span><span class="line"><span class="cl"><span class="s">spec:
</span></span></span><span class="line"><span class="cl"><span class="s">  results:
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: jenkins-job-url   #! To show the job URL on the
</span></span></span><span class="line"><span class="cl"><span class="s">    #! Tanzu Application Platform GUI
</span></span></span><span class="line"><span class="cl"><span class="s">    value: $(tasks.jenkins-task.results.jenkins-job-url)
</span></span></span><span class="line"><span class="cl"><span class="s">  params:
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: source-url        #! Required
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: source-revision   #! Required
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: secret-name       #! Required
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: job-name          #! Required
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: job-params        #! Required
</span></span></span><span class="line"><span class="cl"><span class="s">  tasks:
</span></span></span><span class="line"><span class="cl"><span class="s">  #! Required: Include the built-in task that triggers the
</span></span></span><span class="line"><span class="cl"><span class="s">  #! given job in Jenkins
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: jenkins-task
</span></span></span><span class="line"><span class="cl"><span class="s">    taskRef:
</span></span></span><span class="line"><span class="cl"><span class="s">      name: jenkins-task
</span></span></span><span class="line"><span class="cl"><span class="s">      kind: ClusterTask
</span></span></span><span class="line"><span class="cl"><span class="s">    params:
</span></span></span><span class="line"><span class="cl"><span class="s">      - name: source-url
</span></span></span><span class="line"><span class="cl"><span class="s">        value: $(params.source-url)
</span></span></span><span class="line"><span class="cl"><span class="s">      - name: source-revision
</span></span></span><span class="line"><span class="cl"><span class="s">        value: $(params.source-revision)
</span></span></span><span class="line"><span class="cl"><span class="s">      - name: secret-name
</span></span></span><span class="line"><span class="cl"><span class="s">        value: $(params.secret-name)
</span></span></span><span class="line"><span class="cl"><span class="s">      - name: job-name
</span></span></span><span class="line"><span class="cl"><span class="s">        value: $(params.job-name)
</span></span></span><span class="line"><span class="cl"><span class="s">      - name: job-params
</span></span></span><span class="line"><span class="cl"><span class="s">        value: $(params.job-params)
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span> 
</span></span></code></pre></td></tr></table>
</div>
</div><p>Tekton pipeline은 아래와 같이 이루어 져 있다.</p>
<p>개발자는 아래와 같이 매개변수를 사용하여 Tekton pipeline을 생성 해야 합니다.</p>
<ul>
<li>source-url, required: 테스트 중인 모든 소스 코드가 포함된 소스 형상관리의 주소를 작성</li>
<li>source-revision, required: Branch명을 넣어 주면 된다.</li>
<li>secret-name, required: Jenkins의 사용자 이름, 암호, 인증서(선택사항)가 포함된 Secret Name</li>
<li>job-name, required: Jenkins에 설정한 Pipeline의 이름과 일치</li>
<li>job-params, required: Workload에 작성 한 JSON 문자열로 인코딩된 키-값 쌍 목록
** 여기에 작성 한 값이 JENKINS에 전달해야 되는거 같은대 안되는 거 같다. 개인적인 생각. 이렇게 동작하라고 사용 하는거 같은대.. 실제로 동작하지 않아 보임.
Tasks:</li>
<li>jenkins-task, required: 설정된 ClusterTask중 Jenkins작업을 트리거 하기 위해 실행, kubeclt get clustertask로 이름을 확인 할 수 있다.</li>
</ul>
<p>그리고 아래와 같이 Jenkinsfile을 생성 해준다.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">cat <span class="s">&lt;&lt;EOF | kubectl apply -f -
</span></span></span><span class="line"><span class="cl"><span class="s">#!/bin/env groovy
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">pipeline {
</span></span></span><span class="line"><span class="cl"><span class="s">  agent {
</span></span></span><span class="line"><span class="cl"><span class="s">    // Use an agent that is appropriate 
</span></span></span><span class="line"><span class="cl"><span class="s">    // for your Jenkins installation. 
</span></span></span><span class="line"><span class="cl"><span class="s">    // This is only an example
</span></span></span><span class="line"><span class="cl"><span class="s">    kubernetes { 
</span></span></span><span class="line"><span class="cl"><span class="s">      label &#39;maven&#39;
</span></span></span><span class="line"><span class="cl"><span class="s">    }
</span></span></span><span class="line"><span class="cl"><span class="s">  }
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">  stages {
</span></span></span><span class="line"><span class="cl"><span class="s">    stage(&#39;Checkout code&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="s">      steps {
</span></span></span><span class="line"><span class="cl"><span class="s">        script {
</span></span></span><span class="line"><span class="cl"><span class="s">          sourceUrl = params.SOURCE_REVISION
</span></span></span><span class="line"><span class="cl"><span class="s">          indexSlash = sourceUrl.indexOf(&#34;/&#34;)
</span></span></span><span class="line"><span class="cl"><span class="s">          revision = sourceUrl.substring(indexSlash + 1)
</span></span></span><span class="line"><span class="cl"><span class="s">        }
</span></span></span><span class="line"><span class="cl"><span class="s">        sh &#34;git clone ${params.GIT_URL} target&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">        dir(&#34;target&#34;) {
</span></span></span><span class="line"><span class="cl"><span class="s">          sh &#34;git checkout ${revision}&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">        }
</span></span></span><span class="line"><span class="cl"><span class="s">      }
</span></span></span><span class="line"><span class="cl"><span class="s">    }
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">    stage(&#39;Maven test&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="s">      steps {
</span></span></span><span class="line"><span class="cl"><span class="s">        container(&#39;maven&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="s">          dir(&#34;target&#34;) {
</span></span></span><span class="line"><span class="cl"><span class="s">            // Example tests with maven
</span></span></span><span class="line"><span class="cl"><span class="s">            sh &#34;mvn clean test --no-transfer-progress&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">          }
</span></span></span><span class="line"><span class="cl"><span class="s">        }
</span></span></span><span class="line"><span class="cl"><span class="s">      }
</span></span></span><span class="line"><span class="cl"><span class="s">    }
</span></span></span><span class="line"><span class="cl"><span class="s">  }
</span></span></span><span class="line"><span class="cl"><span class="s">}
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span> 
</span></span></code></pre></td></tr></table>
</div>
</div><p>다음 필드는 Jenkins 작업 정의에도 필요합니다.</p>
<ul>
<li>SOURCE_REVISION string</li>
<li>GIT_URL string</li>
</ul>
<p>Jenkins에 파라미터를 제공하기 위해 GIT_URL을 작성 해준다.</p>
<p>** 현재 1.5.2 까지 GIT_URL 및 GIT_REVISION이 JENKINS로 전달 되지 않는 것으로 보인다. 하여 Jenkins파일에 파라미터를 추가를 해주어야 한다.</p>
<p>이렇게 설정 한 후에 Workload를 실행을 하게 되면 실제적으로 Jenkins를 통해 소스테스트가 이루어지는 것을 확인 할 수 있다.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">cat <span class="s">&lt;&lt; &#39;EOF&#39; | kubectl -n tap-install apply -f - --context $b
</span></span></span><span class="line"><span class="cl"><span class="s">kind: Workload
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  labels:
</span></span></span><span class="line"><span class="cl"><span class="s">    app.kubernetes.io/part-of: jenkins-tanzu-java-web-app
</span></span></span><span class="line"><span class="cl"><span class="s">    apps.tanzu.vmware.com/has-tests: &#34;true&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">    apps.tanzu.vmware.com/workload-type: web
</span></span></span><span class="line"><span class="cl"><span class="s">    tanzu.app.live.view: &#34;true&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">    tanzu.app.live.view.application.name: jenkins-tanzu-java-web-app
</span></span></span><span class="line"><span class="cl"><span class="s">  name: jenkins-tanzu-java-web-app
</span></span></span><span class="line"><span class="cl"><span class="s">spec:
</span></span></span><span class="line"><span class="cl"><span class="s">  build:
</span></span></span><span class="line"><span class="cl"><span class="s">    env:
</span></span></span><span class="line"><span class="cl"><span class="s">    - name: BP_JVM_VERSION
</span></span></span><span class="line"><span class="cl"><span class="s">      value: 17.*
</span></span></span><span class="line"><span class="cl"><span class="s">  env:
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: JAVA_TOOL_OPTIONS
</span></span></span><span class="line"><span class="cl"><span class="s">    value: &gt;-
</span></span></span><span class="line"><span class="cl"><span class="s">      -Dserver.port=8080
</span></span></span><span class="line"><span class="cl"><span class="s">      -XX:MaxMetaspaceSize=589794K
</span></span></span><span class="line"><span class="cl"><span class="s">      -XX:MaxDirectMemorySize=400M
</span></span></span><span class="line"><span class="cl"><span class="s">      -XX:ReservedCodeCacheSize=240M
</span></span></span><span class="line"><span class="cl"><span class="s">      -Dmanagement.endpoints.web.exposure.include=*
</span></span></span><span class="line"><span class="cl"><span class="s">      -Dmanagement.endpoint.health.show-details=always
</span></span></span><span class="line"><span class="cl"><span class="s">  params:
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: testing_pipeline_matching_labels
</span></span></span><span class="line"><span class="cl"><span class="s">    value:
</span></span></span><span class="line"><span class="cl"><span class="s">      apps.tanzu.vmware.com/pipeline: jenkins-pipeline
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: testing_pipeline_params
</span></span></span><span class="line"><span class="cl"><span class="s">    value:
</span></span></span><span class="line"><span class="cl"><span class="s">      job-name: tap-jenkins
</span></span></span><span class="line"><span class="cl"><span class="s">#      job-params: &#34;[{\&#34;name\&#34;:\&#34;GIT_URL\&#34;, \&#34;value\&#34;:\&#34;https://gitlab.huntedhappy.kro.kr/tanzu/jenkins-tanzu-java-web-app/\&#34;}, {\&#34;name\&#34;:\&#34;GIT_BRANCH\&#34;, \&#34;value\&#34;:\&#34;main\&#34;}]&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">      job-params:
</span></span></span><span class="line"><span class="cl"><span class="s">      - name: GIT_URL
</span></span></span><span class="line"><span class="cl"><span class="s">        value: https://gitlab.huntedhappy.kro.kr/tanzu/jenkins-tanzu-java-web-app
</span></span></span><span class="line"><span class="cl"><span class="s">        name: GIT_BRANCH
</span></span></span><span class="line"><span class="cl"><span class="s">        value: main
</span></span></span><span class="line"><span class="cl"><span class="s">      secret-name: jenkins
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: scanning_source_policy
</span></span></span><span class="line"><span class="cl"><span class="s">    value: sample-scan-policy
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: scanning_image_policy
</span></span></span><span class="line"><span class="cl"><span class="s">    value: sample-scan-policy
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: gitops_server_address
</span></span></span><span class="line"><span class="cl"><span class="s">    value: https://gitlab.huntedhappy.kro.kr
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: gitops_repository_name
</span></span></span><span class="line"><span class="cl"><span class="s">    value: jenkins-tanzu-java-web-app-gitops
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: gitops_repository_owner
</span></span></span><span class="line"><span class="cl"><span class="s">    value: tanzu
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: gitops_branch
</span></span></span><span class="line"><span class="cl"><span class="s">    value: main
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: gitops_user_name
</span></span></span><span class="line"><span class="cl"><span class="s">    value: tanzu
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: gitops_user_email
</span></span></span><span class="line"><span class="cl"><span class="s">    value: my1208@openbase.co.kr
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: gitops_commit_message
</span></span></span><span class="line"><span class="cl"><span class="s">    value: test_giops
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: gitops_ssh_secret
</span></span></span><span class="line"><span class="cl"><span class="s">    value: git-https
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: gitops_server_kind
</span></span></span><span class="line"><span class="cl"><span class="s">    value: gitlab
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: gitops_commit_branch
</span></span></span><span class="line"><span class="cl"><span class="s">    value: &#34;staging&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: gitops_pull_request_title
</span></span></span><span class="line"><span class="cl"><span class="s">    value: &#34;ready for review&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: gitops_pull_request_body
</span></span></span><span class="line"><span class="cl"><span class="s">    value: &#34;generated by supply chain&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: debug
</span></span></span><span class="line"><span class="cl"><span class="s">    value: &#34;true&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  resources:
</span></span></span><span class="line"><span class="cl"><span class="s">    requests:
</span></span></span><span class="line"><span class="cl"><span class="s">      cpu: 300m
</span></span></span><span class="line"><span class="cl"><span class="s">      memory: 500Mi
</span></span></span><span class="line"><span class="cl"><span class="s">  source:
</span></span></span><span class="line"><span class="cl"><span class="s">    git:
</span></span></span><span class="line"><span class="cl"><span class="s">      ref:
</span></span></span><span class="line"><span class="cl"><span class="s">       branch: main
</span></span></span><span class="line"><span class="cl"><span class="s">      url: https://gitlab.huntedhappy.kro.kr/tanzu/jenkins-tanzu-java-web-app
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="result">RESULT</h2>
<p><figure><figcaption>
            <h4>Jenkins에서 확인</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>TAP에서 Jenkins를 통해 배포 확인</h4>
        </figcaption>
</figure>
</p>
]]></description>
</item>
<item>
    <title>The Documentation Sops</title>
    <link>https://huntedhappy.github.io/ko/sops/</link>
    <pubDate>Tue, 20 Jun 2023 19:22:18 &#43;0900</pubDate>
    <author>Dokyung</author>
    <guid>https://huntedhappy.github.io/ko/sops/</guid>
    <description><![CDATA[<h2 id="vmware-tanzu-sops-or-eso">VMware TANZU SOPS or ESO?</h2>
<p>TANZU APPLICATION PLATFORM을 설치 할 때 GITOPS로 두가지 방식으로 설치 할 수 있다. SOPS 및 ESO 방식으로 설치 할 수 있으며 현재는 베타 버전이며 프로덕션 환경에서는 권장 하지 않는다.</p>
<figure><figcaption>
            <h4>warning</h4>
        </figcaption>
</figure>

<p>ESO의 경우 외부에 AWS Secrets Manager를 통해서 배포 할 수 있기 때문에 이 문서에서는 SOPS방식으로 배포를 할 예정이다.</p>
<p><figure><figcaption>
            <h4>SOPS</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>ESO</h4>
        </figcaption>
</figure>
</p>
<p><a href="https://docs.vmware.com/en/VMware-Tanzu-Application-Platform/1.5/tap/install-gitops-reference.html#choosing-sops-or-eso" target="_blank" rel="noopener noreffer "><i class="fas fa-link"></i> VMware TANZU GITOPS</a></p>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>SOPS CLI to view and edit SOPS encrypted files. To install the SOPS CLI, see<a href="https://github.com/mozilla/sops/releases" target="_blank" rel="noopener noreffer "><i class="fas fa-link"></i> SOPS documentation</a>in GitHub.</li>
<li>Age CLI to create an ecryption key used to encrypt and decrypt sensitive data. To install the Age CLI, see<a href="https://github.com/FiloSottile/age#installation" target="_blank" rel="noopener noreffer "><i class="fas fa-link"></i> age documentation </a>in GitHub.</li>
<li>Completed the <a href="https://docs.vmware.com/en/VMware-Tanzu-Application-Platform/1.5/tap/prerequisites.html" target="_blank" rel="noopener noreffer "><i class="fas fa-link"></i> Prerequisites.</a></li>
<li><a href="https://docs.vmware.com/en/VMware-Tanzu-Application-Platform/1.5/tap/install-tanzu-cli.html" target="_blank" rel="noopener noreffer "><i class="fas fa-link"></i> Accepted Tanzu Application Platform EULA and installed Tanzu CLI</a> with any required plug-ins.</li>
<li>Installed <a href="https://docs.vmware.com/en/Cluster-Essentials-for-VMware-Tanzu/1.5/cluster-essentials/deploy.html" target="_blank" rel="noopener noreffer "><i class="fas fa-link"></i> Cluster Essentials for Tanzu.</a></li>
</ul>
<h2 id="relocate-images-to-a-registry">Relocate images to a registry</h2>
<p>탄주 네트워크에 있는 도커 이미지들을 내부에 내부 레지스트리에 저장 하는 것을 권장 한다. 탄주 네트워크 레지스트리를 사용 할 시 가동시간을 보장 하지 않기 때문이다.
지원되는 레지스트리는 Harbor, Azure Container Registry, Google Container Registry 및 Quay.io를 제공하고 있습니다. 설정 방법을 알아 보려면 다음 문서를 참조 하면 된다.</p>
<ul>
<li><a href="https://goharbor.io/docs/2.5.0/" target="_blank" rel="noopener noreffer "><i class="fas fa-link"></i> Harbor documentation</a></li>
<li><a href="https://cloud.google.com/container-registry/docs" target="_blank" rel="noopener noreffer "><i class="fas fa-link"></i> Google Container Registry documentation</a></li>
<li><a href="https://docs.projectquay.io/welcome.html" target="_blank" rel="noopener noreffer "><i class="fas fa-link"></i> Quay.io documentation</a></li>
</ul>
<ol>
<li>environment variables를 설정 한다.</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">IMGPKG_REGISTRY_HOSTNAME_0</span><span class="o">=</span>registry.tanzu.vmware.com
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">IMGPKG_REGISTRY_USERNAME_0</span><span class="o">=</span>MY-TANZUNET-USERNAME
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">IMGPKG_REGISTRY_PASSWORD_0</span><span class="o">=</span>MY-TANZUNET-PASSWORD
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">IMGPKG_REGISTRY_HOSTNAME_1</span><span class="o">=</span>MY-REGISTRY
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">IMGPKG_REGISTRY_USERNAME_1</span><span class="o">=</span>MY-REGISTRY-USER
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">IMGPKG_REGISTRY_PASSWORD_1</span><span class="o">=</span>MY-REGISTRY-PASSWORD
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">INSTALL_REGISTRY_USERNAME</span><span class="o">=</span>MY-REGISTRY-USER
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">INSTALL_REGISTRY_PASSWORD</span><span class="o">=</span>MY-REGISTRY-PASSWORD
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">INSTALL_REGISTRY_HOSTNAME</span><span class="o">=</span>MY-REGISTRY
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">TAP_VERSION</span><span class="o">=</span>VERSION-NUMBER
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">INSTALL_REPO</span><span class="o">=</span>TARGET-REPOSITORY
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li><a href="https://docs.vmware.com/en/Cluster-Essentials-for-VMware-Tanzu/1.5/cluster-essentials/deploy.html#optionally-install-clis-onto-your-path" target="_blank" rel="noopener noreffer "><i class="fas fa-link"></i> Install the Carvel tool imgpkg CLI.</a></li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## 이미지 버전 확인</span>
</span></span><span class="line"><span class="cl">imgpkg tag list -i registry.tanzu.vmware.com/tanzu-application-platform/tap-packages <span class="p">|</span> sort -V
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 이미지 버전을 내부 레지스트리로 복사</span>
</span></span><span class="line"><span class="cl">imgpkg copy -b registry.tanzu.vmware.com/tanzu-application-platform/tap-packages:<span class="si">${</span><span class="nv">TAP_VERSION</span><span class="si">}</span> --to-repo <span class="si">${</span><span class="nv">INSTALL_REGISTRY_HOSTNAME</span><span class="si">}</span>/<span class="si">${</span><span class="nv">INSTALL_REPO</span><span class="si">}</span>/tap-packages
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="create-a-new-git-repository">Create a new Git repository</h3>
<p>GIT에 프로젝트를 생성 한다.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">mkdir -p <span class="nv">$HOME</span>/tap-gitops
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> <span class="nv">$HOME</span>/tap-gitops
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">git init
</span></span><span class="line"><span class="cl">git remote add origin git@github.com:my-organization/tap-gitops.git
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="download-and-unpack-tanzu-gitops-reference-implementation-ri">Download and unpack Tanzu GitOps Reference Implementation (RI)</h3>
<p>Tanzu Network에서 Tanzu GitOps Reference Implementation(RI)을 다운로드 받는다.
<figure><figcaption>
            <h4>RI를 Download 받는다</h4>
        </figcaption>
</figure>
</p>
<p>다운로드 받은 RI를 내부 GIT에 업로드 한다.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tar xvf tanzu-gitops-ri-*.tgz -C <span class="nv">$HOME</span>/tap-gitops
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> <span class="nv">$HOME</span>/tap-gitops
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">git add . <span class="o">&amp;&amp;</span> git commit -m <span class="s2">&#34;Initialize Tanzu GitOps RI&#34;</span>
</span></span><span class="line"><span class="cl">git push -u origin
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="create-cluster-configuration">Create cluster configuration</h3>
<p>CLUSTER-NAME은 현재 내가 설정한 CLUSTER를 선택한다</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">kubectl config get-contexts 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> <span class="nv">$HOME</span>/tap-gitops
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">./setup-repo.sh CLUSTER-NAME sops
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## Git에 업로드 </span>
</span></span><span class="line"><span class="cl">git add . <span class="o">&amp;&amp;</span> git commit -m <span class="s2">&#34;Add full-tap-cluster&#34;</span>
</span></span><span class="line"><span class="cl">git push
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="preparing-sensitive-tanzu-application-platform-values">Preparing sensitive Tanzu Application Platform values</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span><span class="lnt">85
</span><span class="lnt">86
</span><span class="lnt">87
</span><span class="lnt">88
</span><span class="lnt">89
</span><span class="lnt">90
</span><span class="lnt">91
</span><span class="lnt">92
</span><span class="lnt">93
</span><span class="lnt">94
</span><span class="lnt">95
</span><span class="lnt">96
</span><span class="lnt">97
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">mkdir -p <span class="nv">$HOME</span>/tmp-enc
</span></span><span class="line"><span class="cl">chmod <span class="m">700</span> <span class="nv">$HOME</span>/tmp-enc
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> <span class="nv">$HOME</span>/tmp-enc
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">age-keygen -o key.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">cat key.txt
</span></span><span class="line"><span class="cl"><span class="c1"># created: 2023-02-08T10:55:35-07:00</span>
</span></span><span class="line"><span class="cl"><span class="c1"># public key: age1ql3z7hjy54pw3hyww5ayyfg7zqgvc7w3j2elw8zmrj2kg5sfn9aqmcac8p</span>
</span></span><span class="line"><span class="cl">AGE-SECRET-KEY-my-secret-key
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 아래 내용을 채워 준다.</span>
</span></span><span class="line"><span class="cl"><span class="c1">## 만약에 멀티 클러스터를 구성 하고 싶으면 아래 내용을 분리 해준 후 각각 클러스터별로 실행 해주면 된다.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">cat <span class="s">&lt;&lt; EOF &gt; $HOME/tmp-enc/tap-sensitive-values.yaml
</span></span></span><span class="line"><span class="cl"><span class="s">---
</span></span></span><span class="line"><span class="cl"><span class="s">tap_install:
</span></span></span><span class="line"><span class="cl"><span class="s">  sensitive_values:
</span></span></span><span class="line"><span class="cl"><span class="s">    shared:
</span></span></span><span class="line"><span class="cl"><span class="s">      ingress_domain: &#34;INGRESS-DOMAIN&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">      ingress_issuer: # Optional, can denote a cert-manager.io/v1/ClusterIssuer of your choice. Defaults to &#34;tap-ingress-selfsigned&#34;.
</span></span></span><span class="line"><span class="cl"><span class="s">    
</span></span></span><span class="line"><span class="cl"><span class="s">      image_registry:
</span></span></span><span class="line"><span class="cl"><span class="s">        project_path: &#34;SERVER-NAME/REPO-NAME&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">        secret:
</span></span></span><span class="line"><span class="cl"><span class="s">          name: &#34;KP-DEFAULT-REPO-SECRET&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">          namespace: &#34;KP-DEFAULT-REPO-SECRET-NAMESPACE&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">    
</span></span></span><span class="line"><span class="cl"><span class="s">      kubernetes_distribution: &#34;K8S-DISTRO&#34; # Only required if the distribution is OpenShift and must be used with the following kubernetes_version key.
</span></span></span><span class="line"><span class="cl"><span class="s">    
</span></span></span><span class="line"><span class="cl"><span class="s">      kubernetes_version: &#34;K8S-VERSION&#34; # Required regardless of distribution when Kubernetes version is 1.25 or later.
</span></span></span><span class="line"><span class="cl"><span class="s">    
</span></span></span><span class="line"><span class="cl"><span class="s">      ca_cert_data: | # To be passed if using custom certificates.
</span></span></span><span class="line"><span class="cl"><span class="s">          -----BEGIN CERTIFICATE-----
</span></span></span><span class="line"><span class="cl"><span class="s">          MIIFXzCCA0egAwIBAgIJAJYm37SFocjlMA0GCSqGSIb3DQEBDQUAMEY...
</span></span></span><span class="line"><span class="cl"><span class="s">          -----END CERTIFICATE-----
</span></span></span><span class="line"><span class="cl"><span class="s">    
</span></span></span><span class="line"><span class="cl"><span class="s">    ceip_policy_disclosed: FALSE-OR-TRUE-VALUE # Installation fails if this is not set to true. Not a string.
</span></span></span><span class="line"><span class="cl"><span class="s">    
</span></span></span><span class="line"><span class="cl"><span class="s">    #The above keys are minimum numbers of entries needed in tap-values.yaml to get a functioning TAP Full profile installation.
</span></span></span><span class="line"><span class="cl"><span class="s">    
</span></span></span><span class="line"><span class="cl"><span class="s">    #Below are the keys which may have default values set, but can be overridden.
</span></span></span><span class="line"><span class="cl"><span class="s">    
</span></span></span><span class="line"><span class="cl"><span class="s">    profile: full # Can take iterate, build, run, view.
</span></span></span><span class="line"><span class="cl"><span class="s">    
</span></span></span><span class="line"><span class="cl"><span class="s">    supply_chain: basic # Can take testing, testing_scanning.
</span></span></span><span class="line"><span class="cl"><span class="s">    
</span></span></span><span class="line"><span class="cl"><span class="s">    ootb_supply_chain_basic: # Based on supply_chain set above, can be changed to ootb_supply_chain_testing, ootb_supply_chain_testing_scanning.
</span></span></span><span class="line"><span class="cl"><span class="s">      registry:
</span></span></span><span class="line"><span class="cl"><span class="s">        server: &#34;SERVER-NAME&#34; # Takes the value from the shared section by default, but can be overridden by setting a different value.
</span></span></span><span class="line"><span class="cl"><span class="s">        repository: &#34;REPO-NAME&#34; # Takes the value from the shared section by default, but can be overridden by setting a different value.
</span></span></span><span class="line"><span class="cl"><span class="s">      gitops:
</span></span></span><span class="line"><span class="cl"><span class="s">        ssh_secret: &#34;SSH-SECRET-KEY&#34; # Takes &#34;&#34; as value by default; but can be overridden by setting a different value.
</span></span></span><span class="line"><span class="cl"><span class="s">    
</span></span></span><span class="line"><span class="cl"><span class="s">    contour:
</span></span></span><span class="line"><span class="cl"><span class="s">      envoy:
</span></span></span><span class="line"><span class="cl"><span class="s">        service:
</span></span></span><span class="line"><span class="cl"><span class="s">          type: LoadBalancer # This is set by default, but can be overridden by setting a different value.
</span></span></span><span class="line"><span class="cl"><span class="s">    
</span></span></span><span class="line"><span class="cl"><span class="s">    buildservice:
</span></span></span><span class="line"><span class="cl"><span class="s">      # Takes the value from the shared section by default, but can be overridden by setting a different value.
</span></span></span><span class="line"><span class="cl"><span class="s">      kp_default_repository: &#34;KP-DEFAULT-REPO&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">      kp_default_repository_secret: # Takes the value from the shared section above by default, but can be overridden by setting a different value.
</span></span></span><span class="line"><span class="cl"><span class="s">        name: &#34;KP-DEFAULT-REPO-SECRET&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">        namespace: &#34;KP-DEFAULT-REPO-SECRET-NAMESPACE&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">    
</span></span></span><span class="line"><span class="cl"><span class="s">    tap_gui:
</span></span></span><span class="line"><span class="cl"><span class="s">      metadataStoreAutoconfiguration: true # Creates a service account, the Kubernetes control plane token and the requisite app_config block to enable communications between Tanzu Application Platform GUI and SCST - Store.
</span></span></span><span class="line"><span class="cl"><span class="s">      app_config:
</span></span></span><span class="line"><span class="cl"><span class="s">        catalog:
</span></span></span><span class="line"><span class="cl"><span class="s">          locations:
</span></span></span><span class="line"><span class="cl"><span class="s">            - type: url
</span></span></span><span class="line"><span class="cl"><span class="s">              target: https://GIT-CATALOG-URL/catalog-info.yaml
</span></span></span><span class="line"><span class="cl"><span class="s">    
</span></span></span><span class="line"><span class="cl"><span class="s">    metadata_store:
</span></span></span><span class="line"><span class="cl"><span class="s">      ns_for_export_app_cert: &#34;MY-DEV-NAMESPACE&#34; # Verify this namespace is available within your cluster before initiating the Tanzu Application Platform installation.
</span></span></span><span class="line"><span class="cl"><span class="s">      app_service_type: ClusterIP # Defaults to LoadBalancer. If shared.ingress_domain is set earlier, this must be set to ClusterIP.
</span></span></span><span class="line"><span class="cl"><span class="s">    
</span></span></span><span class="line"><span class="cl"><span class="s">    scanning:
</span></span></span><span class="line"><span class="cl"><span class="s">      metadataStore:
</span></span></span><span class="line"><span class="cl"><span class="s">        url: &#34;&#34; # Configuration is moved, so set this string to empty.
</span></span></span><span class="line"><span class="cl"><span class="s">    
</span></span></span><span class="line"><span class="cl"><span class="s">    grype:
</span></span></span><span class="line"><span class="cl"><span class="s">      namespace: &#34;MY-DEV-NAMESPACE&#34; # Verify this namespace is available within your cluster before initiating the Tanzu Application Platform installation.
</span></span></span><span class="line"><span class="cl"><span class="s">      targetImagePullSecret: &#34;TARGET-REGISTRY-CREDENTIALS-SECRET&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">      # In a single cluster, the connection between the scanning pod and the metadata store happens inside the cluster and does not pass through ingress. This is automatically configured, you do not need to provide an ingress connection to the store.
</span></span></span><span class="line"><span class="cl"><span class="s">    
</span></span></span><span class="line"><span class="cl"><span class="s">    policy:
</span></span></span><span class="line"><span class="cl"><span class="s">      tuf_enabled: false # By default, TUF initialization and keyless verification are deactivated.
</span></span></span><span class="line"><span class="cl"><span class="s">    tap_telemetry:
</span></span></span><span class="line"><span class="cl"><span class="s">      customer_entitlement_account_number: &#34;CUSTOMER-ENTITLEMENT-ACCOUNT-NUMBER&#34; # (Optional) Identify data for creating the Tanzu Application Platform usage reports.
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">SOPS_AGE_RECIPIENTS</span><span class="o">=</span><span class="k">$(</span>cat key.txt <span class="p">|</span> grep <span class="s2">&#34;# public key: &#34;</span> <span class="p">|</span> sed <span class="s1">&#39;s/# public key: //&#39;</span><span class="k">)</span>
</span></span><span class="line"><span class="cl">sops --encrypt tap-sensitive-values.yaml &gt; tap-sensitive-values.sops.yaml
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">mv tap-sensitive-values.sops.yaml <span class="nv">$HOME</span>/tap-gitops/clusters/full-tap-cluster/cluster-config/values/
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="generate-tanzu-application-platform-installation-and-tanzu-sync-configuration">Generate Tanzu Application Platform installation and Tanzu Sync configuration</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">INSTALL_REGISTRY_HOSTNAME</span><span class="o">=</span>MY-REGISTRY
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">INSTALL_REGISTRY_USERNAME</span><span class="o">=</span>MY-REGISTRY-USER
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">INSTALL_REGISTRY_PASSWORD</span><span class="o">=</span>MY-REGISTRY-PASSWORD
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">GIT_SSH_PRIVATE_KEY</span><span class="o">=</span>PRIVATE-KEY
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">GIT_KNOWN_HOSTS</span><span class="o">=</span>KNOWN-HOST-LIST
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">SOPS_AGE_KEY</span><span class="o">=</span>AGE-KEY
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">TAP_PKGR_REPO</span><span class="o">=</span>TAP-PACKAGE-OCI-REPOSITORY
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> <span class="nv">$HOME</span>/tap-gitops/clusters/full-tap-cluster
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">./tanzu-sync/scripts/configure.sh
</span></span><span class="line"><span class="cl">git add cluster-config/ tanzu-sync/
</span></span><span class="line"><span class="cl">git commit -m <span class="s2">&#34;Configure install of TAP 1.5.0&#34;</span>
</span></span><span class="line"><span class="cl">git push
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="deploy-tanzu-sync">Deploy Tanzu Sync</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">cd</span> <span class="nv">$HOME</span>/tap-gitops/clusters/full-tap-cluster
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">./tanzu-sync/scripts/deploy.sh
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="결과">결과</h3>
<p>완료가 되면 자동으로 모든게 다 설치가 되는 것을 확인 할 수 있지만.. 솔직히 불편하다.. 그냥 설치하는게 편한거 같은 느낌은..
아직 베타이기 때문일지 모른다.
<figure><figcaption>
            <h4>Result</h4>
        </figcaption>
</figure>
</p>
]]></description>
</item>
<item>
    <title>The Documentation IPAM on TANZU</title>
    <link>https://huntedhappy.github.io/ko/tanzu-ipam/</link>
    <pubDate>Wed, 24 May 2023 01:42:56 &#43;0900</pubDate>
    <author>Dokyung</author>
    <guid>https://huntedhappy.github.io/ko/tanzu-ipam/</guid>
    <description><![CDATA[<h1 id="1--ipam-on-tanzu">1.  IPAM ON TANZU</h1>
<p>탄주는 기본적으로 DHCP 서버가 필요 하다. K8S 환경을 유지 하기 위해 VM의 라이프 사이클을 제공 하고 있기 때문이다. 그렇기 때문에 VM에 HANG이 걸리거나, 삭제가 되면 자동적으로 복구를 하게 된다. K8S에서 POD를 관리 하는 것처럼 탄주는 Master, Worker Node를 하나의 POD로 인식을 하게 설계를 한게 아닌가 싶다. 하지만 이런 자동화 시스템으로 인하여 STATIC하게 IP를 넣을 수도 없으며(DHCP서버를 통해 배포 후 IP를 변경 할 수 있겠지만 권장 하지 않는다.) 무조건적으로 DHCP 서버가 필요 하기 때문에 설치시 많은 어려움이 있을 수 있다. 또한 DHCP 서버를 운영 함으로 인해서 불필요한 자원을 사용하게 될 수도 있다.</p>
<p>지금 작성 하는 부분은 DHCP서버를 완전히 배제 할 수는 없다. 다만 메니저 클러스터를 배포 한 후 CLUSTER의 IP는 관리 클러스터에서 관리를 할 수 있게 설정을 할 수 있다. 두가지 방법이 있을 수 있는대 처음은 YTT를 구성함으로 인해서 처음부터 클러스터가 배포 될 경우 IP를 할당 받을 수 있게 할 수 도 있으며, 두번째로는 클러스터를 DHCP서버를 배포 후 IPAM을 사용하게 구성 할 수 있다.</p>
<p>당연히 YTT로 구성을 하여서 처음부터 배포를 하는 것이 권장을 할 것이다. 하지만 한편으로는 걱정도 된다. 이렇게 구성 함으로 인해서 업그레이드가 잘 될지.. (추후에 업그레이드도 진행을 해봐야 할 것이다&hellip;)</p>
<p>현재 작성하는 방법은 2번째 방법으로 진행 할 예정이다.
방법은 간단하다. 우선 metal3-io가 무엇을 하는지는 알지 못하지만 해당 github에서 제공을 받아 설치를 해볼 수 있을 것이다.</p>
<p>아래와 같이 GIT을 다운로드 받은 후 간단하게 실행을 해준다.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">git clone https://github.com/arbhoj/vsphere-ipam.git
</span></span><span class="line"><span class="cl">kubectl apply -f vsphere-ipam/metal3ipam/provider-components/infrastructure-components.yaml
</span></span><span class="line"><span class="cl">kubectl apply -f vsphere-ipam/spectro-ipam-adapter/install.yaml
</span></span></code></pre></td></tr></table>
</div>
</div><p>그리고 아래와 같이 환경 변수를 적용해도 되고, 그냥 입력을 해도 된다. 편한대로 설정을 해보자</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">CLUSTER_NAME</span><span class="o">=</span>run2
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">NETWORK_NAME</span><span class="o">=</span>LS-TKGM01-WORKLOAD-10.253.127.x <span class="c1">#This is the name of the network to be used in vSphere</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">START_IP</span><span class="o">=</span>10.253.127.120
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">END_IP</span><span class="o">=</span>10.253.127.130
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">CIDR</span><span class="o">=</span><span class="m">24</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">GATEWAY</span><span class="o">=</span>10.253.127.1
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">DNS_SERVER</span><span class="o">=</span>10.253.107.2
</span></span></code></pre></td></tr></table>
</div>
</div><p>위와 같이 환경변수를 적용 후 ippol을 실행 해주자.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">cat <span class="s">&lt;&lt; EOF | kubectl apply -f -
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: ipam.metal3.io/v1alpha1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: IPPool
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: ${CLUSTER_NAME}-pool
</span></span></span><span class="line"><span class="cl"><span class="s">  labels:
</span></span></span><span class="line"><span class="cl"><span class="s">    cluster.x-k8s.io/network-name: ${NETWORK_NAME}
</span></span></span><span class="line"><span class="cl"><span class="s">spec:
</span></span></span><span class="line"><span class="cl"><span class="s">  clusterName: ${CLUSTER_NAME}
</span></span></span><span class="line"><span class="cl"><span class="s">  namePrefix: ${CLUSTER_NAME}-prov
</span></span></span><span class="line"><span class="cl"><span class="s">  pools:
</span></span></span><span class="line"><span class="cl"><span class="s">    - start: ${START_IP}
</span></span></span><span class="line"><span class="cl"><span class="s">      end: ${END_IP}
</span></span></span><span class="line"><span class="cl"><span class="s">      prefix: ${CIDR}
</span></span></span><span class="line"><span class="cl"><span class="s">      gateway: ${GATEWAY}
</span></span></span><span class="line"><span class="cl"><span class="s">  prefix: 24
</span></span></span><span class="line"><span class="cl"><span class="s">  gateway: ${GATEWAY}
</span></span></span><span class="line"><span class="cl"><span class="s">  dnsServers: [${DNS_SERVER}]
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>그리고 machine에다가 lables을 붙여주어야 한다. 지금 해도 되고 새로 생성 할 때 해도 된다.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">kubectl label vspheremachinetemplates run2-control-plane cluster.x-k8s.io/ip-pool-name<span class="o">=</span>run2-pool
</span></span><span class="line"><span class="cl">kubectl label vspheremachinetemplates run2-worker cluster.x-k8s.io/ip-pool-name<span class="o">=</span>run2-pool
</span></span></code></pre></td></tr></table>
</div>
</div><p>이렇게 구성을 하였다고 하더라도 실제적으로 vspheremachinetemplates 여기에 수정을 할 수가 없기 때문에 별도로 새로 생성을 해야 한다. 아마 이 부분은 vmsizing을 변경 할 때 많이 봤을 수도 있다. vmsizing은 이렇게 변경도 가능하지만 왠만하면 nodepool을 사용하여서 변경하는게 좋지 않을가 하는 생각을 잠시 한다.</p>
<p>아래와 같이 주석 처리 한부분을 추가 및 변경을 해준다.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">kubectl get VSphereMachineTemplate run2-control-plane -o yaml <span class="p">|</span> kubectl neat &gt; run2-control-plane.yaml
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">vi run2-control-plan.yaml
</span></span><span class="line"><span class="cl">apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
</span></span><span class="line"><span class="cl">kind: VSphereMachineTemplate
</span></span><span class="line"><span class="cl">metadata:
</span></span><span class="line"><span class="cl">  annotations:
</span></span><span class="line"><span class="cl">    vmTemplateMoid: vm-134165
</span></span><span class="line"><span class="cl">  labels:
</span></span><span class="line"><span class="cl">    cluster.x-k8s.io/ip-pool-name: run2-pool   <span class="c1">## ippool이랑 name 일치 하는지 확인</span>
</span></span><span class="line"><span class="cl">  name: run2-control-plane01
</span></span><span class="line"><span class="cl">  namespace: default
</span></span><span class="line"><span class="cl">spec:
</span></span><span class="line"><span class="cl">  template:
</span></span><span class="line"><span class="cl">    spec:
</span></span><span class="line"><span class="cl">      cloneMode: fullClone
</span></span><span class="line"><span class="cl">      datacenter: /OBDC
</span></span><span class="line"><span class="cl">      datastore: /OBDC/datastore/vsanDatastore
</span></span><span class="line"><span class="cl">      diskGiB: <span class="m">300</span>
</span></span><span class="line"><span class="cl">      folder: /OBDC/vm/tanzu
</span></span><span class="line"><span class="cl">      memoryMiB: <span class="m">8192</span>
</span></span><span class="line"><span class="cl">      network:
</span></span><span class="line"><span class="cl">        devices:
</span></span><span class="line"><span class="cl">        - dhcp4: <span class="nb">false</span>   <span class="c1">#### 변경</span>
</span></span><span class="line"><span class="cl">          networkName: /OBDC/network/LS-TKGM01-WORKLOAD-10.253.127.x
</span></span><span class="line"><span class="cl">      numCPUs: <span class="m">4</span>
</span></span><span class="line"><span class="cl">      resourcePool: /OBDC/host/OBCLUSTER/Resources/dk-tanzu
</span></span><span class="line"><span class="cl">      server: vcsa01.vcf.local
</span></span><span class="line"><span class="cl">      storagePolicyName: k8s
</span></span><span class="line"><span class="cl">      template: /OBDC/vm/temp/photon-3-kube-v1.24.10+vmware.1
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">kubectl apply -f run2-control-plan.yaml
</span></span></code></pre></td></tr></table>
</div>
</div><p>마찬가지로 worker노드도 템플릿을 생성 해준다.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">kubectl get VSphereMachineTemplate run2-worker -o yaml <span class="p">|</span> kubectl neat &gt; run2-worker.yaml
</span></span><span class="line"><span class="cl">vi run2-worker.yaml
</span></span><span class="line"><span class="cl">apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
</span></span><span class="line"><span class="cl">kind: VSphereMachineTemplate
</span></span><span class="line"><span class="cl">metadata:
</span></span><span class="line"><span class="cl">  annotations:
</span></span><span class="line"><span class="cl">    vmTemplateMoid: vm-134165
</span></span><span class="line"><span class="cl">  labels:
</span></span><span class="line"><span class="cl">    cluster.x-k8s.io/ip-pool-name: run2-pool    <span class="c1">## ippool이랑 name 일치 하는지 확인</span>
</span></span><span class="line"><span class="cl">  name: run2-worker01
</span></span><span class="line"><span class="cl">  namespace: default
</span></span><span class="line"><span class="cl">spec:
</span></span><span class="line"><span class="cl">  template:
</span></span><span class="line"><span class="cl">    spec:
</span></span><span class="line"><span class="cl">      cloneMode: fullClone
</span></span><span class="line"><span class="cl">      datacenter: /OBDC
</span></span><span class="line"><span class="cl">      datastore: /OBDC/datastore/vsanDatastore
</span></span><span class="line"><span class="cl">      diskGiB: <span class="m">300</span>
</span></span><span class="line"><span class="cl">      folder: /OBDC/vm/tanzu
</span></span><span class="line"><span class="cl">      memoryMiB: <span class="m">16384</span>
</span></span><span class="line"><span class="cl">      network:
</span></span><span class="line"><span class="cl">        devices:
</span></span><span class="line"><span class="cl">        - dhcp4: <span class="nb">false</span>    <span class="c1">#### 변경</span>
</span></span><span class="line"><span class="cl">          networkName: /OBDC/network/LS-TKGM01-WORKLOAD-10.253.127.x
</span></span><span class="line"><span class="cl">      numCPUs: <span class="m">4</span>
</span></span><span class="line"><span class="cl">      resourcePool: /OBDC/host/OBCLUSTER/Resources/dk-tanzu
</span></span><span class="line"><span class="cl">      server: vcsa01.vcf.local
</span></span><span class="line"><span class="cl">      storagePolicyName: k8s
</span></span><span class="line"><span class="cl">      template: /OBDC/vm/temp/photon-3-kube-v1.24.10+vmware.1
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">kubectl apply -f run2-worker.yaml
</span></span></code></pre></td></tr></table>
</div>
</div><p>이렇게 구성을 하게 되면 준비는 다 된것이다. 이제 master, worker node의 template만 변경 하게 되면 된다.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">kubectl patch md run2-md-0 --type &#39;json&#39; -p &#39;[{&#34;op&#34;:&#34;replace&#34;,&#34;path&#34;:&#34;/spec/template/spec/infrastructureRef/name&#34;,&#34;value&#34;:&#34;run2-worker01&#34;}]&#39; --dry-run=client -o yaml | kubectl apply -f -
</span></span><span class="line"><span class="cl">kubectl patch kcp run2-control-plane --type &#39;json&#39; -p &#39;[{&#34;op&#34;:&#34;replace&#34;,&#34;path&#34;:&#34;/spec/machineTemplate/infrastructureRef/name&#34;,&#34;value&#34;:&#34;run2-control-plane01&#34;}]&#39; --dry-run=client -o yaml | kubectl apply - f-
</span></span></code></pre></td></tr></table>
</div>
</div><p>이렇게 변경을 하게 되면 자동적으로 VM이 삭제 하고 재 생성 되는 것을 확인 할 수 있다.</p>
<p>그러면 IPPOOL에서 제대로 받아 오는지 확인을 해볼 수 있을 것이다.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">kubectl describe ippools.ipam.metal3.io run2-pool
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Status:
</span></span><span class="line"><span class="cl">  Indexes:
</span></span><span class="line"><span class="cl">    run2:                        10.253.127.121
</span></span><span class="line"><span class="cl">    run2-control-plane-wnng6-0:  10.253.127.124
</span></span><span class="line"><span class="cl">    run2-worker-hcmw8-0:         10.253.127.120
</span></span><span class="line"><span class="cl">    run2-worker-sgbmb-0:         10.253.127.122
</span></span><span class="line"><span class="cl">    run2-worker-sjf5m-0:         10.253.127.123
</span></span></code></pre></td></tr></table>
</div>
</div><p>DHCP서버를 완전히 안사용하게 할 수는 없겠지만 이 방법으로 어느정도 DHCP서버를 대체 할 수 있지 않을까라는 조심스러운 생각을 해본다.</p>
]]></description>
</item>
<item>
    <title>The Dcoumentation TMC</title>
    <link>https://huntedhappy.github.io/ko/tmc/</link>
    <pubDate>Fri, 24 Mar 2023 20:51:50 &#43;0900</pubDate>
    <author>Dokyung</author>
    <guid>https://huntedhappy.github.io/ko/tmc/</guid>
    <description><![CDATA[<h2 id="1-tanzu-portfolio">1. TANZU Portfolio</h2>
<p>RUN &amp; BUILD &amp; MANAGE &amp; LABS로 구성되어 있습니다. RUN의 경우는 멀티 클라우드에서 컨테이너 환경을 제공을 하며 BUILD의 경우 CI/CD 그리고 TAC (골든 이미지) 그리고 saas 형태로 제공하는 manage로 TMC (멀티 클러스터 관리), TSM (서비스 메쉬), TO (모니터링) 그리고 마지막으로 컨테이너를 잘 사용 할 수 있게 App Modernization을 도와주는 LABS 로 구성이 되어 있습니다.</p>
<blockquote>
<p>아래 영상은 MANAGE 역할을 하는 TMC, TSM, TO의 대한 설명및 데모를 보여주고 있으므로 해당 솔루션의 대한 정보를 확인 할 수 있습니다.</p>
</blockquote>
<iframe width="800" height="420" src="https://www.youtube.com/embed/1divUkYb_tU" title="오픈베이스 x VMware 두 번째 Tanzu 시리즈 &quot;모두의 TANZU&quot;" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<p>위의 영상이 도움이 되었으면 좋겠습니다.</p>
]]></description>
</item>
<item>
    <title>The Documentation SupplyChain on TAP</title>
    <link>https://huntedhappy.github.io/ko/cicd/</link>
    <pubDate>Fri, 24 Mar 2023 19:46:06 &#43;0900</pubDate>
    <author>Dokyung</author>
    <guid>https://huntedhappy.github.io/ko/cicd/</guid>
    <description><![CDATA[<h2 id="tanzu-supplychain">TANZU SUPPLYCHAIN</h2>
<blockquote>
<p>아래 내용은 기본적으로 VMWARE의 TAP솔루션을 알고 있다는 가정하에 작성을 하였습니다.</p>
</blockquote>
<p>CI/CD는 (Continuous Integration/Continuous Delivery) 지속적인 통합 및 지속적인 배포입니다.</p>
<p>예를 들어:</p>
<ol>
<li>사용자는 IDE 환경 (IntelliJ or visual studio or eclipse)에서 소스코드를 수정 및 디버깅을 합니다.</li>
<li>이 후에 수정된 소스코드를 GIT에 PUSH를 합니다.</li>
<li>JENKINS에서는 GIT에 수정된 소스를 Webhook 또는 Polling을 통해 변경을 감지 합니다.</li>
<li>JENKINS에서 수정된 코드를 통해 Docker Image를 생성을 합니다.</li>
<li>생성된 Docker Image를 이미지 레포지토리에 업로드 합니다.</li>
<li>Docker Image가 변경이 되었기 때문에 CD를 위해 별도의 GIT Project에 변경된 이미지를 수정 합니다.</li>
<li>CD 솔루션을 통해 (ARGO 등) GIT이 변경이 되었으므로 컨테이너이미지를 업데이트 합니다.</li>
</ol>
<ul>
<li>MANIFEST의 경우 HELM or KUSTOMIZATION or 각각 생성 할 수도 있습니다.</li>
</ul>
<blockquote>
<ol>
<li>JENKINS의 PIPELINE figure 1-1 와 같이 구성 할 수 있습니다.</li>
<li>SLACK을 연동 후 원하는 문자로 알림을 받을 수 있습니다. figure 1-2</li>
</ol>
</blockquote>
<figure><figcaption>
            <h4>1-1 JENKINS PIPELINE</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>1-2 SLACK ALERT</h4>
        </figcaption>
</figure>

<p>위와 같이 JENKINS와 ARGO 를 통해 CI/CD를 구성 할 수 있습니다. 하지만 각각 구성하기 위해서는 JENKINS 그리고 ARGO의 대해서도 이해가 필요 합니다. 또한 K8S에 배포를 하기 위해서는 MANIFEST의 대해서도 이해가 필요 합니다. 가령 Deployment, statfulset, ingress 등등의 대해서도, 이해가 필요 하며 HELM 또는 KUSTOMIZAION을 사용한다면 해당 오픈소스의 대해서도 이해가 필요 합니다.</p>
<p>TANZU APPLICATION PLATFORM은 여러 이해가 필요 한부분을 workload.yaml을 구성하면 SUPPLYCHAIN을 통해 CI/CD 구성을 사용자가 각각 구성 할 필요 없이 제공을 하고 있습니다.</p>
<p><a href="https://huntedhappy.github.io/tanzu-application-platform/" target="_blank" rel="noopener noreffer "><i class="fas fa-link"></i> TANZU APPLICATION PLATFORM?</a></p>
<p><a href="https://docs.vmware.com/en/VMware-Tanzu-Application-Platform/1.4/tap/overview.html" target="_blank" rel="noopener noreffer "><i class="fas fa-link"></i> VMWARE TANZU TAP</a></p>
<figure><figcaption>
            <h4>1-3 SUPPLYCHAIN</h4>
        </figcaption>
</figure>

<p>기본적으로 하나의 클러스터에 3가지중 하나의 SUPPLYCHAIN을 제공 하고 있습니다. DEFULAT의 경우 위의 설명 드린 대로 사용자는 workload.yaml을 적절하게 작성을 하게 되면 CI/CD가 동작 합니다.</p>
<p>아래 그림과 같이 workload.yaml 실행을 통해 supplychain이 순차적으로 동작을 하게 됩니다.
<figure><figcaption>
            <h4>1-4 SUPPLYCHAIN</h4>
        </figcaption>
</figure>
</p>
<p>GUI에서 확인을 해보면 아래와 같습니다.
<figure><figcaption>
            <h4>1-5 SUPPLYCHAIN</h4>
        </figcaption>
</figure>
</p>
<p>그리고 두번째의 경우는 추가적으로 TEKTON을 통해 소스코드를 테스팅 할 수 있습니다.
그리고 마지막의 경우는 GRYPE을 통해 소스 및 이미지에 보안 취약점이 있는지 확인을 합니다.</p>
<p>GUI에서 확인을 해보면 아래와 같이 취약점에 대해서 확인 할 수 있습니다.
<figure><figcaption>
            <h4>1-6 SUPPLYCHAIN</h4>
        </figcaption>
</figure>
</p>
<blockquote>
<p>하지만 위에서 설명 드린 대로 하나의 클러스터에는 3가지중 하나만 사용을 할 수 있습니다. 추가적인 supplychain을 구성 하고 싶을수도 있을 것입니다. 동일한 서비스의 대해서 빠르게 개발을 위해 BASIC으로 구성을 하고 싶을 것이며, QA/STAGING은 소스/이미지에 보안취약점이 있는지 잘 생성을 했는지 확인을 하고 싶을 것입니다. 물론 클러스터를 분리해서 구성 할 수도 있을 것입니다. 하지만 리소스 부족으로 분리를 할 수 없을 경우 하나의 클러스터에 모두 구성이 필요할수도 있을수 있습니다. 만약 그런 상황이 발생하면 3개중에 하나의 supplychain만 사용이 가능하기 때문에 한가지를 선택 해야 합니다. 그렇기 때문에 supplychain을 추가 하는 방법이 필요 할 수 있습니다.</p>
</blockquote>
<p>아래와 같이 기본적으로 제공 하고 있습니다.
<figure><figcaption>
            <h4>1-7 SUPPLYCHAIN</h4>
        </figcaption>
</figure>
</p>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>SUPPLYCHAIN ADD<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">cat <span class="s">&lt;&lt; &#39;EOF&#39; &gt; basic_supply_chain.yaml
</span></span></span><span class="line"><span class="cl"><span class="s">#@ load(&#34;@ytt:data&#34;, &#34;data&#34;)
</span></span></span><span class="line"><span class="cl"><span class="s">#@ load(&#34;@ytt:assert&#34;, &#34;assert&#34;)
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">#@ data.values.registry.server or assert.fail(&#34;missing registry.server&#34;)
</span></span></span><span class="line"><span class="cl"><span class="s">#@ data.values.registry.repository or assert.fail(&#34;missing registry.repository&#34;)
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">---
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: carto.run/v1alpha1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: ClusterSupplyChain
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: source-to-url-with-custom-support
</span></span></span><span class="line"><span class="cl"><span class="s">spec:
</span></span></span><span class="line"><span class="cl"><span class="s">  resources:
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: source-provider
</span></span></span><span class="line"><span class="cl"><span class="s">    params:
</span></span></span><span class="line"><span class="cl"><span class="s">      - name: serviceAccount
</span></span></span><span class="line"><span class="cl"><span class="s">        value: #@ data.values.service_account
</span></span></span><span class="line"><span class="cl"><span class="s">      - name: gitImplementation
</span></span></span><span class="line"><span class="cl"><span class="s">        value: #@ data.values.git_implementation
</span></span></span><span class="line"><span class="cl"><span class="s">    templateRef:
</span></span></span><span class="line"><span class="cl"><span class="s">      kind: ClusterSourceTemplate
</span></span></span><span class="line"><span class="cl"><span class="s">      name: source-template
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: image-provider
</span></span></span><span class="line"><span class="cl"><span class="s">    params:
</span></span></span><span class="line"><span class="cl"><span class="s">    - name: serviceAccount
</span></span></span><span class="line"><span class="cl"><span class="s">      value: #@ data.values.service_account
</span></span></span><span class="line"><span class="cl"><span class="s">    - name: registry
</span></span></span><span class="line"><span class="cl"><span class="s">      value:
</span></span></span><span class="line"><span class="cl"><span class="s">        ca_cert_data: &#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">        repository: #@ data.values.registry.repository
</span></span></span><span class="line"><span class="cl"><span class="s">        server: #@ data.values.registry.server
</span></span></span><span class="line"><span class="cl"><span class="s">    - default: default
</span></span></span><span class="line"><span class="cl"><span class="s">      name: clusterBuilder
</span></span></span><span class="line"><span class="cl"><span class="s">    - default: ./Dockerfile
</span></span></span><span class="line"><span class="cl"><span class="s">      name: dockerfile
</span></span></span><span class="line"><span class="cl"><span class="s">    - default: ./
</span></span></span><span class="line"><span class="cl"><span class="s">      name: docker_build_context
</span></span></span><span class="line"><span class="cl"><span class="s">    sources:
</span></span></span><span class="line"><span class="cl"><span class="s">    - name: source
</span></span></span><span class="line"><span class="cl"><span class="s">      resource: source-provider
</span></span></span><span class="line"><span class="cl"><span class="s">    templateRef:
</span></span></span><span class="line"><span class="cl"><span class="s">      kind: ClusterImageTemplate
</span></span></span><span class="line"><span class="cl"><span class="s">      options:
</span></span></span><span class="line"><span class="cl"><span class="s">      - name: kpack-template
</span></span></span><span class="line"><span class="cl"><span class="s">        selector:
</span></span></span><span class="line"><span class="cl"><span class="s">          matchFields:
</span></span></span><span class="line"><span class="cl"><span class="s">          - key: spec.params[?(@.name==&#34;dockerfile&#34;)]
</span></span></span><span class="line"><span class="cl"><span class="s">            operator: DoesNotExist
</span></span></span><span class="line"><span class="cl"><span class="s">      - name: kaniko-template
</span></span></span><span class="line"><span class="cl"><span class="s">        selector:
</span></span></span><span class="line"><span class="cl"><span class="s">          matchFields:
</span></span></span><span class="line"><span class="cl"><span class="s">          - key: spec.params[?(@.name==&#34;dockerfile&#34;)]
</span></span></span><span class="line"><span class="cl"><span class="s">            operator: Exists
</span></span></span><span class="line"><span class="cl"><span class="s">  - images:
</span></span></span><span class="line"><span class="cl"><span class="s">    - name: image
</span></span></span><span class="line"><span class="cl"><span class="s">      resource: image-provider
</span></span></span><span class="line"><span class="cl"><span class="s">    name: config-provider
</span></span></span><span class="line"><span class="cl"><span class="s">    params:
</span></span></span><span class="line"><span class="cl"><span class="s">    - name: serviceAccount
</span></span></span><span class="line"><span class="cl"><span class="s">      value: #@ data.values.service_account
</span></span></span><span class="line"><span class="cl"><span class="s">    templateRef:
</span></span></span><span class="line"><span class="cl"><span class="s">      kind: ClusterConfigTemplate
</span></span></span><span class="line"><span class="cl"><span class="s">      name: convention-template
</span></span></span><span class="line"><span class="cl"><span class="s">  - configs:
</span></span></span><span class="line"><span class="cl"><span class="s">    - name: config
</span></span></span><span class="line"><span class="cl"><span class="s">      resource: config-provider
</span></span></span><span class="line"><span class="cl"><span class="s">    name: app-config
</span></span></span><span class="line"><span class="cl"><span class="s">    templateRef:
</span></span></span><span class="line"><span class="cl"><span class="s">      kind: ClusterConfigTemplate
</span></span></span><span class="line"><span class="cl"><span class="s">      options:
</span></span></span><span class="line"><span class="cl"><span class="s">      - name: config-template
</span></span></span><span class="line"><span class="cl"><span class="s">        selector:
</span></span></span><span class="line"><span class="cl"><span class="s">          matchLabels:
</span></span></span><span class="line"><span class="cl"><span class="s">            apps.tanzu.vmware.com/workload-type: web
</span></span></span><span class="line"><span class="cl"><span class="s">      - name: server-template
</span></span></span><span class="line"><span class="cl"><span class="s">        selector:
</span></span></span><span class="line"><span class="cl"><span class="s">          matchLabels:
</span></span></span><span class="line"><span class="cl"><span class="s">            apps.tanzu.vmware.com/workload-type: server
</span></span></span><span class="line"><span class="cl"><span class="s">      - name: worker-template
</span></span></span><span class="line"><span class="cl"><span class="s">        selector:
</span></span></span><span class="line"><span class="cl"><span class="s">          matchLabels:
</span></span></span><span class="line"><span class="cl"><span class="s">            apps.tanzu.vmware.com/workload-type: worker
</span></span></span><span class="line"><span class="cl"><span class="s">  - configs:
</span></span></span><span class="line"><span class="cl"><span class="s">    - name: app_def
</span></span></span><span class="line"><span class="cl"><span class="s">      resource: app-config
</span></span></span><span class="line"><span class="cl"><span class="s">    name: service-bindings
</span></span></span><span class="line"><span class="cl"><span class="s">    templateRef:
</span></span></span><span class="line"><span class="cl"><span class="s">      kind: ClusterConfigTemplate
</span></span></span><span class="line"><span class="cl"><span class="s">      name: service-bindings
</span></span></span><span class="line"><span class="cl"><span class="s">  - configs:
</span></span></span><span class="line"><span class="cl"><span class="s">    - name: app_def
</span></span></span><span class="line"><span class="cl"><span class="s">      resource: service-bindings
</span></span></span><span class="line"><span class="cl"><span class="s">    name: api-descriptors
</span></span></span><span class="line"><span class="cl"><span class="s">    templateRef:
</span></span></span><span class="line"><span class="cl"><span class="s">      kind: ClusterConfigTemplate
</span></span></span><span class="line"><span class="cl"><span class="s">      name: api-descriptors
</span></span></span><span class="line"><span class="cl"><span class="s">  - configs:
</span></span></span><span class="line"><span class="cl"><span class="s">    - name: config
</span></span></span><span class="line"><span class="cl"><span class="s">      resource: api-descriptors
</span></span></span><span class="line"><span class="cl"><span class="s">    name: config-writer
</span></span></span><span class="line"><span class="cl"><span class="s">    params:
</span></span></span><span class="line"><span class="cl"><span class="s">    - default: default
</span></span></span><span class="line"><span class="cl"><span class="s">      name: serviceAccount
</span></span></span><span class="line"><span class="cl"><span class="s">    - name: registry
</span></span></span><span class="line"><span class="cl"><span class="s">      value:
</span></span></span><span class="line"><span class="cl"><span class="s">        ca_cert_data: &#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">        repository: #@ data.values.registry.repository
</span></span></span><span class="line"><span class="cl"><span class="s">        server: #@ data.values.registry.server
</span></span></span><span class="line"><span class="cl"><span class="s">    templateRef:
</span></span></span><span class="line"><span class="cl"><span class="s">      kind: ClusterTemplate
</span></span></span><span class="line"><span class="cl"><span class="s">      name: config-writer-template
</span></span></span><span class="line"><span class="cl"><span class="s">  - name: deliverable
</span></span></span><span class="line"><span class="cl"><span class="s">    params:
</span></span></span><span class="line"><span class="cl"><span class="s">    - name: registry
</span></span></span><span class="line"><span class="cl"><span class="s">      value:
</span></span></span><span class="line"><span class="cl"><span class="s">        ca_cert_data: &#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">        repository: #@ data.values.registry.repository
</span></span></span><span class="line"><span class="cl"><span class="s">        server: #@ data.values.registry.server
</span></span></span><span class="line"><span class="cl"><span class="s">    templateRef:
</span></span></span><span class="line"><span class="cl"><span class="s">      kind: ClusterTemplate
</span></span></span><span class="line"><span class="cl"><span class="s">      name: external-deliverable-template
</span></span></span><span class="line"><span class="cl"><span class="s">  selector:
</span></span></span><span class="line"><span class="cl"><span class="s">    apps.tanzu.vmware.com/custom: &#34;true&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  selectorMatchExpressions:
</span></span></span><span class="line"><span class="cl"><span class="s">  - key: apps.tanzu.vmware.com/workload-type
</span></span></span><span class="line"><span class="cl"><span class="s">    operator: In
</span></span></span><span class="line"><span class="cl"><span class="s">    values:
</span></span></span><span class="line"><span class="cl"><span class="s">    - web
</span></span></span><span class="line"><span class="cl"><span class="s">    - server
</span></span></span><span class="line"><span class="cl"><span class="s">    - worker
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> ytt -f basic_supply_chain.yaml -v registry.repository<span class="o">=</span>tap/supply_chain -v registry.server<span class="o">=</span>harbor-infra.huntedhappy.kro.kr -v <span class="nv">service_account</span><span class="o">=</span>default -v <span class="nv">git_implementation</span><span class="o">=</span>go-git <span class="p">|</span> kubectl apply -f -
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<p>위와 같이 추가하게 되면 별도로 SUPPLYCHAIN이 추가 된 것을 확인 할 수 있다.
<figure><figcaption>
            <h4>1-8 SUPPLYCHAIN</h4>
        </figcaption>
</figure>
</p>
<p>그리고 아래와 같이 다른 workload.yaml과는 다른 SUPPLYCHAIN이 등록 된 것을 확인 할 수 있습니다.
<figure><figcaption>
            <h4>1-9 SUPPLYCHAIN</h4>
        </figcaption>
</figure>
</p>
]]></description>
</item>
<item>
    <title>The Documentation TechDocs in Tap</title>
    <link>https://huntedhappy.github.io/ko/tap-techdocs/</link>
    <pubDate>Sat, 04 Mar 2023 22:33:00 &#43;0900</pubDate>
    <author>Dokyung</author>
    <guid>https://huntedhappy.github.io/ko/tap-techdocs/</guid>
    <description><![CDATA[<h2 id="1-간단한-설명">1. 간단한 설명</h2>
<h3 id="11-backstage">1.1. Backstage?</h3>
<p>Backstage는 개발자 포털 구축을 위한 오픈 플랫폼입니다. 2년 전 Spotify의 소규모 팀이 내부에서 Backstage를 오픈소스로 출시 후 CNCF SANDBOX에서 현재는 INCUBATING 단계가 되었습니다. CNCF는 프로젝트 성숙도에 따라서 SANDBOX, INCUBATING, GRADUATED 단계로  구성 되어 있습니다.</p>
<p>프로젝트의 성숙도는 CNCF 위원회 멤버들에 의해서 결정되며, GRADUATED 단계의 프로젝트가 되기 위해서는 GRADUATED 요건이 필요 하며 위원회 멤버 과반수 이상의 찬성표를 받아야 합니다.</p>
<figure><figcaption>
            <h4>https://www.cncf.io/projects/</h4>
        </figcaption>
</figure>

<p>Backstage WebPage를 가게 되면 엄청 많은 기능들을 확인 할 수 있습니다.</p>
<p><a href="https://backstage.io/docs/overview/what-is-backstage" target="_blank" rel="noopener noreffer "><i class="fas fa-link"></i> Backstage LINK</a></p>
<h3 id="12-techdocs">1.2. TechDocs?</h3>
<p>Backstage에 내장되어 있으며 MarkDown 파일을 작성 함으로 Backstage에 문서형 사이트를 얻을 수 있습니다.
<a href="https://backstage.io/docs/features/techdocs/" target="_blank" rel="noopener noreffer "><i class="fas fa-link"></i> Backstage TechDocs 참고링크</a></p>
<p>TANZU의 TAP의 경우 Backstage의 기능으로 구성이 되어 있습니다.</p>
<h2 id="2-techdocs-설정">2. TechDocs 설정</h2>
<blockquote>
<p>사전 구성</p>
<ol>
<li>Object Storage : &lsquo;awsS3&rsquo; or &lsquo;googleGcs&rsquo; or &lsquo;azureBlobStorage&rsquo; or &lsquo;openStackSwift&rsquo;</li>
<li>TANZU TAP</li>
<li>npm, node, npx (9.5.0, 18.14.2, 9.5.0)의 버전으로 테스트 진행</li>
</ol>
</blockquote>
<blockquote>
<p>앞서 설명에서 MarkDown를 통해 Tanzu의 TAP에 문서형태를 구성 할 수 있습니다. 사전에 Tanzu Net에서 sample을 다운로드 받을 수 있습니다.</p>
</blockquote>
<figure><figcaption>
            <h4>Sample Download</h4>
        </figcaption>
</figure>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## 압축 해제</span>
</span></span><span class="line"><span class="cl">tar zxvf tap-gui-yelb-catalog.tgz
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## markdown </span>
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> tap-gui-yelb-catalog
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>위의 Sample 파일을 다운로드 받은 후 TAP에서 Catalog를 등록 한 후 DOCS를 보면 아래와 같이 오류가 나는 것을 확인 할 수 있습니다.</p>
</blockquote>
<figure><figcaption>
            <h4>Error</h4>
        </figcaption>
</figure>

<p>TANZU에서 TechDocs 관련 LINK는 아래에서 참고 할 수 있지만, 문서를 보면 어떻게 해야 되는지 잘 알지 못할 수도 있습니다.
<a href="https://docs.vmware.com/en/VMware-Tanzu-Application-Platform/1.4/tap/tap-gui-techdocs-usage.html" target="_blank" rel="noopener noreffer "><i class="fas fa-link"></i> TechDocs In TAP 참고링크</a></p>
<blockquote>
<p>그리고 SAMPLE에서 mkdocs.yml 의 내용을 보면 docs에 index.md, add-docs.md를 읽을 수 있게 구성이 되어져 있는 것을 확인 해 볼 수 있습니다.</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">site_name: <span class="s1">&#39;Yelb demo catalog&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">nav:
</span></span><span class="line"><span class="cl">  - Home: index.md
</span></span><span class="line"><span class="cl">  - Adding Documentation: add-docs.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">plugins:
</span></span><span class="line"><span class="cl">  - techdocs-core
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>spotify에서 제공하는 techdocs docker를 다운로드 합니다.</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker pull spotify/techdocs:v1.1.0
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>테스트 환경에서는 AWS의 S3를 구성 하지 않고, MINIO를 사용하여 구성하였습니다. S3의 계정 정보를 환경변수로 저장합니다. MINIO에 저장 할 수 있는 버킷을 생성 합니다.</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">AWS_ACCESS_KEY_ID</span><span class="o">=</span><span class="s1">&#39;&#39;</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">AWS_SECRET_ACCESS_KEY</span><span class="o">=</span><span class="s1">&#39;&#39;</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">AWS_REGION</span><span class="o">=</span>ap-northeast-2
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>페이지를 작성 하기 위해 MarkDown을 npx로 웹 관련 파일을 생성 합니다.</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">npx @techdocs/cli generate --source-dir /var/tmp/tkgm/workload/catalog/yelb-catalog --output-dir ./site
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 아래와 같이 ./site 폴더에 파일들이 생성 된 것을 확인 할 수 있습니다.</span>
</span></span><span class="line"><span class="cl">ls site/
</span></span><span class="line"><span class="cl">404.html  README.md  add-docs  assets  images  index.html  search  sitemap.xml  sitemap.xml.gz  techdocs_metadata.json
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>사전에 Catalog를 등록 하면 DOCS에서 아래처럼 확인이 가능 합니다.</p>
</blockquote>
<figure><figcaption>
            <h4>yelb-catalog-info</h4>
        </figcaption>
</figure>

<blockquote>
<p>확인 및 site 파일이 생성이 되면 오브젝트 스토리지에 파일들을 업로드 해줍니다.</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">npx @techdocs/cli publish --publisher-type awsS3 --storage-name techdocs --entity default/location/yelb-catalog-info --directory ./site --awsEndpoint https://minio-volumes.huntedhappy.kro.kr --awsS3ForcePathStyle <span class="nb">true</span>
</span></span></code></pre></td></tr></table>
</div>
</div><figure><figcaption>
            <h4>MINIO BUCKET</h4>
        </figcaption>
</figure>

<blockquote>
<p>여기까지 완료가 되면 tap values yaml 파일을 업데이트 합니다.</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">    techdocs:
</span></span><span class="line"><span class="cl">      builder: <span class="s1">&#39;external&#39;</span> <span class="c1"># Alternatives - &#39;external&#39;</span>
</span></span><span class="line"><span class="cl">      publisher:
</span></span><span class="line"><span class="cl">        type: <span class="s1">&#39;awsS3&#39;</span> <span class="c1"># Alternatives - &#39;googleGcs&#39; or &#39;awsS3&#39; or &#39;azureBlobStorage&#39; or &#39;openStackSwift&#39;. Read documentation for using alternatives.</span>
</span></span><span class="line"><span class="cl">        awsS3:
</span></span><span class="line"><span class="cl">          bucketName: <span class="s1">&#39;techdocs&#39;</span>
</span></span><span class="line"><span class="cl">          credentials:
</span></span><span class="line"><span class="cl">            accessKeyId: <span class="s1">&#39;&#39;</span>
</span></span><span class="line"><span class="cl">            secretAccessKey: <span class="s1">&#39;&#39;</span>
</span></span><span class="line"><span class="cl">          region: ap-northeast-2
</span></span><span class="line"><span class="cl">          s3ForcePathStyle: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">          endpoint: https://minio-volumes.huntedhappy.kro.kr
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 수정 후 </span>
</span></span><span class="line"><span class="cl">tanzu package installed update tap -n tap-install --values-file <span class="o">{</span>file.yaml<span class="o">}</span>          
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>이 후 완료가 되면 아래 처럼 DOCS를 확인 할 수 있습니다. MARKDOWN을 작성 함으로 인해서 TAP에 개발을 한 Application의 대한 설명을 작성 할 수 있습니다.</p>
</blockquote>
<p><figure><figcaption>
            <h4>DOCS1</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>DOCS2</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>DOCS3</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>DOCS4</h4>
        </figcaption>
</figure>
</p>
]]></description>
</item>
<item>
    <title>The Documentation TANZU CUSTOM IMAGE</title>
    <link>https://huntedhappy.github.io/ko/tanzu-custom-image/</link>
    <pubDate>Wed, 01 Mar 2023 11:10:02 &#43;0900</pubDate>
    <author>Dokyung</author>
    <guid>https://huntedhappy.github.io/ko/tanzu-custom-image/</guid>
    <description><![CDATA[<h2 id="1-tanzu-custom-image">1. Tanzu Custom Image</h2>
<p>VMware에서 기본적으로 제공하는 이미지외에 별도로 Custom Image를 구성 할 수 있다.</p>
<p>호환되는 OS버전은 아래와 같다.
<figure><figcaption>
            <h4>지원 하는 OS Version</h4>
        </figcaption>
</figure>
</p>
<p>1.6 버전 Custom Image 생성 <a href="https://docs.vmware.com/en/VMware-Tanzu-Kubernetes-Grid/1.6/vmware-tanzu-kubernetes-grid-16/GUID-build-images-linux.html" target="_blank" rel="noopener noreffer "><i class="fas fa-link"></i> 1.6 Custom-Image </a></p>
<p>2.1 버전 Custom Image 생성 <a href="https://docs.vmware.com/en/VMware-Tanzu-Kubernetes-Grid/2.1/tkg-deploy-mc-21/mgmt-byoi-linux.html#linux-tkr" target="_blank" rel="noopener noreffer "><i class="fas fa-link"></i> 2.1 Custom-Image </a></p>
<p>TANZU 버전별 Sample Download <a href="https://developer.vmware.com/samples" target="_blank" rel="noopener noreffer "><i class="fas fa-link"></i> Sample Downloads </a></p>
<blockquote>
<p>사전에 도커가 설치 되어 있어야 함</p>
</blockquote>
<blockquote>
<p>RHEL의 경우 Subscription이 되어 있어야 함</p>
</blockquote>
<h2 id="2-공통-작업">2. 공통 작업</h2>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>Docker Server 실행<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker pull projects.registry.vmware.com/tkg/linux-resource-bundle:v1.23.10_vmware.1-tkg.1
</span></span><span class="line"><span class="cl">docker run -d -p 3000:3000 projects.registry.vmware.com/tkg/linux-resource-bundle:v1.23.10_vmware.1-tkg.1
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>Sample 다운로드<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## 1.6 Sample Download</span>
</span></span><span class="line"><span class="cl">curl -L https://apigw.vmware.com/sampleExchange/v1/downloads/8031 -o TKG-Image-Builder-for-Kubernetes-v1.23.10-master.zip
</span></span><span class="line"><span class="cl">unzip TKG-Image-Builder-for-Kubernetes-v1.23.10-master.zip
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> TKG-Image-Builder-for-Kubernetes-v1.23.10-on-TKG-v1.6.1-master/TKG-Image-Builder-for-Kubernetes-v1_23_10---vmware_1-tkg_v1_6_1/
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 2.1 Sample Download</span>
</span></span><span class="line"><span class="cl">curl -L https://apigw.vmware.com/sampleExchange/v1/downloads/8061 -o TKG-Image-Builder-for-Kubernetes-v1.24.9-master.zip
</span></span><span class="line"><span class="cl">unzip TKG-Image-Builder-for-Kubernetes-v1.24.9-master.zip
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /TKG-Image-Builder-for-Kubernetes-v1.24.9-on-TKG-v2.1.0-master/TKG-Image-Builder-for-Kubernetes-v1_24_9---vmware_1-tkg_v2_1_0/
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>tkg.json 설정 변경<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## 아래 &lt;IP&gt;:&lt;PORT&gt; 설정</span>
</span></span><span class="line"><span class="cl">cat <span class="s">&lt;&lt; &#39;EOF&#39; &gt; tkg.json
</span></span></span><span class="line"><span class="cl"><span class="s">{
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;build_version&#34;: &#34;{{user `build_name`}}-kube-v1.23.10_vmware.1&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;pause_image&#34;: &#34;projects.registry.vmware.com/tkg/pause:3.6&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;containerd_sha256&#34;: &#34;48f4327570dd7543464a28893160ab3bc9719ed2553f0a529a884b40f6dafd29&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;containerd_url&#34;: &#34;http://&lt;IP&gt;:&lt;PORT&gt;/files/containerd/cri-containerd-v1.6.6+vmware.2.linux-amd64.tar&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;containerd_version&#34;: &#34;v1.6.6+vmware.2&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;crictl_sha256&#34;: &#34;&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;crictl_url&#34;: &#34;&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;custom_role&#34;: &#34;true&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;custom_role_names&#34;: &#34;/home/imagebuilder/tkg&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;extra_debs&#34;: &#34;nfs-common unzip apparmor apparmor-utils sysstat&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;extra_rpms&#34;: &#34;sysstat&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;goss_vars_file&#34;: &#34;&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;goss_tests_dir&#34;: &#34;/home/imagebuilder/goss&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;goss_entry_file&#34;: &#34;goss/goss.yaml&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;goss_download_path&#34;: &#34;/tkg-tmp/goss-linux-amd64&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;goss_remote_folder&#34;: &#34;/tkg-tmp&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;goss_remote_path&#34;: &#34;/tkg-tmp/goss&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;kubernetes_series&#34;: &#34;v1.23&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;kubernetes_semver&#34;: &#34;v1.23.10+vmware.1&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;kubernetes_source_type&#34;: &#34;http&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;kubernetes_http_source&#34;: &#34;http://&lt;IP&gt;:&lt;PORT&gt;/files/kubernetes&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;kubernetes_container_registry&#34;: &#34;projects.registry.vmware.com/tkg&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;kubernetes_cni_semver&#34;: &#34;v1.1.1+vmware.7&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;kubernetes_cni_source_type&#34;: &#34;http&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;kubernetes_cni_http_source&#34;: &#34;http://&lt;IP&gt;:&lt;PORT&gt;/files/cni_plugins&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;kubernetes_cni_http_checksum&#34;: &#34;&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;kubernetes_load_additional_imgs&#34;: &#34;true&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">}
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>vCenter 및 Tanzu Kubernetes 버전 설정<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## vCenter의 정보를 넣어 준다.</span>
</span></span><span class="line"><span class="cl">cat <span class="s">&lt;&lt; EOF &gt; vsphere.json
</span></span></span><span class="line"><span class="cl"><span class="s">{
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;vcenter_server&#34;: &#34;&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;username&#34;: &#34;&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;password&#34;: &#34;&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;insecure_connection&#34;: &#34;true&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;datacenter&#34;: &#34;Datacenter&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;cluster&#34;: &#34;Cluster&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;resource_pool&#34;: &#34;&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;folder&#34;: &#34;tanzu&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;datastore&#34;: &#34;vsanDatastore&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;network&#34;: &#34;VM Network&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;convert_to_template&#34;: &#34;false&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;create_snapshot&#34;: &#34;false&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;linked_clone&#34;: &#34;false&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;template&#34;: &#34;false&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">}
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 설치할 버전 설정 </span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 1.6</span>
</span></span><span class="line"><span class="cl">cat <span class="s">&lt;&lt; EOF &gt; metadata.json
</span></span></span><span class="line"><span class="cl"><span class="s">{
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;VERSION&#34;: &#34;v1.23.10+vmware.1-dokyung.0&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">}
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 2.1</span>
</span></span><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;VERSION&#34;</span>: <span class="s2">&#34;v1.24.9+vmware.1-dokyung.0&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<h2 id="3-ubuntu-custom-image-생성">3. Ubuntu Custom Image 생성</h2>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>이미지 생성 실행<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">mkdir output
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 1.6 설정</span>
</span></span><span class="line"><span class="cl">docker run --net<span class="o">=</span>host -it --rm <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/vsphere.json:/home/imagebuilder/vsphere.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/tkg.json:/home/imagebuilder/tkg.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/tkg:/home/imagebuilder/tkg <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/stig_ubuntu_2004:/home/imagebuilder/stig_ubuntu_2004 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/goss/vsphere-ubuntu-1.23.10+vmware.2-goss-spec.yaml:/home/imagebuilder/goss/goss.yaml <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/metadata.json:/home/imagebuilder/metadata.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/output:/home/imagebuilder/output <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">PACKER_VAR_FILES</span><span class="o">=</span><span class="s2">&#34;tkg.json vsphere.json&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">OVF_CUSTOM_PROPERTIES</span><span class="o">=</span>/home/imagebuilder/metadata.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">IB_OVFTOOL</span><span class="o">=</span><span class="m">1</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  projects.registry.vmware.com/tkg/image-builder:v0.1.13_vmware.2 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  build-node-ova-vsphere-ubuntu-2004
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 2.1 설정</span>
</span></span><span class="line"><span class="cl">docker run -it --rm <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/vsphere.json:/home/imagebuilder/vsphere.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/tkg.json:/home/imagebuilder/tkg.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/tkg:/home/imagebuilder/tkg <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/goss/vsphere-ubuntu-1.24.9+vmware.1-goss-spec.yaml:/home/imagebuilder/goss/goss.yaml <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/metadata.json:/home/imagebuilder/metadata.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/output:/home/imagebuilder/output <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">PACKER_VAR_FILES</span><span class="o">=</span><span class="s2">&#34;tkg.json vsphere.json&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">OVF_CUSTOM_PROPERTIES</span><span class="o">=</span>/home/imagebuilder/metadata.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">IB_OVFTOOL</span><span class="o">=</span><span class="m">1</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --network host <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  projects.registry.vmware.com/tkg/image-builder:v0.1.13_vmware.2 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  build-node-ova-vsphere-ubuntu-2004
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>LOG<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span><span class="lnt">192
</span><span class="lnt">193
</span><span class="lnt">194
</span><span class="lnt">195
</span><span class="lnt">196
</span><span class="lnt">197
</span><span class="lnt">198
</span><span class="lnt">199
</span><span class="lnt">200
</span><span class="lnt">201
</span><span class="lnt">202
</span><span class="lnt">203
</span><span class="lnt">204
</span><span class="lnt">205
</span><span class="lnt">206
</span><span class="lnt">207
</span><span class="lnt">208
</span><span class="lnt">209
</span><span class="lnt">210
</span><span class="lnt">211
</span><span class="lnt">212
</span><span class="lnt">213
</span><span class="lnt">214
</span><span class="lnt">215
</span><span class="lnt">216
</span><span class="lnt">217
</span><span class="lnt">218
</span><span class="lnt">219
</span><span class="lnt">220
</span><span class="lnt">221
</span><span class="lnt">222
</span><span class="lnt">223
</span><span class="lnt">224
</span><span class="lnt">225
</span><span class="lnt">226
</span><span class="lnt">227
</span><span class="lnt">228
</span><span class="lnt">229
</span><span class="lnt">230
</span><span class="lnt">231
</span><span class="lnt">232
</span><span class="lnt">233
</span><span class="lnt">234
</span><span class="lnt">235
</span><span class="lnt">236
</span><span class="lnt">237
</span><span class="lnt">238
</span><span class="lnt">239
</span><span class="lnt">240
</span><span class="lnt">241
</span><span class="lnt">242
</span><span class="lnt">243
</span><span class="lnt">244
</span><span class="lnt">245
</span><span class="lnt">246
</span><span class="lnt">247
</span><span class="lnt">248
</span><span class="lnt">249
</span><span class="lnt">250
</span><span class="lnt">251
</span><span class="lnt">252
</span><span class="lnt">253
</span><span class="lnt">254
</span><span class="lnt">255
</span><span class="lnt">256
</span><span class="lnt">257
</span><span class="lnt">258
</span><span class="lnt">259
</span><span class="lnt">260
</span><span class="lnt">261
</span><span class="lnt">262
</span><span class="lnt">263
</span><span class="lnt">264
</span><span class="lnt">265
</span><span class="lnt">266
</span><span class="lnt">267
</span><span class="lnt">268
</span><span class="lnt">269
</span><span class="lnt">270
</span><span class="lnt">271
</span><span class="lnt">272
</span><span class="lnt">273
</span><span class="lnt">274
</span><span class="lnt">275
</span><span class="lnt">276
</span><span class="lnt">277
</span><span class="lnt">278
</span><span class="lnt">279
</span><span class="lnt">280
</span><span class="lnt">281
</span><span class="lnt">282
</span><span class="lnt">283
</span><span class="lnt">284
</span><span class="lnt">285
</span><span class="lnt">286
</span><span class="lnt">287
</span><span class="lnt">288
</span><span class="lnt">289
</span><span class="lnt">290
</span><span class="lnt">291
</span><span class="lnt">292
</span><span class="lnt">293
</span><span class="lnt">294
</span><span class="lnt">295
</span><span class="lnt">296
</span><span class="lnt">297
</span><span class="lnt">298
</span><span class="lnt">299
</span><span class="lnt">300
</span><span class="lnt">301
</span><span class="lnt">302
</span><span class="lnt">303
</span><span class="lnt">304
</span><span class="lnt">305
</span><span class="lnt">306
</span><span class="lnt">307
</span><span class="lnt">308
</span><span class="lnt">309
</span><span class="lnt">310
</span><span class="lnt">311
</span><span class="lnt">312
</span><span class="lnt">313
</span><span class="lnt">314
</span><span class="lnt">315
</span><span class="lnt">316
</span><span class="lnt">317
</span><span class="lnt">318
</span><span class="lnt">319
</span><span class="lnt">320
</span><span class="lnt">321
</span><span class="lnt">322
</span><span class="lnt">323
</span><span class="lnt">324
</span><span class="lnt">325
</span><span class="lnt">326
</span><span class="lnt">327
</span><span class="lnt">328
</span><span class="lnt">329
</span><span class="lnt">330
</span><span class="lnt">331
</span><span class="lnt">332
</span><span class="lnt">333
</span><span class="lnt">334
</span><span class="lnt">335
</span><span class="lnt">336
</span><span class="lnt">337
</span><span class="lnt">338
</span><span class="lnt">339
</span><span class="lnt">340
</span><span class="lnt">341
</span><span class="lnt">342
</span><span class="lnt">343
</span><span class="lnt">344
</span><span class="lnt">345
</span><span class="lnt">346
</span><span class="lnt">347
</span><span class="lnt">348
</span><span class="lnt">349
</span><span class="lnt">350
</span><span class="lnt">351
</span><span class="lnt">352
</span><span class="lnt">353
</span><span class="lnt">354
</span><span class="lnt">355
</span><span class="lnt">356
</span><span class="lnt">357
</span><span class="lnt">358
</span><span class="lnt">359
</span><span class="lnt">360
</span><span class="lnt">361
</span><span class="lnt">362
</span><span class="lnt">363
</span><span class="lnt">364
</span><span class="lnt">365
</span><span class="lnt">366
</span><span class="lnt">367
</span><span class="lnt">368
</span><span class="lnt">369
</span><span class="lnt">370
</span><span class="lnt">371
</span><span class="lnt">372
</span><span class="lnt">373
</span><span class="lnt">374
</span><span class="lnt">375
</span><span class="lnt">376
</span><span class="lnt">377
</span><span class="lnt">378
</span><span class="lnt">379
</span><span class="lnt">380
</span><span class="lnt">381
</span><span class="lnt">382
</span><span class="lnt">383
</span><span class="lnt">384
</span><span class="lnt">385
</span><span class="lnt">386
</span><span class="lnt">387
</span><span class="lnt">388
</span><span class="lnt">389
</span><span class="lnt">390
</span><span class="lnt">391
</span><span class="lnt">392
</span><span class="lnt">393
</span><span class="lnt">394
</span><span class="lnt">395
</span><span class="lnt">396
</span><span class="lnt">397
</span><span class="lnt">398
</span><span class="lnt">399
</span><span class="lnt">400
</span><span class="lnt">401
</span><span class="lnt">402
</span><span class="lnt">403
</span><span class="lnt">404
</span><span class="lnt">405
</span><span class="lnt">406
</span><span class="lnt">407
</span><span class="lnt">408
</span><span class="lnt">409
</span><span class="lnt">410
</span><span class="lnt">411
</span><span class="lnt">412
</span><span class="lnt">413
</span><span class="lnt">414
</span><span class="lnt">415
</span><span class="lnt">416
</span><span class="lnt">417
</span><span class="lnt">418
</span><span class="lnt">419
</span><span class="lnt">420
</span><span class="lnt">421
</span><span class="lnt">422
</span><span class="lnt">423
</span><span class="lnt">424
</span><span class="lnt">425
</span><span class="lnt">426
</span><span class="lnt">427
</span><span class="lnt">428
</span><span class="lnt">429
</span><span class="lnt">430
</span><span class="lnt">431
</span><span class="lnt">432
</span><span class="lnt">433
</span><span class="lnt">434
</span><span class="lnt">435
</span><span class="lnt">436
</span><span class="lnt">437
</span><span class="lnt">438
</span><span class="lnt">439
</span><span class="lnt">440
</span><span class="lnt">441
</span><span class="lnt">442
</span><span class="lnt">443
</span><span class="lnt">444
</span><span class="lnt">445
</span><span class="lnt">446
</span><span class="lnt">447
</span><span class="lnt">448
</span><span class="lnt">449
</span><span class="lnt">450
</span><span class="lnt">451
</span><span class="lnt">452
</span><span class="lnt">453
</span><span class="lnt">454
</span><span class="lnt">455
</span><span class="lnt">456
</span><span class="lnt">457
</span><span class="lnt">458
</span><span class="lnt">459
</span><span class="lnt">460
</span><span class="lnt">461
</span><span class="lnt">462
</span><span class="lnt">463
</span><span class="lnt">464
</span><span class="lnt">465
</span><span class="lnt">466
</span><span class="lnt">467
</span><span class="lnt">468
</span><span class="lnt">469
</span><span class="lnt">470
</span><span class="lnt">471
</span><span class="lnt">472
</span><span class="lnt">473
</span><span class="lnt">474
</span><span class="lnt">475
</span><span class="lnt">476
</span><span class="lnt">477
</span><span class="lnt">478
</span><span class="lnt">479
</span><span class="lnt">480
</span><span class="lnt">481
</span><span class="lnt">482
</span><span class="lnt">483
</span><span class="lnt">484
</span><span class="lnt">485
</span><span class="lnt">486
</span><span class="lnt">487
</span><span class="lnt">488
</span><span class="lnt">489
</span><span class="lnt">490
</span><span class="lnt">491
</span><span class="lnt">492
</span><span class="lnt">493
</span><span class="lnt">494
</span><span class="lnt">495
</span><span class="lnt">496
</span><span class="lnt">497
</span><span class="lnt">498
</span><span class="lnt">499
</span><span class="lnt">500
</span><span class="lnt">501
</span><span class="lnt">502
</span><span class="lnt">503
</span><span class="lnt">504
</span><span class="lnt">505
</span><span class="lnt">506
</span><span class="lnt">507
</span><span class="lnt">508
</span><span class="lnt">509
</span><span class="lnt">510
</span><span class="lnt">511
</span><span class="lnt">512
</span><span class="lnt">513
</span><span class="lnt">514
</span><span class="lnt">515
</span><span class="lnt">516
</span><span class="lnt">517
</span><span class="lnt">518
</span><span class="lnt">519
</span><span class="lnt">520
</span><span class="lnt">521
</span><span class="lnt">522
</span><span class="lnt">523
</span><span class="lnt">524
</span><span class="lnt">525
</span><span class="lnt">526
</span><span class="lnt">527
</span><span class="lnt">528
</span><span class="lnt">529
</span><span class="lnt">530
</span><span class="lnt">531
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## Ubuntu Custom Image 생성시 아래와 같은 Log를 볼 수 있다, vCenter에서는 Template으로 생성이 되는 것을 확인 할 수 있다.</span>
</span></span><span class="line"><span class="cl">hack/ensure-ansible.sh
</span></span><span class="line"><span class="cl">Starting galaxy collection install process
</span></span><span class="line"><span class="cl">Nothing to <span class="k">do</span>. All requested collections are already installed. If you want to reinstall them, consider using <span class="sb">`</span>--force<span class="sb">`</span>.
</span></span><span class="line"><span class="cl">hack/ensure-ansible-windows.sh
</span></span><span class="line"><span class="cl">hack/ensure-packer.sh
</span></span><span class="line"><span class="cl">hack/ensure-goss.sh
</span></span><span class="line"><span class="cl">Right version of binary present
</span></span><span class="line"><span class="cl">hack/ensure-ovftool.sh
</span></span><span class="line"><span class="cl">packer build -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/kubernetes.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/cni.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/containerd.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/ansible-args.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/goss-args.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/common.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/additional_components.json&#34;</span>  -color<span class="o">=</span><span class="nb">true</span>  -var-file<span class="o">=</span><span class="s2">&#34;packer/ova/packer-common.json&#34;</span> -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/ova/ubuntu-2004.json&#34;</span> -var-file<span class="o">=</span><span class="s2">&#34;packer/ova/vsphere.json&#34;</span>  -except<span class="o">=</span><span class="nb">local</span> -only<span class="o">=</span>vsphere-iso -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/tkg.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/vsphere.json&#34;</span>  -only<span class="o">=</span>vsphere packer/ova/packer-node.json
</span></span><span class="line"><span class="cl">vsphere: output will be in this color.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: File /home/imagebuilder/.cache/packer/48e4ec4daa32571605576c5566f486133ecc271f.iso already uploaded<span class="p">;</span> <span class="nv">continuing</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: File <span class="o">[</span>vsanDatastore<span class="o">]</span> packer_cache//48e4ec4daa32571605576c5566f486133ecc271f.iso already exists<span class="p">;</span> skipping upload.
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Creating VM...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Customizing hardware...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Mounting ISO images...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Adding configuration parameters...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Creating floppy disk...
</span></span><span class="line"><span class="cl">    vsphere: Copying files flatly from floppy_files
</span></span><span class="line"><span class="cl">    vsphere: Done copying files from floppy_files
</span></span><span class="line"><span class="cl">    vsphere: Collecting paths from floppy_dirs
</span></span><span class="line"><span class="cl">    vsphere: Resulting paths from floppy_dirs : <span class="o">[</span>./packer/ova/linux/ubuntu/http/<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere: Recursively copying : ./packer/ova/linux/ubuntu/http/
</span></span><span class="line"><span class="cl">    vsphere: Done copying paths from floppy_dirs
</span></span><span class="line"><span class="cl">    vsphere: Copying files from floppy_content
</span></span><span class="line"><span class="cl">    vsphere: Done copying files from <span class="nv">floppy_content</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Uploading created floppy <span class="nv">image</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Adding generated Floppy...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Starting HTTP server on port <span class="nv">8033</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Set boot order temporary...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Power on VM...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Waiting 10s <span class="k">for</span> boot...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: HTTP server is working at http://10.253.126.163:8033/
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Typing boot command...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Waiting <span class="k">for</span> IP...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: IP address: 10.253.126.102
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Using SSH communicator to connect: 10.253.126.102
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Waiting <span class="k">for</span> SSH to become available...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Connected to SSH!
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with shell script: ./packer/files/flatcar/scripts/bootstrap-flatcar.sh
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with Ansible...
</span></span><span class="line"><span class="cl">    vsphere: Setting up proxy adapter <span class="k">for</span> Ansible....
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Executing Ansible: ansible-playbook -e <span class="nv">packer_build_name</span><span class="o">=</span><span class="s2">&#34;vsphere&#34;</span> -e packer_*****_type<span class="o">=</span>vsphere-iso -e <span class="nv">packer_http_addr</span><span class="o">=</span>10.253.126.163:8033 --ssh-extra-args <span class="s1">&#39;-o IdentitiesOnly=yes&#39;</span> --extra-vars <span class="nv">containerd_url</span><span class="o">=</span>http://10.253.126.163:3000/files/containerd/cri-containerd-v1.6.6+vmware.2.linux-amd64.tar <span class="nv">containerd_sha256</span><span class="o">=</span>48f4327570dd7543464a28893160ab3bc9719ed2553f0a529a884b40f6dafd29 <span class="nv">pause_image</span><span class="o">=</span>projects.registry.vmware.com/tkg/pause:3.6 <span class="nv">containerd_additional_settings</span><span class="o">=</span> <span class="nv">containerd_cri_socket</span><span class="o">=</span>/var/run/containerd/containerd.sock <span class="nv">containerd_version</span><span class="o">=</span>v1.6.6+vmware.2 <span class="nv">crictl_url</span><span class="o">=</span> <span class="nv">crictl_sha256</span><span class="o">=</span> <span class="nv">crictl_source_type</span><span class="o">=</span>pkg <span class="nv">custom_role_names</span><span class="o">=</span><span class="s2">&#34;/home/image*****/tkg&#34;</span> <span class="nv">firstboot_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">firstboot_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">disable_public_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">extra_debs</span><span class="o">=</span><span class="s2">&#34;nfs-common unzip apparmor apparmor-utils sysstat&#34;</span> <span class="nv">extra_repos</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">extra_rpms</span><span class="o">=</span><span class="s2">&#34;sysstat&#34;</span> <span class="nv">http_proxy</span><span class="o">=</span> <span class="nv">https_proxy</span><span class="o">=</span> <span class="nv">kubeadm_template</span><span class="o">=</span>etc/kubeadm.yml <span class="nv">kubernetes_cni_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/cni_plugins <span class="nv">kubernetes_cni_http_checksum</span><span class="o">=</span> <span class="nv">kubernetes_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/kubernetes <span class="nv">kubernetes_container_registry</span><span class="o">=</span>projects.registry.vmware.com/tkg <span class="nv">kubernetes_rpm_repo</span><span class="o">=</span>https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64 <span class="nv">kubernetes_rpm_gpg_key</span><span class="o">=</span><span class="s2">&#34;https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg&#34;</span> <span class="nv">kubernetes_rpm_gpg_check</span><span class="o">=</span>True <span class="nv">kubernetes_deb_repo</span><span class="o">=</span><span class="s2">&#34;https://apt.kubernetes.io/ kubernetes-xenial&#34;</span> <span class="nv">kubernetes_deb_gpg_key</span><span class="o">=</span>https://packages.cloud.google.com/apt/doc/apt-key.gpg <span class="nv">kubernetes_cni_deb_version</span><span class="o">=</span>1.1.1-00 <span class="nv">kubernetes_cni_rpm_version</span><span class="o">=</span>1.1.1-0 <span class="nv">kubernetes_cni_semver</span><span class="o">=</span>v1.1.1+vmware.7 <span class="nv">kubernetes_cni_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_semver</span><span class="o">=</span>v1.23.10+vmware.1 <span class="nv">kubernetes_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_load_additional_imgs</span><span class="o">=</span><span class="nb">true</span> <span class="nv">kubernetes_deb_version</span><span class="o">=</span>1.23.10-00 <span class="nv">kubernetes_rpm_version</span><span class="o">=</span>1.23.10-0 <span class="nv">no_proxy</span><span class="o">=</span> <span class="nv">pip_conf_file</span><span class="o">=</span> <span class="nv">python_path</span><span class="o">=</span> <span class="nv">redhat_epel_rpm</span><span class="o">=</span>https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm <span class="nv">epel_rpm_gpg_key</span><span class="o">=</span> <span class="nv">reenable_public_repos</span><span class="o">=</span><span class="nb">true</span> <span class="nv">remove_extra_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">systemd_prefix</span><span class="o">=</span>/usr/lib/systemd <span class="nv">sysusr_prefix</span><span class="o">=</span>/usr <span class="nv">sysusrlocal_prefix</span><span class="o">=</span>/usr/local <span class="nv">load_additional_components</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images_list</span><span class="o">=</span> <span class="nv">additional_url_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_url_images_list</span><span class="o">=</span> <span class="nv">additional_executables</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_executables_list</span><span class="o">=</span> <span class="nv">additional_executables_destination_path</span><span class="o">=</span> <span class="nv">build_target</span><span class="o">=</span>virt <span class="nv">amazon_ssm_agent_rpm</span><span class="o">=</span> --extra-vars <span class="nv">guestinfo_datasource_slug</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo <span class="nv">guestinfo_datasource_ref</span><span class="o">=</span>v1.4.1 <span class="nv">guestinfo_datasource_script</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo/v1.4.1/install.sh --extra-vars  -e <span class="nv">ansible_ssh_private_key_file</span><span class="o">=</span>/tmp/ansible-key1308883835 -i /tmp/packer-provisioner-ansible2622378892 /home/image*****/ansible/firstboot.yml
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY <span class="o">[</span>all<span class="o">]</span> *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>Gathering Facts<span class="o">]</span> *********************************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : firstboot<span class="o">]</span> ************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY RECAP *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere: default                    : <span class="nv">ok</span><span class="o">=</span><span class="m">1</span>    <span class="nv">changed</span><span class="o">=</span><span class="m">0</span>    <span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span>    <span class="nv">failed</span><span class="o">=</span><span class="m">0</span>    <span class="nv">skipped</span><span class="o">=</span><span class="m">80</span>   <span class="nv">rescued</span><span class="o">=</span><span class="m">0</span>    <span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with shell script: /tmp/packer-shell4104450257
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with Ansible...
</span></span><span class="line"><span class="cl">    vsphere: Setting up proxy adapter <span class="k">for</span> Ansible....
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Executing Ansible: ansible-playbook -e <span class="nv">packer_build_name</span><span class="o">=</span><span class="s2">&#34;vsphere&#34;</span> -e packer_*****_type<span class="o">=</span>vsphere-iso -e <span class="nv">packer_http_addr</span><span class="o">=</span>10.253.126.163:8033 --ssh-extra-args <span class="s1">&#39;-o IdentitiesOnly=yes&#39;</span> --extra-vars <span class="nv">containerd_url</span><span class="o">=</span>http://10.253.126.163:3000/files/containerd/cri-containerd-v1.6.6+vmware.2.linux-amd64.tar <span class="nv">containerd_sha256</span><span class="o">=</span>48f4327570dd7543464a28893160ab3bc9719ed2553f0a529a884b40f6dafd29 <span class="nv">pause_image</span><span class="o">=</span>projects.registry.vmware.com/tkg/pause:3.6 <span class="nv">containerd_additional_settings</span><span class="o">=</span> <span class="nv">containerd_cri_socket</span><span class="o">=</span>/var/run/containerd/containerd.sock <span class="nv">containerd_version</span><span class="o">=</span>v1.6.6+vmware.2 <span class="nv">crictl_url</span><span class="o">=</span> <span class="nv">crictl_sha256</span><span class="o">=</span> <span class="nv">crictl_source_type</span><span class="o">=</span>pkg <span class="nv">custom_role_names</span><span class="o">=</span><span class="s2">&#34;/home/image*****/tkg&#34;</span> <span class="nv">firstboot_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">firstboot_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">disable_public_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">extra_debs</span><span class="o">=</span><span class="s2">&#34;nfs-common unzip apparmor apparmor-utils sysstat&#34;</span> <span class="nv">extra_repos</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">extra_rpms</span><span class="o">=</span><span class="s2">&#34;sysstat&#34;</span> <span class="nv">http_proxy</span><span class="o">=</span> <span class="nv">https_proxy</span><span class="o">=</span> <span class="nv">kubeadm_template</span><span class="o">=</span>etc/kubeadm.yml <span class="nv">kubernetes_cni_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/cni_plugins <span class="nv">kubernetes_cni_http_checksum</span><span class="o">=</span> <span class="nv">kubernetes_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/kubernetes <span class="nv">kubernetes_container_registry</span><span class="o">=</span>projects.registry.vmware.com/tkg <span class="nv">kubernetes_rpm_repo</span><span class="o">=</span>https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64 <span class="nv">kubernetes_rpm_gpg_key</span><span class="o">=</span><span class="s2">&#34;https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg&#34;</span> <span class="nv">kubernetes_rpm_gpg_check</span><span class="o">=</span>True <span class="nv">kubernetes_deb_repo</span><span class="o">=</span><span class="s2">&#34;https://apt.kubernetes.io/ kubernetes-xenial&#34;</span> <span class="nv">kubernetes_deb_gpg_key</span><span class="o">=</span>https://packages.cloud.google.com/apt/doc/apt-key.gpg <span class="nv">kubernetes_cni_deb_version</span><span class="o">=</span>1.1.1-00 <span class="nv">kubernetes_cni_rpm_version</span><span class="o">=</span>1.1.1-0 <span class="nv">kubernetes_cni_semver</span><span class="o">=</span>v1.1.1+vmware.7 <span class="nv">kubernetes_cni_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_semver</span><span class="o">=</span>v1.23.10+vmware.1 <span class="nv">kubernetes_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_load_additional_imgs</span><span class="o">=</span><span class="nb">true</span> <span class="nv">kubernetes_deb_version</span><span class="o">=</span>1.23.10-00 <span class="nv">kubernetes_rpm_version</span><span class="o">=</span>1.23.10-0 <span class="nv">no_proxy</span><span class="o">=</span> <span class="nv">pip_conf_file</span><span class="o">=</span> <span class="nv">python_path</span><span class="o">=</span> <span class="nv">redhat_epel_rpm</span><span class="o">=</span>https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm <span class="nv">epel_rpm_gpg_key</span><span class="o">=</span> <span class="nv">reenable_public_repos</span><span class="o">=</span><span class="nb">true</span> <span class="nv">remove_extra_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">systemd_prefix</span><span class="o">=</span>/usr/lib/systemd <span class="nv">sysusr_prefix</span><span class="o">=</span>/usr <span class="nv">sysusrlocal_prefix</span><span class="o">=</span>/usr/local <span class="nv">load_additional_components</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images_list</span><span class="o">=</span> <span class="nv">additional_url_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_url_images_list</span><span class="o">=</span> <span class="nv">additional_executables</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_executables_list</span><span class="o">=</span> <span class="nv">additional_executables_destination_path</span><span class="o">=</span> <span class="nv">build_target</span><span class="o">=</span>virt <span class="nv">amazon_ssm_agent_rpm</span><span class="o">=</span> --extra-vars <span class="nv">guestinfo_datasource_slug</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo <span class="nv">guestinfo_datasource_ref</span><span class="o">=</span>v1.4.1 <span class="nv">guestinfo_datasource_script</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo/v1.4.1/install.sh --extra-vars  -e <span class="nv">ansible_ssh_private_key_file</span><span class="o">=</span>/tmp/ansible-key2329815423 -i /tmp/packer-provisioner-ansible3700347837 /home/image*****/ansible/node.yml
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY <span class="o">[</span>all<span class="o">]</span> *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>Gathering Facts<span class="o">]</span> *********************************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : node<span class="o">]</span> *****************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : Put templated sources.list in place<span class="o">]</span> *****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : Put templated apt.conf.d/90proxy in place when defined<span class="o">]</span> **********
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : perform a dist-upgrade<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : install baseline dependencies<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : install extra debs<span class="o">]</span> **********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : install pinned debs<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Ensure overlay module is present<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Ensure br_netfilter module is present<span class="o">]</span> ****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Persist required kernel modules<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Set and persist kernel params<span class="o">]</span> ************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.bridge.bridge-nf-call-iptables&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.bridge.bridge-nf-call-ip6tables&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.ip_forward&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.conf.all.forwarding&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.conf.all.disable_ipv6&#39;</span>, <span class="s1">&#39;val&#39;</span>: 0<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.tcp_congestion_control&#39;</span>, <span class="s1">&#39;val&#39;</span>: <span class="s1">&#39;bbr&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;vm.overcommit_memory&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;kernel.panic&#39;</span>, <span class="s1">&#39;val&#39;</span>: 10<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;kernel.panic_on_oops&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Ensure auditd is running and comes on at reboot<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : configure auditd rules <span class="k">for</span> containerd<span class="o">]</span> ****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Ensure reverse packet filtering is <span class="nb">set</span> as strict<span class="o">]</span> *****************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Copy udev etcd network tuning rules<span class="o">]</span> ******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Copy etcd network tuning script<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : providers<span class="o">]</span> ************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : include_tasks<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere: included: /home/imagebuilder/ansible/roles/providers/tasks/vmware.yml <span class="k">for</span> default
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : include_tasks<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere: included: /home/imagebuilder/ansible/roles/providers/tasks/vmware-ubuntu.yml <span class="k">for</span> default
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Install cloud-init packages<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Disable Hyper-V KVP protocol daemon on Ubuntu<span class="o">]</span> ***************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Copy networkd-dispatcher scripts to add DHCP provided NTP servers<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;src&#39;</span>: <span class="s1">&#39;files/etc/networkd-dispatcher/routable.d/20-chrony.j2&#39;</span>, <span class="s1">&#39;dest&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/routable.d/20-chrony&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;src&#39;</span>: <span class="s1">&#39;files/etc/networkd-dispatcher/off.d/20-chrony.j2&#39;</span>, <span class="s1">&#39;dest&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/off.d/20-chrony&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;src&#39;</span>: <span class="s1">&#39;files/etc/networkd-dispatcher/no-carrier.d/20-chrony.j2&#39;</span>, <span class="s1">&#39;dest&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/no-carrier.d/20-chrony&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create provider vmtools config drop-in file<span class="o">]</span> *****************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create service to modify cloud-init config<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Copy cloud-init modification script<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Enable modify-cloud-init-cfg.service<span class="o">]</span> ************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Creates unit file directory <span class="k">for</span> cloud-final<span class="o">]</span> *****************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create cloud-final boot order drop in file<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Creates unit file directory <span class="k">for</span> cloud-config<span class="o">]</span> ****************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create cloud-final boot order drop in file<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Make sure all cloud init services are enabled<span class="o">]</span> ***************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-final<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-config<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-init<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-init-local<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create cloud-init config file<span class="o">]</span> *******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : <span class="nb">set</span> cloudinit feature flags<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Ensure chrony is running<span class="o">]</span> ************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : containerd<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Install libseccomp2 package<span class="o">]</span> ********************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : download containerd<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create a directory <span class="k">if</span> it does not exist<span class="o">]</span> ********************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : unpack containerd<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : delete /opt/cni directory<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : delete /etc/cni directory<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Creates unit file directory<span class="o">]</span> ********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create containerd memory pressure drop in file<span class="o">]</span> *************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create containerd max tasks drop in file<span class="o">]</span> *******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create containerd http proxy conf file <span class="k">if</span> needed<span class="o">]</span> ***********
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Creates containerd config directory<span class="o">]</span> ************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Copy in containerd config file etc/containerd/config.toml<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Copy in crictl config<span class="o">]</span> **************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : start containerd service<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : delete tarball<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : kubernetes<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Symlink cri-tools<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>ctr<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>crictl<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>critest<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create CNI directory<span class="o">]</span> ***************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Download CNI tarball<span class="o">]</span> ***************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Install CNI<span class="o">]</span> ************************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Remove CNI tarball<span class="o">]</span> *****************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Download Kubernetes binaries<span class="o">]</span> *******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kubeadm<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kubectl<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kubelet<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Download Kubernetes images<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-apiserver.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-controller-manager.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-scheduler.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-proxy.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>pause.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>coredns.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>etcd.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Load Kubernetes images<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-apiserver.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-controller-manager.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-scheduler.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-proxy.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>pause.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>coredns.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>etcd.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Remove Kubernetes images<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-apiserver.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-controller-manager.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-scheduler.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-proxy.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>pause.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>coredns.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>etcd.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create Kubernetes manifests directory<span class="o">]</span> **********************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet sysconfig directory<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet drop-in directory<span class="o">]</span> ***************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet kubeadm drop-in file<span class="o">]</span> ************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet systemd file<span class="o">]</span> ********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet default config file<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Enable kubelet service<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create the Kubernetes version file<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Check <span class="k">if</span> Kubernetes container registry is using Amazon ECR<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : <span class="o">{{</span> role <span class="o">}}]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : Create /tkg-tmp space<span class="o">]</span> **************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : Ensure reverse path filtering is <span class="nb">set</span> as strict<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : Modify /bin/sh to point to bash instead of dash<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span><span class="nb">echo</span> <span class="s2">&#34;dash dash/sh boolean false&#34;</span> <span class="p">|</span>  debconf-set-selections<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span><span class="nv">DEBIAN_FRONTEND</span><span class="o">=</span>noninteractive dpkg-reconfigure dash<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : remove unwanted packages<span class="o">]</span> ***********************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : include_tasks<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: included: /home/imagebuilder/tkg/tasks/vsphere.yml <span class="k">for</span> default
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : Set extra kernel params <span class="k">for</span> GC threshhold<span class="o">]</span> ******
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.neigh.default.gc_thresh1&#39;</span>, <span class="s1">&#39;val&#39;</span>: 4096<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.neigh.default.gc_thresh1&#39;</span>, <span class="s1">&#39;val&#39;</span>: 4096<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.neigh.default.gc_thresh2&#39;</span>, <span class="s1">&#39;val&#39;</span>: 8192<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.neigh.default.gc_thresh2&#39;</span>, <span class="s1">&#39;val&#39;</span>: 8192<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.neigh.default.gc_thresh3&#39;</span>, <span class="s1">&#39;val&#39;</span>: 16384<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.neigh.default.gc_thresh3&#39;</span>, <span class="s1">&#39;val&#39;</span>: 16384<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : Ensure fs.file-max is set<span class="o">]</span> **********************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : sysprep<span class="o">]</span> **************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Define file modes<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : apt-mark all installed packages<span class="o">]</span> *******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove templated apt.conf.d/90proxy used <span class="k">for</span> http<span class="o">(</span>s<span class="o">)</span>_proxy support<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Stop auditing<span class="o">]</span> *************************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove apt package caches<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove apt package lists<span class="o">]</span> **************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/lib/apt/lists&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0755&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/lib/apt/lists&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;directory&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0755&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Disable apt-daily services<span class="o">]</span> ************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>apt-daily.timer<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>apt-daily-upgrade.timer<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Get installed packages<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Disable unattended upgrades <span class="k">if</span> installed<span class="o">]</span> **********************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Reset network interface IDs<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove containerd http proxy conf file <span class="k">if</span> needed<span class="o">]</span> **************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate machine id<span class="o">]</span> *******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/machine-id&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/machine-id&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate hostname file<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/hostname&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/hostname&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Set hostname<span class="o">]</span> **************************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Reset hosts file<span class="o">]</span> **********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate audit logs<span class="o">]</span> *******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/wtmp&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0664&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/lastlog&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0664&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/wtmp&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0664&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/lastlog&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0664&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove cloud-init lib dir and logs<span class="o">]</span> ****************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/lib/cloud<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/log/cloud-init.log<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/log/cloud-init-output.log<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/run/cloud-init<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Find temp files<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Reset temp space<span class="o">]</span> **********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/tmp.fstab&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 34, <span class="s1">&#39;inode&#39;</span>: 402670, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677597184.857451, <span class="s1">&#39;mtime&#39;</span>: 1677597184.853451, <span class="s1">&#39;ctime&#39;</span>: 1677597184.853451, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/ansible_find_payload_f0kvk8b5&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 402677, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 2, <span class="s1">&#39;atime&#39;</span>: 1677597223.1412058, <span class="s1">&#39;mtime&#39;</span>: 1677597223.1412058, <span class="s1">&#39;ctime&#39;</span>: 1677597223.1412058, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/vmware-root_11794-701728372&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 402667, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 2, <span class="s1">&#39;atime&#39;</span>: 1677596834.564557, <span class="s1">&#39;mtime&#39;</span>: 1677596834.564557, <span class="s1">&#39;ctime&#39;</span>: 1677596834.564557, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/systemd-private-63552066ae0f41f8b3f40451498e4ff1-systemd-resolved.service-ODYbtj&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 402665, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677596833.9565601, <span class="s1">&#39;mtime&#39;</span>: 1677596833.9565601, <span class="s1">&#39;ctime&#39;</span>: 1677596833.9565601, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/systemd-private-63552066ae0f41f8b3f40451498e4ff1-systemd-logind.service-3e3WGf&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 788745, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677596646.7835886, <span class="s1">&#39;mtime&#39;</span>: 1677596646.7835886, <span class="s1">&#39;ctime&#39;</span>: 1677596646.7835886, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/systemd-private-63552066ae0f41f8b3f40451498e4ff1-chrony.service-KU8mhf&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 402669, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677596913.092651, <span class="s1">&#39;mtime&#39;</span>: 1677596913.092651, <span class="s1">&#39;ctime&#39;</span>: 1677596913.092651, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/vmware-root_11732-2832205138&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 400095, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 2, <span class="s1">&#39;atime&#39;</span>: 1677596832.1765683, <span class="s1">&#39;mtime&#39;</span>: 1677596832.1765683, <span class="s1">&#39;ctime&#39;</span>: 1677596832.1765683, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/vmware-root_435-1848905162&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 788741, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 2, <span class="s1">&#39;atime&#39;</span>: 1677596647.2115886, <span class="s1">&#39;mtime&#39;</span>: 1677596647.2115886, <span class="s1">&#39;ctime&#39;</span>: 1677596647.2115886, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/systemd-private-63552066ae0f41f8b3f40451498e4ff1-systemd-hostnamed.service-09uISe&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 402716, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677597214.7612596, <span class="s1">&#39;mtime&#39;</span>: 1677597214.7612596, <span class="s1">&#39;ctime&#39;</span>: 1677597214.7612596, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/tmp/systemd-private-63552066ae0f41f8b3f40451498e4ff1-systemd-resolved.service-3M3Qwh&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 787951, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677596833.9565601, <span class="s1">&#39;mtime&#39;</span>: 1677596833.9565601, <span class="s1">&#39;ctime&#39;</span>: 1677596833.9565601, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/tmp/systemd-private-63552066ae0f41f8b3f40451498e4ff1-chrony.service-qhrzGi&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 276520, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677596913.092651, <span class="s1">&#39;mtime&#39;</span>: 1677596913.092651, <span class="s1">&#39;ctime&#39;</span>: 1677596913.092651, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/tmp/systemd-private-63552066ae0f41f8b3f40451498e4ff1-systemd-logind.service-5Ee1Zh&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 788747, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677596646.7835886, <span class="s1">&#39;mtime&#39;</span>: 1677596646.7835886, <span class="s1">&#39;ctime&#39;</span>: 1677596646.7835886, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/tmp/systemd-private-63552066ae0f41f8b3f40451498e4ff1-systemd-hostnamed.service-SbNfXe&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 262171, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677597214.7612596, <span class="s1">&#39;mtime&#39;</span>: 1677597214.7612596, <span class="s1">&#39;ctime&#39;</span>: 1677597214.7612596, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: <span class="o">[</span>WARNING<span class="o">]</span>: Skipped <span class="s1">&#39;/run/netplan&#39;</span> path due to this access issue: <span class="s1">&#39;/run/netplan&#39;</span>
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Find netplan files<span class="o">]</span> ********************************************
</span></span><span class="line"><span class="cl">    vsphere: is not a directory
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Delete netplan files<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/netplan/01-netcfg.yaml&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 195, <span class="s1">&#39;inode&#39;</span>: 1048713, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677596772.6521707, <span class="s1">&#39;mtime&#39;</span>: 1677596518.2793102, <span class="s1">&#39;ctime&#39;</span>: 1677596518.2793102, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Find SSH host keys<span class="o">]</span> ********************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove SSH host keys<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_rsa_key&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0600&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 2602, <span class="s1">&#39;inode&#39;</span>: 1049683, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677596646.8235886, <span class="s1">&#39;mtime&#39;</span>: 1677596605.0113115, <span class="s1">&#39;ctime&#39;</span>: 1677596605.0113115, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ecdsa_key.pub&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 176, <span class="s1">&#39;inode&#39;</span>: 1049686, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677596605.0233116, <span class="s1">&#39;mtime&#39;</span>: 1677596605.0193117, <span class="s1">&#39;ctime&#39;</span>: 1677596605.0193117, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ecdsa_key&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0600&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 505, <span class="s1">&#39;inode&#39;</span>: 1049685, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677596646.8275886, <span class="s1">&#39;mtime&#39;</span>: 1677596605.0193117, <span class="s1">&#39;ctime&#39;</span>: 1677596605.0193117, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ed25519_key&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0600&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 411, <span class="s1">&#39;inode&#39;</span>: 1049687, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677596646.8315885, <span class="s1">&#39;mtime&#39;</span>: 1677596605.0273116, <span class="s1">&#39;ctime&#39;</span>: 1677596605.0273116, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ed25519_key.pub&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 96, <span class="s1">&#39;inode&#39;</span>: 1049688, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677596605.0313115, <span class="s1">&#39;mtime&#39;</span>: 1677596605.0273116, <span class="s1">&#39;ctime&#39;</span>: 1677596605.0273116, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_rsa_key.pub&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 568, <span class="s1">&#39;inode&#39;</span>: 1049684, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677596605.0153117, <span class="s1">&#39;mtime&#39;</span>: 1677596605.0113115, <span class="s1">&#39;ctime&#39;</span>: 1677596605.0113115, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove SSH authorized users<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/root/.ssh/authorized_keys&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/home/builder/.ssh/authorized_keys&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate all remaining log files in /var/log<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Delete all logrotated log zips<span class="o">]</span> ********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate shell history<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/root/.bash_history&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/home/builder/.bash_history&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Rotate journalctl to archive logs<span class="o">]</span> *****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove archived journalctl logs<span class="o">]</span> *******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : start ssh<span class="o">]</span> *****************************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY RECAP *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere: default                    : <span class="nv">ok</span><span class="o">=</span><span class="m">103</span>  <span class="nv">changed</span><span class="o">=</span><span class="m">77</span>   <span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span>    <span class="nv">failed</span><span class="o">=</span><span class="m">0</span>    <span class="nv">skipped</span><span class="o">=</span><span class="m">203</span>  <span class="nv">rescued</span><span class="o">=</span><span class="m">0</span>    <span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with <span class="nv">Goss</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Configured to run on Linux
</span></span><span class="line"><span class="cl">    vsphere: Creating directory: /tkg-tmp/goss
</span></span><span class="line"><span class="cl">    vsphere: Installing Goss from, https://github.com/aelsabbahy/goss/releases/download/v0.3.16/goss-linux-amd64
</span></span><span class="line"><span class="cl">    vsphere: Downloading Goss to /tkg-tmp/goss-linux-amd64
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  <span class="nv">Current</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:                                  Dload  Upload   Total   Spent    Left  <span class="nv">Speed</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:   <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>      <span class="m">0</span>      <span class="m">0</span> --:--:-- --:--:-- --:--:--     <span class="nv">0</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:   <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>      <span class="m">0</span>      <span class="m">0</span> --:--:-- --:--:-- --:--:--     <span class="nv">0</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: <span class="m">100</span> 11.8M  <span class="m">100</span> 11.8M    <span class="m">0</span>     <span class="m">0</span>  3271k      <span class="m">0</span>  0:00:03  0:00:03 --:--:-- 5114k
</span></span><span class="line"><span class="cl">    vsphere: goss version v0.3.16
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Uploading goss tests...
</span></span><span class="line"><span class="cl">    vsphere: Inline variables are --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;ubuntu&#34;,&#34;OS_VERSION&#34;:&#34;20.04&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span>
</span></span><span class="line"><span class="cl">    vsphere: Uploading Dir /home/imagebuilder/goss
</span></span><span class="line"><span class="cl">    vsphere: Creating directory: /tkg-tmp/goss/goss
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running goss tests...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running GOSS validate command: <span class="nb">cd</span> /tkg-tmp/goss <span class="o">&amp;&amp;</span> sudo  /tkg-tmp/goss-linux-amd64 --gossfile goss/goss.yaml  --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;ubuntu&#34;,&#34;OS_VERSION&#34;:&#34;20.04&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span> validate --retry-timeout 0s --sleep 1s -f json -o pretty
</span></span><span class="line"><span class="cl">    vsphere: Error: file error: <span class="nb">read</span> goss/goss.yaml: is a <span class="nv">directory</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Goss validate <span class="nv">failed</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Inspect mode on : proceeding without failing <span class="nv">Packer</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running GOSS render command: <span class="nb">cd</span> /tkg-tmp/goss <span class="o">&amp;&amp;</span>  /tkg-tmp/goss-linux-amd64 --gossfile goss/goss.yaml  --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;ubuntu&#34;,&#34;OS_VERSION&#34;:&#34;20.04&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span> render &gt; /tmp/goss-spec.yaml
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: file error: <span class="nb">read</span> goss/goss.yaml: is a <span class="nv">directory</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Goss render <span class="nv">failed</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Inspect mode on : proceeding without failing <span class="nv">Packer</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running GOSS render debug command: <span class="nb">cd</span> /tkg-tmp/goss <span class="o">&amp;&amp;</span>  /tkg-tmp/goss-linux-amd64 --gossfile goss/goss.yaml  --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;ubuntu&#34;,&#34;OS_VERSION&#34;:&#34;20.04&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span> render -d &gt; /tmp/debug-goss-spec.yaml
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: file error: <span class="nb">read</span> goss/goss.yaml: is a <span class="nv">directory</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Goss render debug <span class="nv">failed</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Inspect mode on : proceeding without failing <span class="nv">Packer</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Downloading spec file and debug info
</span></span><span class="line"><span class="cl">    vsphere: Downloading Goss specs from, /tmp/goss-spec.yaml and /tmp/debug-goss-spec.yaml to current <span class="nv">dir</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Executing shutdown command...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Deleting Floppy drives...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Deleting Floppy image...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Eject CD-ROM drives...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Convert VM into template...
</span></span><span class="line"><span class="cl">    vsphere: Starting export...
</span></span><span class="line"><span class="cl">    vsphere: Downloading: ubuntu-2004-kube-v1.23.10_vmware.1-disk-0.vmdk
</span></span><span class="line"><span class="cl">    vsphere: Exporting file: ubuntu-2004-kube-v1.23.10_vmware.1-disk-0.vmdk
</span></span><span class="line"><span class="cl">    vsphere: Writing ovf...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Clear boot order...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running post-processor: packer-manifest <span class="o">(</span><span class="nb">type</span> manifest<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running post-processor: vsphere <span class="o">(</span><span class="nb">type</span> shell-local<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Running <span class="nb">local</span> shell script: /tmp/packer-shell750060967
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Opening OVF source: ubuntu-2004-kube-v1.23.10+vmware.1.ovf
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Opening OVA target: ubuntu-2004-kube-v1.23.10+vmware.1.ova
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Writing OVA package: ubuntu-2004-kube-v1.23.10+vmware.1.ova
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Transfer Completed
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Warning:
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>:  - No manifest file found.
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>:  - No supported manifest<span class="o">(</span>sha1, sha256, sha512<span class="o">)</span> entry found <span class="k">for</span>: <span class="s1">&#39;ubuntu-2004-kube-v1.23.10_vmware.1-disk-0.vmdk&#39;</span>.
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Completed successfully
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: <span class="nb">cd</span> .
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: loaded ubuntu-2004-kube-v1.23.10+vmware.1
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: create ovf ubuntu-2004-kube-v1.23.10+vmware.1.ovf
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: creating OVA from ubuntu-2004-kube-v1.23.10+vmware.1.ovf using ovftool
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: create ova checksum ubuntu-2004-kube-v1.23.10+vmware.1.ova.sha256
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running post-processor: custom-post-processor <span class="o">(</span><span class="nb">type</span> shell-local<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Running <span class="nb">local</span> shell script: /tmp/packer-shell508306614
</span></span><span class="line"><span class="cl">Build <span class="s1">&#39;vsphere&#39;</span> finished after <span class="m">17</span> minutes <span class="m">24</span> seconds.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; Wait completed after <span class="m">17</span> minutes <span class="m">24</span> <span class="nv">seconds</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; Builds finished. The artifacts of successful builds are:
</span></span><span class="line"><span class="cl">--&gt; vsphere: ubuntu-2004-kube-v1.23.10_vmware.1
</span></span><span class="line"><span class="cl">--&gt; vsphere: ubuntu-2004-kube-v1.23.10_vmware.1
</span></span><span class="line"><span class="cl">--&gt; vsphere: ubuntu-2004-kube-v1.23.10_vmware.1
</span></span><span class="line"><span class="cl">--&gt; vsphere: ubuntu-2004-kube-v1.23.10_vmware.1
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## output 폴더 OVA 생성</span>
</span></span><span class="line"><span class="cl"><span class="c1">## 1.6 </span>
</span></span><span class="line"><span class="cl">ls output/ubuntu-2004-kube-v1.23.10_vmware.1/
</span></span><span class="line"><span class="cl">packer-manifest.json  ubuntu-2004-kube-v1.23.10+vmware.1.ova  ubuntu-2004-kube-v1.23.10+vmware.1.ova.sha256  ubuntu-2004-kube-v1.23.10+vmware.1.ovf  ubuntu-2004-kube-v1.23.10_vmware.1-disk-0.vmdk  ubuntu-2004-kube-v1.23.10_vmware.1.ovf
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 2.1</span>
</span></span><span class="line"><span class="cl">ls output/ubuntu-2004-kube-v1.24.9_vmware.1/
</span></span><span class="line"><span class="cl">packer-manifest.json  ubuntu-2004-kube-v1.24.9_vmware.1-disk-0.vmdk  ubuntu-2004-kube-v1.24.9+vmware.1.ova  ubuntu-2004-kube-v1.24.9+vmware.1.ova.sha256  ubuntu-2004-kube-v1.24.9+vmware.1.ovf  ubuntu-2004-kube-v1.24.9_vmware.1.ovf
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<h2 id="4-rhel-custom-image-생성">4. RHEL Custom Image 생성</h2>
<p><div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>rhel-8.json 생성<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">cat <span class="s">&lt;&lt; &#39;EOF&#39; &gt; rhel-8.json
</span></span></span><span class="line"><span class="cl"><span class="s">{
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;boot_command_prefix&#34;: &#34;&lt;up&gt;&lt;tab&gt; text inst.ks=&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;boot_command_suffix&#34;: &#34;/8/ks.cfg&lt;enter&gt;&lt;wait&gt;&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;boot_media_path&#34;: &#34;http://{{ .HTTPIP }}:{{ .HTTPPort }}&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;build_name&#34;: &#34;rhel-8&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;distro_arch&#34;: &#34;amd64&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;distro_name&#34;: &#34;rhel&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;distro_version&#34;: &#34;8&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;epel_rpm_gpg_key&#34;: &#34;https://dl.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-8&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;guest_os_type&#34;: &#34;rhel8-64&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;http_directory&#34;: &#34;./packer/ova/linux/{{user `distro_name`}}/http/&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;iso_checksum&#34;: &#34;a6a7418a75d721cc696d3cbdd648b5248808e7fef0f8742f518e43b46fa08139&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;iso_checksum_type&#34;: &#34;sha256&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;iso_url&#34;: &#34;./rhel-8.7-x86_64-dvd.iso&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;os_display_name&#34;: &#34;RHEL 8&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;redhat_epel_rpm&#34;: &#34;https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;shutdown_command&#34;: &#34;shutdown -P now&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;vsphere_guest_os_type&#34;: &#34;rhel8_64Guest&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">}
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>rhel-8 생성<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## RHSM_USER= --env RHSM_PASS= \ -- subscription user/pw 설정</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 1.6 설정</span>
</span></span><span class="line"><span class="cl">docker run -it --rm <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/vsphere.json:/home/imagebuilder/vsphere.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/tkg.json:/home/imagebuilder/tkg.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/tkg:/home/imagebuilder/tkg <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/goss/vsphere-ubuntu-1.23.10+vmware.2-goss-spec.yaml:/home/imagebuilder/goss/goss.yaml <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/metadata.json:/home/imagebuilder/metadata.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/output:/home/imagebuilder/output <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/rhel-8.json:/home/imagebuilder/packer/ova/rhel-8.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/ks.cfg:/home/imagebuilder/packer/ova/linux/photon/http/3/ks.cfg <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/rhel-8.7-x86_64-dvd.iso:/home/imagebuilder/rhel-8.7-x86_64-dvd.iso <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --network host <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">RHSM_USER</span><span class="o">={</span>ID<span class="o">}</span> --env <span class="nv">RHSM_PASS</span><span class="o">={</span>PW<span class="o">}</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">PACKER_VAR_FILES</span><span class="o">=</span><span class="s2">&#34;tkg.json vsphere.json&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">OVF_CUSTOM_PROPERTIES</span><span class="o">=</span>/home/imagebuilder/metadata.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">IB_OVFTOOL</span><span class="o">=</span><span class="m">1</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">IB_OVFTOOL_ARGS</span><span class="o">=</span><span class="s2">&#34;--allowExtraConfig&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  projects.registry.vmware.com/tkg/image-builder:v0.1.13_vmware.2 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  build-node-ova-vsphere-rhel-8
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 2.1 설정</span>
</span></span><span class="line"><span class="cl">docker run -it --rm <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/vsphere.json:/home/imagebuilder/vsphere.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/tkg.json:/home/imagebuilder/tkg.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/tkg:/home/imagebuilder/tkg <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/goss/vsphere-rhel-8-v1.24.9+vmware.1-tkg_v2_1_0-goss-spec.yaml:/home/imagebuilder/goss/goss.yaml <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/metadata.json:/home/imagebuilder/metadata.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/output:/home/imagebuilder/output <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/rhel-8.json:/home/imagebuilder/packer/ova/rhel-8.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/ks.cfg:/home/imagebuilder/packer/ova/linux/photon/http/3/ks.cfg <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/rhel-8.7-x86_64-dvd.iso:/home/imagebuilder/rhel-8.7-x86_64-dvd.iso <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --network host <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">RHSM_USER</span><span class="o">={</span>ID<span class="o">}</span> --env <span class="nv">RHSM_PASS</span><span class="o">={</span>PW<span class="o">}</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">PACKER_VAR_FILES</span><span class="o">=</span><span class="s2">&#34;tkg.json vsphere.json&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">OVF_CUSTOM_PROPERTIES</span><span class="o">=</span>/home/imagebuilder/metadata.json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">IB_OVFTOOL</span><span class="o">=</span><span class="m">1</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="nv">IB_OVFTOOL_ARGS</span><span class="o">=</span><span class="s2">&#34;--allowExtraConfig&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  projects.registry.vmware.com/tkg/image-builder:v0.1.13_vmware.2 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  build-node-ova-vsphere-rhel-8
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div></p>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>LOG<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><h2 id="rhel-8-이미지-로그">rhel 8 이미지 로그</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span><span class="lnt">192
</span><span class="lnt">193
</span><span class="lnt">194
</span><span class="lnt">195
</span><span class="lnt">196
</span><span class="lnt">197
</span><span class="lnt">198
</span><span class="lnt">199
</span><span class="lnt">200
</span><span class="lnt">201
</span><span class="lnt">202
</span><span class="lnt">203
</span><span class="lnt">204
</span><span class="lnt">205
</span><span class="lnt">206
</span><span class="lnt">207
</span><span class="lnt">208
</span><span class="lnt">209
</span><span class="lnt">210
</span><span class="lnt">211
</span><span class="lnt">212
</span><span class="lnt">213
</span><span class="lnt">214
</span><span class="lnt">215
</span><span class="lnt">216
</span><span class="lnt">217
</span><span class="lnt">218
</span><span class="lnt">219
</span><span class="lnt">220
</span><span class="lnt">221
</span><span class="lnt">222
</span><span class="lnt">223
</span><span class="lnt">224
</span><span class="lnt">225
</span><span class="lnt">226
</span><span class="lnt">227
</span><span class="lnt">228
</span><span class="lnt">229
</span><span class="lnt">230
</span><span class="lnt">231
</span><span class="lnt">232
</span><span class="lnt">233
</span><span class="lnt">234
</span><span class="lnt">235
</span><span class="lnt">236
</span><span class="lnt">237
</span><span class="lnt">238
</span><span class="lnt">239
</span><span class="lnt">240
</span><span class="lnt">241
</span><span class="lnt">242
</span><span class="lnt">243
</span><span class="lnt">244
</span><span class="lnt">245
</span><span class="lnt">246
</span><span class="lnt">247
</span><span class="lnt">248
</span><span class="lnt">249
</span><span class="lnt">250
</span><span class="lnt">251
</span><span class="lnt">252
</span><span class="lnt">253
</span><span class="lnt">254
</span><span class="lnt">255
</span><span class="lnt">256
</span><span class="lnt">257
</span><span class="lnt">258
</span><span class="lnt">259
</span><span class="lnt">260
</span><span class="lnt">261
</span><span class="lnt">262
</span><span class="lnt">263
</span><span class="lnt">264
</span><span class="lnt">265
</span><span class="lnt">266
</span><span class="lnt">267
</span><span class="lnt">268
</span><span class="lnt">269
</span><span class="lnt">270
</span><span class="lnt">271
</span><span class="lnt">272
</span><span class="lnt">273
</span><span class="lnt">274
</span><span class="lnt">275
</span><span class="lnt">276
</span><span class="lnt">277
</span><span class="lnt">278
</span><span class="lnt">279
</span><span class="lnt">280
</span><span class="lnt">281
</span><span class="lnt">282
</span><span class="lnt">283
</span><span class="lnt">284
</span><span class="lnt">285
</span><span class="lnt">286
</span><span class="lnt">287
</span><span class="lnt">288
</span><span class="lnt">289
</span><span class="lnt">290
</span><span class="lnt">291
</span><span class="lnt">292
</span><span class="lnt">293
</span><span class="lnt">294
</span><span class="lnt">295
</span><span class="lnt">296
</span><span class="lnt">297
</span><span class="lnt">298
</span><span class="lnt">299
</span><span class="lnt">300
</span><span class="lnt">301
</span><span class="lnt">302
</span><span class="lnt">303
</span><span class="lnt">304
</span><span class="lnt">305
</span><span class="lnt">306
</span><span class="lnt">307
</span><span class="lnt">308
</span><span class="lnt">309
</span><span class="lnt">310
</span><span class="lnt">311
</span><span class="lnt">312
</span><span class="lnt">313
</span><span class="lnt">314
</span><span class="lnt">315
</span><span class="lnt">316
</span><span class="lnt">317
</span><span class="lnt">318
</span><span class="lnt">319
</span><span class="lnt">320
</span><span class="lnt">321
</span><span class="lnt">322
</span><span class="lnt">323
</span><span class="lnt">324
</span><span class="lnt">325
</span><span class="lnt">326
</span><span class="lnt">327
</span><span class="lnt">328
</span><span class="lnt">329
</span><span class="lnt">330
</span><span class="lnt">331
</span><span class="lnt">332
</span><span class="lnt">333
</span><span class="lnt">334
</span><span class="lnt">335
</span><span class="lnt">336
</span><span class="lnt">337
</span><span class="lnt">338
</span><span class="lnt">339
</span><span class="lnt">340
</span><span class="lnt">341
</span><span class="lnt">342
</span><span class="lnt">343
</span><span class="lnt">344
</span><span class="lnt">345
</span><span class="lnt">346
</span><span class="lnt">347
</span><span class="lnt">348
</span><span class="lnt">349
</span><span class="lnt">350
</span><span class="lnt">351
</span><span class="lnt">352
</span><span class="lnt">353
</span><span class="lnt">354
</span><span class="lnt">355
</span><span class="lnt">356
</span><span class="lnt">357
</span><span class="lnt">358
</span><span class="lnt">359
</span><span class="lnt">360
</span><span class="lnt">361
</span><span class="lnt">362
</span><span class="lnt">363
</span><span class="lnt">364
</span><span class="lnt">365
</span><span class="lnt">366
</span><span class="lnt">367
</span><span class="lnt">368
</span><span class="lnt">369
</span><span class="lnt">370
</span><span class="lnt">371
</span><span class="lnt">372
</span><span class="lnt">373
</span><span class="lnt">374
</span><span class="lnt">375
</span><span class="lnt">376
</span><span class="lnt">377
</span><span class="lnt">378
</span><span class="lnt">379
</span><span class="lnt">380
</span><span class="lnt">381
</span><span class="lnt">382
</span><span class="lnt">383
</span><span class="lnt">384
</span><span class="lnt">385
</span><span class="lnt">386
</span><span class="lnt">387
</span><span class="lnt">388
</span><span class="lnt">389
</span><span class="lnt">390
</span><span class="lnt">391
</span><span class="lnt">392
</span><span class="lnt">393
</span><span class="lnt">394
</span><span class="lnt">395
</span><span class="lnt">396
</span><span class="lnt">397
</span><span class="lnt">398
</span><span class="lnt">399
</span><span class="lnt">400
</span><span class="lnt">401
</span><span class="lnt">402
</span><span class="lnt">403
</span><span class="lnt">404
</span><span class="lnt">405
</span><span class="lnt">406
</span><span class="lnt">407
</span><span class="lnt">408
</span><span class="lnt">409
</span><span class="lnt">410
</span><span class="lnt">411
</span><span class="lnt">412
</span><span class="lnt">413
</span><span class="lnt">414
</span><span class="lnt">415
</span><span class="lnt">416
</span><span class="lnt">417
</span><span class="lnt">418
</span><span class="lnt">419
</span><span class="lnt">420
</span><span class="lnt">421
</span><span class="lnt">422
</span><span class="lnt">423
</span><span class="lnt">424
</span><span class="lnt">425
</span><span class="lnt">426
</span><span class="lnt">427
</span><span class="lnt">428
</span><span class="lnt">429
</span><span class="lnt">430
</span><span class="lnt">431
</span><span class="lnt">432
</span><span class="lnt">433
</span><span class="lnt">434
</span><span class="lnt">435
</span><span class="lnt">436
</span><span class="lnt">437
</span><span class="lnt">438
</span><span class="lnt">439
</span><span class="lnt">440
</span><span class="lnt">441
</span><span class="lnt">442
</span><span class="lnt">443
</span><span class="lnt">444
</span><span class="lnt">445
</span><span class="lnt">446
</span><span class="lnt">447
</span><span class="lnt">448
</span><span class="lnt">449
</span><span class="lnt">450
</span><span class="lnt">451
</span><span class="lnt">452
</span><span class="lnt">453
</span><span class="lnt">454
</span><span class="lnt">455
</span><span class="lnt">456
</span><span class="lnt">457
</span><span class="lnt">458
</span><span class="lnt">459
</span><span class="lnt">460
</span><span class="lnt">461
</span><span class="lnt">462
</span><span class="lnt">463
</span><span class="lnt">464
</span><span class="lnt">465
</span><span class="lnt">466
</span><span class="lnt">467
</span><span class="lnt">468
</span><span class="lnt">469
</span><span class="lnt">470
</span><span class="lnt">471
</span><span class="lnt">472
</span><span class="lnt">473
</span><span class="lnt">474
</span><span class="lnt">475
</span><span class="lnt">476
</span><span class="lnt">477
</span><span class="lnt">478
</span><span class="lnt">479
</span><span class="lnt">480
</span><span class="lnt">481
</span><span class="lnt">482
</span><span class="lnt">483
</span><span class="lnt">484
</span><span class="lnt">485
</span><span class="lnt">486
</span><span class="lnt">487
</span><span class="lnt">488
</span><span class="lnt">489
</span><span class="lnt">490
</span><span class="lnt">491
</span><span class="lnt">492
</span><span class="lnt">493
</span><span class="lnt">494
</span><span class="lnt">495
</span><span class="lnt">496
</span><span class="lnt">497
</span><span class="lnt">498
</span><span class="lnt">499
</span><span class="lnt">500
</span><span class="lnt">501
</span><span class="lnt">502
</span><span class="lnt">503
</span><span class="lnt">504
</span><span class="lnt">505
</span><span class="lnt">506
</span><span class="lnt">507
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">hack/ensure-ansible.sh
</span></span><span class="line"><span class="cl">Starting galaxy collection install process
</span></span><span class="line"><span class="cl">Nothing to <span class="k">do</span>. All requested collections are already installed. If you want to reinstall them, consider using <span class="sb">`</span>--force<span class="sb">`</span>.
</span></span><span class="line"><span class="cl">hack/ensure-ansible-windows.sh
</span></span><span class="line"><span class="cl">hack/ensure-packer.sh
</span></span><span class="line"><span class="cl">hack/ensure-goss.sh
</span></span><span class="line"><span class="cl">Right version of binary present
</span></span><span class="line"><span class="cl">hack/ensure-ovftool.sh
</span></span><span class="line"><span class="cl">packer build -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/kubernetes.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/cni.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/containerd.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/ansible-args.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/goss-args.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/common.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/additional_components.json&#34;</span>  -color<span class="o">=</span><span class="nb">true</span>  -var-file<span class="o">=</span><span class="s2">&#34;packer/ova/packer-common.json&#34;</span> -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/ova/rhel-8.json&#34;</span> -var-file<span class="o">=</span><span class="s2">&#34;packer/ova/vsphere.json&#34;</span>  -except<span class="o">=</span><span class="nb">local</span> -only<span class="o">=</span>vsphere-iso -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/tkg.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/vsphere.json&#34;</span>  -only<span class="o">=</span>vsphere packer/ova/packer-node.json
</span></span><span class="line"><span class="cl">vsphere: output will be in this color.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Retrieving <span class="nv">ISO</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Trying ./rhel-8.7-x86_64-dvd.iso
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Trying ./rhel-8.7-x86_64-dvd.iso?checksum<span class="o">=</span>sha256%3Aa6a7418a75d721cc696d3cbdd648b5248808e7fef0f8742f518e43b46fa08139
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: ./rhel-8.7-x86_64-dvd.iso?checksum<span class="o">=</span>sha256%3Aa6a7418a75d721cc696d3cbdd648b5248808e7fef0f8742f518e43b46fa08139 <span class="o">=</span>&gt; /home/imagebuilder/rhel-8.7-x86_64-dvd.iso
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Uploading rhel-8.7-x86_64-dvd.iso to packer_cache/rhel-8.7-x86_64-dvd.iso
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Creating VM...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Customizing hardware...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Mounting ISO images...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Adding configuration parameters...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Starting HTTP server on port <span class="nv">8709</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Set boot order temporary...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Power on VM...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Waiting 10s <span class="k">for</span> boot...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: HTTP server is working at http://10.253.126.163:8709/
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Typing boot command...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Waiting <span class="k">for</span> IP...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: IP address: 10.253.126.195
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Using SSH communicator to connect: 10.253.126.195
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Waiting <span class="k">for</span> SSH to become available...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Connected to SSH!
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with shell script: ./packer/files/flatcar/scripts/bootstrap-flatcar.sh
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with Ansible...
</span></span><span class="line"><span class="cl">    vsphere: Setting up proxy adapter <span class="k">for</span> Ansible....
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Executing Ansible: ansible-playbook -e <span class="nv">packer_build_name</span><span class="o">=</span><span class="s2">&#34;vsphere&#34;</span> -e packer_*****_type<span class="o">=</span>vsphere-iso -e <span class="nv">packer_http_addr</span><span class="o">=</span>10.253.126.163:8709 --ssh-extra-args <span class="s1">&#39;-o IdentitiesOnly=yes&#39;</span> --extra-vars <span class="nv">containerd_url</span><span class="o">=</span>http://10.253.126.163:3000/files/containerd/cri-containerd-v1.6.6+vmware.2.linux-amd64.tar <span class="nv">containerd_sha256</span><span class="o">=</span>48f4327570dd7543464a28893160ab3bc9719ed2553f0a529a884b40f6dafd29 <span class="nv">pause_image</span><span class="o">=</span>projects.registry.vmware.com/tkg/pause:3.6 <span class="nv">containerd_additional_settings</span><span class="o">=</span> <span class="nv">containerd_cri_socket</span><span class="o">=</span>/var/run/containerd/containerd.sock <span class="nv">containerd_version</span><span class="o">=</span>v1.6.6+vmware.2 <span class="nv">crictl_url</span><span class="o">=</span> <span class="nv">crictl_sha256</span><span class="o">=</span> <span class="nv">crictl_source_type</span><span class="o">=</span>pkg <span class="nv">custom_role_names</span><span class="o">=</span><span class="s2">&#34;/home/image*****/tkg&#34;</span> <span class="nv">firstboot_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">firstboot_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">disable_public_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">extra_debs</span><span class="o">=</span><span class="s2">&#34;nfs-common unzip apparmor apparmor-utils sysstat&#34;</span> <span class="nv">extra_repos</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">extra_rpms</span><span class="o">=</span><span class="s2">&#34;sysstat&#34;</span> <span class="nv">http_proxy</span><span class="o">=</span> <span class="nv">https_proxy</span><span class="o">=</span> <span class="nv">kubeadm_template</span><span class="o">=</span>etc/kubeadm.yml <span class="nv">kubernetes_cni_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/cni_plugins <span class="nv">kubernetes_cni_http_checksum</span><span class="o">=</span> <span class="nv">kubernetes_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/kubernetes <span class="nv">kubernetes_container_registry</span><span class="o">=</span>projects.registry.vmware.com/tkg <span class="nv">kubernetes_rpm_repo</span><span class="o">=</span>https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64 <span class="nv">kubernetes_rpm_gpg_key</span><span class="o">=</span><span class="s2">&#34;https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg&#34;</span> <span class="nv">kubernetes_rpm_gpg_check</span><span class="o">=</span>True <span class="nv">kubernetes_deb_repo</span><span class="o">=</span><span class="s2">&#34;https://apt.kubernetes.io/ kubernetes-xenial&#34;</span> <span class="nv">kubernetes_deb_gpg_key</span><span class="o">=</span>https://packages.cloud.google.com/apt/doc/apt-key.gpg <span class="nv">kubernetes_cni_deb_version</span><span class="o">=</span>1.1.1-00 <span class="nv">kubernetes_cni_rpm_version</span><span class="o">=</span>1.1.1-0 <span class="nv">kubernetes_cni_semver</span><span class="o">=</span>v1.1.1+vmware.7 <span class="nv">kubernetes_cni_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_semver</span><span class="o">=</span>v1.23.10+vmware.1 <span class="nv">kubernetes_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_load_additional_imgs</span><span class="o">=</span><span class="nb">true</span> <span class="nv">kubernetes_deb_version</span><span class="o">=</span>1.23.10-00 <span class="nv">kubernetes_rpm_version</span><span class="o">=</span>1.23.10-0 <span class="nv">no_proxy</span><span class="o">=</span> <span class="nv">pip_conf_file</span><span class="o">=</span> <span class="nv">python_path</span><span class="o">=</span> <span class="nv">redhat_epel_rpm</span><span class="o">=</span>https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm <span class="nv">epel_rpm_gpg_key</span><span class="o">=</span>https://dl.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-8 <span class="nv">reenable_public_repos</span><span class="o">=</span><span class="nb">true</span> <span class="nv">remove_extra_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">systemd_prefix</span><span class="o">=</span>/usr/lib/systemd <span class="nv">sysusr_prefix</span><span class="o">=</span>/usr <span class="nv">sysusrlocal_prefix</span><span class="o">=</span>/usr/local <span class="nv">load_additional_components</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images_list</span><span class="o">=</span> <span class="nv">additional_url_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_url_images_list</span><span class="o">=</span> <span class="nv">additional_executables</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_executables_list</span><span class="o">=</span> <span class="nv">additional_executables_destination_path</span><span class="o">=</span> <span class="nv">build_target</span><span class="o">=</span>virt <span class="nv">amazon_ssm_agent_rpm</span><span class="o">=</span> --extra-vars <span class="nv">guestinfo_datasource_slug</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo <span class="nv">guestinfo_datasource_ref</span><span class="o">=</span>v1.4.1 <span class="nv">guestinfo_datasource_script</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo/v1.4.1/install.sh --extra-vars  -e <span class="nv">ansible_ssh_private_key_file</span><span class="o">=</span>/tmp/ansible-key1071931383 -i /tmp/packer-provisioner-ansible1131624432 /home/image*****/ansible/firstboot.yml
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY <span class="o">[</span>all<span class="o">]</span> *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>Gathering Facts<span class="o">]</span> *********************************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : firstboot<span class="o">]</span> ************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY RECAP *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere: default                    : <span class="nv">ok</span><span class="o">=</span><span class="m">1</span>    <span class="nv">changed</span><span class="o">=</span><span class="m">0</span>    <span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span>    <span class="nv">failed</span><span class="o">=</span><span class="m">0</span>    <span class="nv">skipped</span><span class="o">=</span><span class="m">80</span>   <span class="nv">rescued</span><span class="o">=</span><span class="m">0</span>    <span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with shell script: /tmp/packer-shell2138983735
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with Ansible...
</span></span><span class="line"><span class="cl">    vsphere: Setting up proxy adapter <span class="k">for</span> Ansible....
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Executing Ansible: ansible-playbook -e <span class="nv">packer_build_name</span><span class="o">=</span><span class="s2">&#34;vsphere&#34;</span> -e packer_*****_type<span class="o">=</span>vsphere-iso -e <span class="nv">packer_http_addr</span><span class="o">=</span>10.253.126.163:8709 --ssh-extra-args <span class="s1">&#39;-o IdentitiesOnly=yes&#39;</span> --extra-vars <span class="nv">containerd_url</span><span class="o">=</span>http://10.253.126.163:3000/files/containerd/cri-containerd-v1.6.6+vmware.2.linux-amd64.tar <span class="nv">containerd_sha256</span><span class="o">=</span>48f4327570dd7543464a28893160ab3bc9719ed2553f0a529a884b40f6dafd29 <span class="nv">pause_image</span><span class="o">=</span>projects.registry.vmware.com/tkg/pause:3.6 <span class="nv">containerd_additional_settings</span><span class="o">=</span> <span class="nv">containerd_cri_socket</span><span class="o">=</span>/var/run/containerd/containerd.sock <span class="nv">containerd_version</span><span class="o">=</span>v1.6.6+vmware.2 <span class="nv">crictl_url</span><span class="o">=</span> <span class="nv">crictl_sha256</span><span class="o">=</span> <span class="nv">crictl_source_type</span><span class="o">=</span>pkg <span class="nv">custom_role_names</span><span class="o">=</span><span class="s2">&#34;/home/image*****/tkg&#34;</span> <span class="nv">firstboot_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">firstboot_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">disable_public_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">extra_debs</span><span class="o">=</span><span class="s2">&#34;nfs-common unzip apparmor apparmor-utils sysstat&#34;</span> <span class="nv">extra_repos</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">extra_rpms</span><span class="o">=</span><span class="s2">&#34;sysstat&#34;</span> <span class="nv">http_proxy</span><span class="o">=</span> <span class="nv">https_proxy</span><span class="o">=</span> <span class="nv">kubeadm_template</span><span class="o">=</span>etc/kubeadm.yml <span class="nv">kubernetes_cni_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/cni_plugins <span class="nv">kubernetes_cni_http_checksum</span><span class="o">=</span> <span class="nv">kubernetes_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/kubernetes <span class="nv">kubernetes_container_registry</span><span class="o">=</span>projects.registry.vmware.com/tkg <span class="nv">kubernetes_rpm_repo</span><span class="o">=</span>https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64 <span class="nv">kubernetes_rpm_gpg_key</span><span class="o">=</span><span class="s2">&#34;https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg&#34;</span> <span class="nv">kubernetes_rpm_gpg_check</span><span class="o">=</span>True <span class="nv">kubernetes_deb_repo</span><span class="o">=</span><span class="s2">&#34;https://apt.kubernetes.io/ kubernetes-xenial&#34;</span> <span class="nv">kubernetes_deb_gpg_key</span><span class="o">=</span>https://packages.cloud.google.com/apt/doc/apt-key.gpg <span class="nv">kubernetes_cni_deb_version</span><span class="o">=</span>1.1.1-00 <span class="nv">kubernetes_cni_rpm_version</span><span class="o">=</span>1.1.1-0 <span class="nv">kubernetes_cni_semver</span><span class="o">=</span>v1.1.1+vmware.7 <span class="nv">kubernetes_cni_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_semver</span><span class="o">=</span>v1.23.10+vmware.1 <span class="nv">kubernetes_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_load_additional_imgs</span><span class="o">=</span><span class="nb">true</span> <span class="nv">kubernetes_deb_version</span><span class="o">=</span>1.23.10-00 <span class="nv">kubernetes_rpm_version</span><span class="o">=</span>1.23.10-0 <span class="nv">no_proxy</span><span class="o">=</span> <span class="nv">pip_conf_file</span><span class="o">=</span> <span class="nv">python_path</span><span class="o">=</span> <span class="nv">redhat_epel_rpm</span><span class="o">=</span>https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm <span class="nv">epel_rpm_gpg_key</span><span class="o">=</span>https://dl.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-8 <span class="nv">reenable_public_repos</span><span class="o">=</span><span class="nb">true</span> <span class="nv">remove_extra_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">systemd_prefix</span><span class="o">=</span>/usr/lib/systemd <span class="nv">sysusr_prefix</span><span class="o">=</span>/usr <span class="nv">sysusrlocal_prefix</span><span class="o">=</span>/usr/local <span class="nv">load_additional_components</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images_list</span><span class="o">=</span> <span class="nv">additional_url_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_url_images_list</span><span class="o">=</span> <span class="nv">additional_executables</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_executables_list</span><span class="o">=</span> <span class="nv">additional_executables_destination_path</span><span class="o">=</span> <span class="nv">build_target</span><span class="o">=</span>virt <span class="nv">amazon_ssm_agent_rpm</span><span class="o">=</span> --extra-vars <span class="nv">guestinfo_datasource_slug</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo <span class="nv">guestinfo_datasource_ref</span><span class="o">=</span>v1.4.1 <span class="nv">guestinfo_datasource_script</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo/v1.4.1/install.sh --extra-vars  -e <span class="nv">ansible_ssh_private_key_file</span><span class="o">=</span>/tmp/ansible-key652222647 -i /tmp/packer-provisioner-ansible1252180858 /home/image*****/ansible/node.yml
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY <span class="o">[</span>all<span class="o">]</span> *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>Gathering Facts<span class="o">]</span> *********************************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : node<span class="o">]</span> *****************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : RHEL subscription<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : import epel gpg key<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : add epel repo<span class="o">]</span> ***************************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : perform a yum update<span class="o">]</span> ********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : install baseline dependencies<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : install extra rpms<span class="o">]</span> **********************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Ensure overlay module is present<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Ensure br_netfilter module is present<span class="o">]</span> ****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Persist required kernel modules<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Set and persist kernel params<span class="o">]</span> ************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.bridge.bridge-nf-call-iptables&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.bridge.bridge-nf-call-ip6tables&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.ip_forward&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.conf.all.forwarding&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.conf.all.disable_ipv6&#39;</span>, <span class="s1">&#39;val&#39;</span>: 0<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.tcp_congestion_control&#39;</span>, <span class="s1">&#39;val&#39;</span>: <span class="s1">&#39;bbr&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;vm.overcommit_memory&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;kernel.panic&#39;</span>, <span class="s1">&#39;val&#39;</span>: 10<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;kernel.panic_on_oops&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Disable conntrackd service<span class="o">]</span> ***************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Ensure auditd is running and comes on at reboot<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : configure auditd rules <span class="k">for</span> containerd<span class="o">]</span> ****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Set transparent huge pages to madvise<span class="o">]</span> ****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Copy udev etcd network tuning rules<span class="o">]</span> ******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Copy etcd network tuning script<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : providers<span class="o">]</span> ************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : include_tasks<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere: included: /home/imagebuilder/ansible/roles/providers/tasks/vmware.yml <span class="k">for</span> default
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : include_tasks<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere: included: /home/imagebuilder/ansible/roles/providers/tasks/vmware-redhat.yml <span class="k">for</span> default
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Install cloud-init packages<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Download cloud-init datasource <span class="k">for</span> VMware Guestinfo<span class="o">]</span> *********
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Execute cloud-init-vmware.sh<span class="o">]</span> ********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Remove cloud-init-vmware.sh<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create provider vmtools config drop-in file<span class="o">]</span> *****************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create service to modify cloud-init config<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Copy cloud-init modification script<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Enable modify-cloud-init-cfg.service<span class="o">]</span> ************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Creates unit file directory <span class="k">for</span> cloud-final<span class="o">]</span> *****************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create cloud-final boot order drop in file<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Creates unit file directory <span class="k">for</span> cloud-config<span class="o">]</span> ****************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create cloud-final boot order drop in file<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Make sure all cloud init services are enabled<span class="o">]</span> ***************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-final<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-config<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-init<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-init-local<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create cloud-init config file<span class="o">]</span> *******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Ensure chrony is running<span class="o">]</span> ************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : containerd<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Install libseccomp package<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : download containerd<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create a directory <span class="k">if</span> it does not exist<span class="o">]</span> ********************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : unpack containerd<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : delete /opt/cni directory<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : delete /etc/cni directory<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Creates unit file directory<span class="o">]</span> ********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create containerd memory pressure drop in file<span class="o">]</span> *************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create containerd max tasks drop in file<span class="o">]</span> *******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create containerd http proxy conf file <span class="k">if</span> needed<span class="o">]</span> ***********
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Creates containerd config directory<span class="o">]</span> ************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Copy in containerd config file etc/containerd/config.toml<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Copy in crictl config<span class="o">]</span> **************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : start containerd service<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : delete tarball<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : kubernetes<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Symlink cri-tools<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>ctr<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>crictl<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>critest<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create CNI directory<span class="o">]</span> ***************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Download CNI tarball<span class="o">]</span> ***************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Install CNI<span class="o">]</span> ************************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Remove CNI tarball<span class="o">]</span> *****************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Download Kubernetes binaries<span class="o">]</span> *******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kubeadm<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kubectl<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kubelet<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Download Kubernetes images<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-apiserver.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-controller-manager.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-scheduler.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-proxy.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>pause.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>coredns.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>etcd.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Load Kubernetes images<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-apiserver.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-controller-manager.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-scheduler.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-proxy.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>pause.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>coredns.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>etcd.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Remove Kubernetes images<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-apiserver.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-controller-manager.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-scheduler.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-proxy.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>pause.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>coredns.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>etcd.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create Kubernetes manifests directory<span class="o">]</span> **********************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet sysconfig directory<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet drop-in directory<span class="o">]</span> ***************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet kubeadm drop-in file<span class="o">]</span> ************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet systemd file<span class="o">]</span> ********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet default config file<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Enable kubelet service<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create the Kubernetes version file<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Check <span class="k">if</span> Kubernetes container registry is using Amazon ECR<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : <span class="o">{{</span> role <span class="o">}}]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : Create /tkg-tmp space<span class="o">]</span> **************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : include_tasks<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: included: /home/imagebuilder/tkg/tasks/vsphere.yml <span class="k">for</span> default
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : Set extra kernel params <span class="k">for</span> GC threshhold<span class="o">]</span> ******
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.neigh.default.gc_thresh1&#39;</span>, <span class="s1">&#39;val&#39;</span>: 4096<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.neigh.default.gc_thresh1&#39;</span>, <span class="s1">&#39;val&#39;</span>: 4096<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.neigh.default.gc_thresh2&#39;</span>, <span class="s1">&#39;val&#39;</span>: 8192<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.neigh.default.gc_thresh2&#39;</span>, <span class="s1">&#39;val&#39;</span>: 8192<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.neigh.default.gc_thresh3&#39;</span>, <span class="s1">&#39;val&#39;</span>: 16384<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.neigh.default.gc_thresh3&#39;</span>, <span class="s1">&#39;val&#39;</span>: 16384<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : Ensure fs.file-max is set<span class="o">]</span> **********************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : sysprep<span class="o">]</span> **************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Define file modes<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Get installed packages<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : create the package list<span class="o">]</span> ***************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : exclude the packages from upgrades<span class="o">]</span> ****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove subscriptions<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Unregister system<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : clean <span class="nb">local</span> subscription data<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove yum package caches<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove yum package lists<span class="o">]</span> **************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Reset network interface IDs<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove the kickstart log<span class="o">]</span> **************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove containerd http proxy conf file <span class="k">if</span> needed<span class="o">]</span> **************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate machine id<span class="o">]</span> *******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/machine-id&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0444&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/machine-id&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0444&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate hostname file<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/hostname&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/hostname&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Set hostname<span class="o">]</span> **************************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Reset hosts file<span class="o">]</span> **********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate audit logs<span class="o">]</span> *******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/wtmp&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0664&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/lastlog&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/wtmp&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0664&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/lastlog&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove cloud-init lib dir and logs<span class="o">]</span> ****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/lib/cloud<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/log/cloud-init.log<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/log/cloud-init-output.log<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/run/cloud-init<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Find temp files<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Reset temp space<span class="o">]</span> **********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/tmp.fstab&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 34, <span class="s1">&#39;inode&#39;</span>: 917558, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677598881.515565, <span class="s1">&#39;mtime&#39;</span>: 1677598881.511565, <span class="s1">&#39;ctime&#39;</span>: 1677598881.511565, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/ks-script-womie7ev&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 701, <span class="s1">&#39;inode&#39;</span>: 917515, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677598324.1556787, <span class="s1">&#39;mtime&#39;</span>: 1677598324.1486788, <span class="s1">&#39;ctime&#39;</span>: 1677598324.1486788, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/ks-script-8szmx8f8&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 291, <span class="s1">&#39;inode&#39;</span>: 917517, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677598326.7056713, <span class="s1">&#39;mtime&#39;</span>: 1677598326.6976714, <span class="s1">&#39;ctime&#39;</span>: 1677598326.6976714, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/systemd-private-b8ce99c5a00043e28de4419f4592fc36-systemd-hostnamed.service-a3ZTtU&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 917547, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677598962.1890013, <span class="s1">&#39;mtime&#39;</span>: 1677598962.1890013, <span class="s1">&#39;ctime&#39;</span>: 1677598962.1890013, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/systemd-private-b8ce99c5a00043e28de4419f4592fc36-chronyd.service-1qPo5I&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 917523, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677598344.4472764, <span class="s1">&#39;mtime&#39;</span>: 1677598344.4472764, <span class="s1">&#39;ctime&#39;</span>: 1677598344.4472764, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/vmware-root_756-2965382642&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 917527, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 2, <span class="s1">&#39;atime&#39;</span>: 1677598344.8446836, <span class="s1">&#39;mtime&#39;</span>: 1677598344.8446836, <span class="s1">&#39;ctime&#39;</span>: 1677598344.8446836, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/ansible_find_payload_zej9mp7r&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 917531, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 2, <span class="s1">&#39;atime&#39;</span>: 1677598971.9629292, <span class="s1">&#39;mtime&#39;</span>: 1677598971.9639292, <span class="s1">&#39;ctime&#39;</span>: 1677598971.9639292, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/tmp/systemd-private-b8ce99c5a00043e28de4419f4592fc36-systemd-hostnamed.service-xvJeOq&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 1050059, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677598962.1890013, <span class="s1">&#39;mtime&#39;</span>: 1677598962.1900015, <span class="s1">&#39;ctime&#39;</span>: 1677598962.1900015, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/tmp/systemd-private-b8ce99c5a00043e28de4419f4592fc36-chronyd.service-CiirL0&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 1050453, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677598344.4472764, <span class="s1">&#39;mtime&#39;</span>: 1677598344.4472764, <span class="s1">&#39;ctime&#39;</span>: 1677598344.4472764, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: <span class="o">[</span>WARNING<span class="o">]</span>: Skipped <span class="s1">&#39;/lib/netplan&#39;</span> path due to this access issue: <span class="s1">&#39;/lib/netplan&#39;</span>
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Find netplan files<span class="o">]</span> ********************************************
</span></span><span class="line"><span class="cl">    vsphere: is not a directory
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere: <span class="o">[</span>WARNING<span class="o">]</span>: Skipped <span class="s1">&#39;/etc/netplan&#39;</span> path due to this access issue: <span class="s1">&#39;/etc/netplan&#39;</span>
</span></span><span class="line"><span class="cl">    vsphere: is not a directory
</span></span><span class="line"><span class="cl">    vsphere: <span class="o">[</span>WARNING<span class="o">]</span>: Skipped <span class="s1">&#39;/run/netplan&#39;</span> path due to this access issue: <span class="s1">&#39;/run/netplan&#39;</span>
</span></span><span class="line"><span class="cl">    vsphere: is not a directory
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Find SSH host keys<span class="o">]</span> ********************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove SSH host keys<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ecdsa_key.pub&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 162, <span class="s1">&#39;inode&#39;</span>: 787156, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677598344.7996838, <span class="s1">&#39;mtime&#39;</span>: 1677598344.4712763, <span class="s1">&#39;ctime&#39;</span>: 1677598344.4872763, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ecdsa_key&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0640&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 995, <span class="s1">&#39;size&#39;</span>: 480, <span class="s1">&#39;inode&#39;</span>: 787155, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677598344.7996838, <span class="s1">&#39;mtime&#39;</span>: 1677598344.4712763, <span class="s1">&#39;ctime&#39;</span>: 1677598344.4812763, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;ssh_keys&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ed25519_key&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0640&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 995, <span class="s1">&#39;size&#39;</span>: 387, <span class="s1">&#39;inode&#39;</span>: 787153, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677598344.7996838, <span class="s1">&#39;mtime&#39;</span>: 1677598344.4712763, <span class="s1">&#39;ctime&#39;</span>: 1677598344.4852762, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;ssh_keys&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_rsa_key.pub&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 554, <span class="s1">&#39;inode&#39;</span>: 787158, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677598344.7996838, <span class="s1">&#39;mtime&#39;</span>: 1677598344.7286837, <span class="s1">&#39;ctime&#39;</span>: 1677598344.7676837, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_rsa_key&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0640&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 995, <span class="s1">&#39;size&#39;</span>: 2578, <span class="s1">&#39;inode&#39;</span>: 787157, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677598344.7986836, <span class="s1">&#39;mtime&#39;</span>: 1677598344.7286837, <span class="s1">&#39;ctime&#39;</span>: 1677598344.7676837, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;ssh_keys&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ed25519_key.pub&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 82, <span class="s1">&#39;inode&#39;</span>: 787154, <span class="s1">&#39;dev&#39;</span>: 2049, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677598344.7996838, <span class="s1">&#39;mtime&#39;</span>: 1677598344.4712763, <span class="s1">&#39;ctime&#39;</span>: 1677598344.4872763, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove SSH authorized users<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/root/.ssh/authorized_keys&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/home/builder/.ssh/authorized_keys&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate all remaining log files in /var/log<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Delete all logrotated log zips<span class="o">]</span> ********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate shell history<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/root/.bash_history&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/home/builder/.bash_history&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Rotate journalctl to archive logs<span class="o">]</span> *****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove archived journalctl logs<span class="o">]</span> *******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY RECAP *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere: default                    : <span class="nv">ok</span><span class="o">=</span><span class="m">100</span>  <span class="nv">changed</span><span class="o">=</span><span class="m">77</span>   <span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span>    <span class="nv">failed</span><span class="o">=</span><span class="m">0</span>    <span class="nv">skipped</span><span class="o">=</span><span class="m">208</span>  <span class="nv">rescued</span><span class="o">=</span><span class="m">0</span>    <span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with <span class="nv">Goss</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Configured to run on Linux
</span></span><span class="line"><span class="cl">    vsphere: Creating directory: /tkg-tmp/goss
</span></span><span class="line"><span class="cl">    vsphere: Installing Goss from, https://github.com/aelsabbahy/goss/releases/download/v0.3.16/goss-linux-amd64
</span></span><span class="line"><span class="cl">    vsphere: Downloading Goss to /tkg-tmp/goss-linux-amd64
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  <span class="nv">Current</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:                                  Dload  Upload   Total   Spent    Left  <span class="nv">Speed</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:   <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>      <span class="m">0</span>      <span class="m">0</span> --:--:-- --:--:-- --:--:--     <span class="nv">0</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:   <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>      <span class="m">0</span>      <span class="m">0</span> --:--:-- --:--:-- --:--:--     <span class="nv">0</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: <span class="m">100</span> 11.8M  <span class="m">100</span> 11.8M    <span class="m">0</span>     <span class="m">0</span>  2901k      <span class="m">0</span>  0:00:04  0:00:04 --:--:-- 4025k
</span></span><span class="line"><span class="cl">    vsphere: goss version v0.3.16
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Uploading goss tests...
</span></span><span class="line"><span class="cl">    vsphere: Inline variables are --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;rhel&#34;,&#34;OS_VERSION&#34;:&#34;8&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span>
</span></span><span class="line"><span class="cl">    vsphere: Uploading Dir /home/imagebuilder/goss
</span></span><span class="line"><span class="cl">    vsphere: Creating directory: /tkg-tmp/goss/goss
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running goss tests...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running GOSS render command: <span class="nb">cd</span> /tkg-tmp/goss <span class="o">&amp;&amp;</span>  /tkg-tmp/goss-linux-amd64 --gossfile goss/goss.yaml  --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;rhel&#34;,&#34;OS_VERSION&#34;:&#34;8&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span> render &gt; /tmp/goss-spec.yaml
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: file error: <span class="nb">read</span> goss/goss.yaml: is a <span class="nv">directory</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Goss render <span class="nv">failed</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Inspect mode on : proceeding without failing <span class="nv">Packer</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running GOSS render debug command: <span class="nb">cd</span> /tkg-tmp/goss <span class="o">&amp;&amp;</span>  /tkg-tmp/goss-linux-amd64 --gossfile goss/goss.yaml  --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;rhel&#34;,&#34;OS_VERSION&#34;:&#34;8&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span> render -d &gt; /tmp/debug-goss-spec.yaml
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: file error: <span class="nb">read</span> goss/goss.yaml: is a <span class="nv">directory</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Goss render debug <span class="nv">failed</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Inspect mode on : proceeding without failing <span class="nv">Packer</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running GOSS validate command: <span class="nb">cd</span> /tkg-tmp/goss <span class="o">&amp;&amp;</span> sudo  /tkg-tmp/goss-linux-amd64 --gossfile goss/goss.yaml  --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;rhel&#34;,&#34;OS_VERSION&#34;:&#34;8&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span> validate --retry-timeout 0s --sleep 1s -f json -o pretty
</span></span><span class="line"><span class="cl">    vsphere: Error: file error: <span class="nb">read</span> goss/goss.yaml: is a <span class="nv">directory</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Goss validate <span class="nv">failed</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Inspect mode on : proceeding without failing <span class="nv">Packer</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Downloading spec file and debug info
</span></span><span class="line"><span class="cl">    vsphere: Downloading Goss specs from, /tmp/goss-spec.yaml and /tmp/debug-goss-spec.yaml to current <span class="nv">dir</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Executing shutdown command...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Deleting Floppy drives...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Eject CD-ROM drives...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Convert VM into template...
</span></span><span class="line"><span class="cl">    vsphere: Starting export...
</span></span><span class="line"><span class="cl">    vsphere: Downloading: rhel-8-kube-v1.23.10_vmware.1-disk-0.vmdk
</span></span><span class="line"><span class="cl">    vsphere: Exporting file: rhel-8-kube-v1.23.10_vmware.1-disk-0.vmdk
</span></span><span class="line"><span class="cl">    vsphere: Writing ovf...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Clear boot order...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running post-processor: packer-manifest <span class="o">(</span><span class="nb">type</span> manifest<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running post-processor: vsphere <span class="o">(</span><span class="nb">type</span> shell-local<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Running <span class="nb">local</span> shell script: /tmp/packer-shell4251240128
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Opening OVF source: rhel-8-kube-v1.23.10+vmware.1.ovf
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Opening OVA target: rhel-8-kube-v1.23.10+vmware.1.ova
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Writing OVA package: rhel-8-kube-v1.23.10+vmware.1.ova
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Transfer Completed
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Warning:
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>:  - No manifest file found.
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>:  - No supported manifest<span class="o">(</span>sha1, sha256, sha512<span class="o">)</span> entry found <span class="k">for</span>: <span class="s1">&#39;rhel-8-kube-v1.23.10_vmware.1-disk-0.vmdk&#39;</span>.
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Completed successfully
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: <span class="nb">cd</span> .
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: loaded rhel-8-kube-v1.23.10+vmware.1
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: create ovf rhel-8-kube-v1.23.10+vmware.1.ovf
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: creating OVA from rhel-8-kube-v1.23.10+vmware.1.ovf using ovftool
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: create ova checksum rhel-8-kube-v1.23.10+vmware.1.ova.sha256
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running post-processor: custom-post-processor <span class="o">(</span><span class="nb">type</span> shell-local<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Running <span class="nb">local</span> shell script: /tmp/packer-shell2087900433
</span></span><span class="line"><span class="cl">Build <span class="s1">&#39;vsphere&#39;</span> finished after <span class="m">25</span> minutes <span class="m">32</span> seconds.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; Wait completed after <span class="m">25</span> minutes <span class="m">32</span> <span class="nv">seconds</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; Builds finished. The artifacts of successful builds are:
</span></span><span class="line"><span class="cl">--&gt; vsphere: rhel-8-kube-v1.23.10_vmware.1
</span></span><span class="line"><span class="cl">--&gt; vsphere: rhel-8-kube-v1.23.10_vmware.1
</span></span><span class="line"><span class="cl">--&gt; vsphere: rhel-8-kube-v1.23.10_vmware.1
</span></span><span class="line"><span class="cl">--&gt; vsphere: rhel-8-kube-v1.23.10_vmware.1
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## output 폴더 OVA 생성</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 1.6 </span>
</span></span><span class="line"><span class="cl">ls output/rhel-8-kube-v1.23.10_vmware.1/
</span></span><span class="line"><span class="cl">packer-manifest.json  rhel-8-kube-v1.23.10+vmware.1.ova  rhel-8-kube-v1.23.10+vmware.1.ova.sha256  rhel-8-kube-v1.23.10+vmware.1.ovf  rhel-8-kube-v1.23.10_vmware.1-disk-0.vmdk  rhel-8-kube-v1.23.10_vmware.1.ovf
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 2.1</span>
</span></span><span class="line"><span class="cl">ls output/rhel-8-kube-v1.24.9_vmware.1/
</span></span><span class="line"><span class="cl">packer-manifest.json  rhel-8-kube-v1.24.9_vmware.1-disk-0.vmdk  rhel-8-kube-v1.24.9+vmware.1.ova  rhel-8-kube-v1.24.9+vmware.1.ova.sha256  rhel-8-kube-v1.24.9+vmware.1.ovf  rhel-8-kube-v1.24.9_vmware.1.ovf
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<h2 id="5-photon-custom-image-생성">5. Photon Custom Image 생성</h2>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>LOG<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">   1
</span><span class="lnt">   2
</span><span class="lnt">   3
</span><span class="lnt">   4
</span><span class="lnt">   5
</span><span class="lnt">   6
</span><span class="lnt">   7
</span><span class="lnt">   8
</span><span class="lnt">   9
</span><span class="lnt">  10
</span><span class="lnt">  11
</span><span class="lnt">  12
</span><span class="lnt">  13
</span><span class="lnt">  14
</span><span class="lnt">  15
</span><span class="lnt">  16
</span><span class="lnt">  17
</span><span class="lnt">  18
</span><span class="lnt">  19
</span><span class="lnt">  20
</span><span class="lnt">  21
</span><span class="lnt">  22
</span><span class="lnt">  23
</span><span class="lnt">  24
</span><span class="lnt">  25
</span><span class="lnt">  26
</span><span class="lnt">  27
</span><span class="lnt">  28
</span><span class="lnt">  29
</span><span class="lnt">  30
</span><span class="lnt">  31
</span><span class="lnt">  32
</span><span class="lnt">  33
</span><span class="lnt">  34
</span><span class="lnt">  35
</span><span class="lnt">  36
</span><span class="lnt">  37
</span><span class="lnt">  38
</span><span class="lnt">  39
</span><span class="lnt">  40
</span><span class="lnt">  41
</span><span class="lnt">  42
</span><span class="lnt">  43
</span><span class="lnt">  44
</span><span class="lnt">  45
</span><span class="lnt">  46
</span><span class="lnt">  47
</span><span class="lnt">  48
</span><span class="lnt">  49
</span><span class="lnt">  50
</span><span class="lnt">  51
</span><span class="lnt">  52
</span><span class="lnt">  53
</span><span class="lnt">  54
</span><span class="lnt">  55
</span><span class="lnt">  56
</span><span class="lnt">  57
</span><span class="lnt">  58
</span><span class="lnt">  59
</span><span class="lnt">  60
</span><span class="lnt">  61
</span><span class="lnt">  62
</span><span class="lnt">  63
</span><span class="lnt">  64
</span><span class="lnt">  65
</span><span class="lnt">  66
</span><span class="lnt">  67
</span><span class="lnt">  68
</span><span class="lnt">  69
</span><span class="lnt">  70
</span><span class="lnt">  71
</span><span class="lnt">  72
</span><span class="lnt">  73
</span><span class="lnt">  74
</span><span class="lnt">  75
</span><span class="lnt">  76
</span><span class="lnt">  77
</span><span class="lnt">  78
</span><span class="lnt">  79
</span><span class="lnt">  80
</span><span class="lnt">  81
</span><span class="lnt">  82
</span><span class="lnt">  83
</span><span class="lnt">  84
</span><span class="lnt">  85
</span><span class="lnt">  86
</span><span class="lnt">  87
</span><span class="lnt">  88
</span><span class="lnt">  89
</span><span class="lnt">  90
</span><span class="lnt">  91
</span><span class="lnt">  92
</span><span class="lnt">  93
</span><span class="lnt">  94
</span><span class="lnt">  95
</span><span class="lnt">  96
</span><span class="lnt">  97
</span><span class="lnt">  98
</span><span class="lnt">  99
</span><span class="lnt"> 100
</span><span class="lnt"> 101
</span><span class="lnt"> 102
</span><span class="lnt"> 103
</span><span class="lnt"> 104
</span><span class="lnt"> 105
</span><span class="lnt"> 106
</span><span class="lnt"> 107
</span><span class="lnt"> 108
</span><span class="lnt"> 109
</span><span class="lnt"> 110
</span><span class="lnt"> 111
</span><span class="lnt"> 112
</span><span class="lnt"> 113
</span><span class="lnt"> 114
</span><span class="lnt"> 115
</span><span class="lnt"> 116
</span><span class="lnt"> 117
</span><span class="lnt"> 118
</span><span class="lnt"> 119
</span><span class="lnt"> 120
</span><span class="lnt"> 121
</span><span class="lnt"> 122
</span><span class="lnt"> 123
</span><span class="lnt"> 124
</span><span class="lnt"> 125
</span><span class="lnt"> 126
</span><span class="lnt"> 127
</span><span class="lnt"> 128
</span><span class="lnt"> 129
</span><span class="lnt"> 130
</span><span class="lnt"> 131
</span><span class="lnt"> 132
</span><span class="lnt"> 133
</span><span class="lnt"> 134
</span><span class="lnt"> 135
</span><span class="lnt"> 136
</span><span class="lnt"> 137
</span><span class="lnt"> 138
</span><span class="lnt"> 139
</span><span class="lnt"> 140
</span><span class="lnt"> 141
</span><span class="lnt"> 142
</span><span class="lnt"> 143
</span><span class="lnt"> 144
</span><span class="lnt"> 145
</span><span class="lnt"> 146
</span><span class="lnt"> 147
</span><span class="lnt"> 148
</span><span class="lnt"> 149
</span><span class="lnt"> 150
</span><span class="lnt"> 151
</span><span class="lnt"> 152
</span><span class="lnt"> 153
</span><span class="lnt"> 154
</span><span class="lnt"> 155
</span><span class="lnt"> 156
</span><span class="lnt"> 157
</span><span class="lnt"> 158
</span><span class="lnt"> 159
</span><span class="lnt"> 160
</span><span class="lnt"> 161
</span><span class="lnt"> 162
</span><span class="lnt"> 163
</span><span class="lnt"> 164
</span><span class="lnt"> 165
</span><span class="lnt"> 166
</span><span class="lnt"> 167
</span><span class="lnt"> 168
</span><span class="lnt"> 169
</span><span class="lnt"> 170
</span><span class="lnt"> 171
</span><span class="lnt"> 172
</span><span class="lnt"> 173
</span><span class="lnt"> 174
</span><span class="lnt"> 175
</span><span class="lnt"> 176
</span><span class="lnt"> 177
</span><span class="lnt"> 178
</span><span class="lnt"> 179
</span><span class="lnt"> 180
</span><span class="lnt"> 181
</span><span class="lnt"> 182
</span><span class="lnt"> 183
</span><span class="lnt"> 184
</span><span class="lnt"> 185
</span><span class="lnt"> 186
</span><span class="lnt"> 187
</span><span class="lnt"> 188
</span><span class="lnt"> 189
</span><span class="lnt"> 190
</span><span class="lnt"> 191
</span><span class="lnt"> 192
</span><span class="lnt"> 193
</span><span class="lnt"> 194
</span><span class="lnt"> 195
</span><span class="lnt"> 196
</span><span class="lnt"> 197
</span><span class="lnt"> 198
</span><span class="lnt"> 199
</span><span class="lnt"> 200
</span><span class="lnt"> 201
</span><span class="lnt"> 202
</span><span class="lnt"> 203
</span><span class="lnt"> 204
</span><span class="lnt"> 205
</span><span class="lnt"> 206
</span><span class="lnt"> 207
</span><span class="lnt"> 208
</span><span class="lnt"> 209
</span><span class="lnt"> 210
</span><span class="lnt"> 211
</span><span class="lnt"> 212
</span><span class="lnt"> 213
</span><span class="lnt"> 214
</span><span class="lnt"> 215
</span><span class="lnt"> 216
</span><span class="lnt"> 217
</span><span class="lnt"> 218
</span><span class="lnt"> 219
</span><span class="lnt"> 220
</span><span class="lnt"> 221
</span><span class="lnt"> 222
</span><span class="lnt"> 223
</span><span class="lnt"> 224
</span><span class="lnt"> 225
</span><span class="lnt"> 226
</span><span class="lnt"> 227
</span><span class="lnt"> 228
</span><span class="lnt"> 229
</span><span class="lnt"> 230
</span><span class="lnt"> 231
</span><span class="lnt"> 232
</span><span class="lnt"> 233
</span><span class="lnt"> 234
</span><span class="lnt"> 235
</span><span class="lnt"> 236
</span><span class="lnt"> 237
</span><span class="lnt"> 238
</span><span class="lnt"> 239
</span><span class="lnt"> 240
</span><span class="lnt"> 241
</span><span class="lnt"> 242
</span><span class="lnt"> 243
</span><span class="lnt"> 244
</span><span class="lnt"> 245
</span><span class="lnt"> 246
</span><span class="lnt"> 247
</span><span class="lnt"> 248
</span><span class="lnt"> 249
</span><span class="lnt"> 250
</span><span class="lnt"> 251
</span><span class="lnt"> 252
</span><span class="lnt"> 253
</span><span class="lnt"> 254
</span><span class="lnt"> 255
</span><span class="lnt"> 256
</span><span class="lnt"> 257
</span><span class="lnt"> 258
</span><span class="lnt"> 259
</span><span class="lnt"> 260
</span><span class="lnt"> 261
</span><span class="lnt"> 262
</span><span class="lnt"> 263
</span><span class="lnt"> 264
</span><span class="lnt"> 265
</span><span class="lnt"> 266
</span><span class="lnt"> 267
</span><span class="lnt"> 268
</span><span class="lnt"> 269
</span><span class="lnt"> 270
</span><span class="lnt"> 271
</span><span class="lnt"> 272
</span><span class="lnt"> 273
</span><span class="lnt"> 274
</span><span class="lnt"> 275
</span><span class="lnt"> 276
</span><span class="lnt"> 277
</span><span class="lnt"> 278
</span><span class="lnt"> 279
</span><span class="lnt"> 280
</span><span class="lnt"> 281
</span><span class="lnt"> 282
</span><span class="lnt"> 283
</span><span class="lnt"> 284
</span><span class="lnt"> 285
</span><span class="lnt"> 286
</span><span class="lnt"> 287
</span><span class="lnt"> 288
</span><span class="lnt"> 289
</span><span class="lnt"> 290
</span><span class="lnt"> 291
</span><span class="lnt"> 292
</span><span class="lnt"> 293
</span><span class="lnt"> 294
</span><span class="lnt"> 295
</span><span class="lnt"> 296
</span><span class="lnt"> 297
</span><span class="lnt"> 298
</span><span class="lnt"> 299
</span><span class="lnt"> 300
</span><span class="lnt"> 301
</span><span class="lnt"> 302
</span><span class="lnt"> 303
</span><span class="lnt"> 304
</span><span class="lnt"> 305
</span><span class="lnt"> 306
</span><span class="lnt"> 307
</span><span class="lnt"> 308
</span><span class="lnt"> 309
</span><span class="lnt"> 310
</span><span class="lnt"> 311
</span><span class="lnt"> 312
</span><span class="lnt"> 313
</span><span class="lnt"> 314
</span><span class="lnt"> 315
</span><span class="lnt"> 316
</span><span class="lnt"> 317
</span><span class="lnt"> 318
</span><span class="lnt"> 319
</span><span class="lnt"> 320
</span><span class="lnt"> 321
</span><span class="lnt"> 322
</span><span class="lnt"> 323
</span><span class="lnt"> 324
</span><span class="lnt"> 325
</span><span class="lnt"> 326
</span><span class="lnt"> 327
</span><span class="lnt"> 328
</span><span class="lnt"> 329
</span><span class="lnt"> 330
</span><span class="lnt"> 331
</span><span class="lnt"> 332
</span><span class="lnt"> 333
</span><span class="lnt"> 334
</span><span class="lnt"> 335
</span><span class="lnt"> 336
</span><span class="lnt"> 337
</span><span class="lnt"> 338
</span><span class="lnt"> 339
</span><span class="lnt"> 340
</span><span class="lnt"> 341
</span><span class="lnt"> 342
</span><span class="lnt"> 343
</span><span class="lnt"> 344
</span><span class="lnt"> 345
</span><span class="lnt"> 346
</span><span class="lnt"> 347
</span><span class="lnt"> 348
</span><span class="lnt"> 349
</span><span class="lnt"> 350
</span><span class="lnt"> 351
</span><span class="lnt"> 352
</span><span class="lnt"> 353
</span><span class="lnt"> 354
</span><span class="lnt"> 355
</span><span class="lnt"> 356
</span><span class="lnt"> 357
</span><span class="lnt"> 358
</span><span class="lnt"> 359
</span><span class="lnt"> 360
</span><span class="lnt"> 361
</span><span class="lnt"> 362
</span><span class="lnt"> 363
</span><span class="lnt"> 364
</span><span class="lnt"> 365
</span><span class="lnt"> 366
</span><span class="lnt"> 367
</span><span class="lnt"> 368
</span><span class="lnt"> 369
</span><span class="lnt"> 370
</span><span class="lnt"> 371
</span><span class="lnt"> 372
</span><span class="lnt"> 373
</span><span class="lnt"> 374
</span><span class="lnt"> 375
</span><span class="lnt"> 376
</span><span class="lnt"> 377
</span><span class="lnt"> 378
</span><span class="lnt"> 379
</span><span class="lnt"> 380
</span><span class="lnt"> 381
</span><span class="lnt"> 382
</span><span class="lnt"> 383
</span><span class="lnt"> 384
</span><span class="lnt"> 385
</span><span class="lnt"> 386
</span><span class="lnt"> 387
</span><span class="lnt"> 388
</span><span class="lnt"> 389
</span><span class="lnt"> 390
</span><span class="lnt"> 391
</span><span class="lnt"> 392
</span><span class="lnt"> 393
</span><span class="lnt"> 394
</span><span class="lnt"> 395
</span><span class="lnt"> 396
</span><span class="lnt"> 397
</span><span class="lnt"> 398
</span><span class="lnt"> 399
</span><span class="lnt"> 400
</span><span class="lnt"> 401
</span><span class="lnt"> 402
</span><span class="lnt"> 403
</span><span class="lnt"> 404
</span><span class="lnt"> 405
</span><span class="lnt"> 406
</span><span class="lnt"> 407
</span><span class="lnt"> 408
</span><span class="lnt"> 409
</span><span class="lnt"> 410
</span><span class="lnt"> 411
</span><span class="lnt"> 412
</span><span class="lnt"> 413
</span><span class="lnt"> 414
</span><span class="lnt"> 415
</span><span class="lnt"> 416
</span><span class="lnt"> 417
</span><span class="lnt"> 418
</span><span class="lnt"> 419
</span><span class="lnt"> 420
</span><span class="lnt"> 421
</span><span class="lnt"> 422
</span><span class="lnt"> 423
</span><span class="lnt"> 424
</span><span class="lnt"> 425
</span><span class="lnt"> 426
</span><span class="lnt"> 427
</span><span class="lnt"> 428
</span><span class="lnt"> 429
</span><span class="lnt"> 430
</span><span class="lnt"> 431
</span><span class="lnt"> 432
</span><span class="lnt"> 433
</span><span class="lnt"> 434
</span><span class="lnt"> 435
</span><span class="lnt"> 436
</span><span class="lnt"> 437
</span><span class="lnt"> 438
</span><span class="lnt"> 439
</span><span class="lnt"> 440
</span><span class="lnt"> 441
</span><span class="lnt"> 442
</span><span class="lnt"> 443
</span><span class="lnt"> 444
</span><span class="lnt"> 445
</span><span class="lnt"> 446
</span><span class="lnt"> 447
</span><span class="lnt"> 448
</span><span class="lnt"> 449
</span><span class="lnt"> 450
</span><span class="lnt"> 451
</span><span class="lnt"> 452
</span><span class="lnt"> 453
</span><span class="lnt"> 454
</span><span class="lnt"> 455
</span><span class="lnt"> 456
</span><span class="lnt"> 457
</span><span class="lnt"> 458
</span><span class="lnt"> 459
</span><span class="lnt"> 460
</span><span class="lnt"> 461
</span><span class="lnt"> 462
</span><span class="lnt"> 463
</span><span class="lnt"> 464
</span><span class="lnt"> 465
</span><span class="lnt"> 466
</span><span class="lnt"> 467
</span><span class="lnt"> 468
</span><span class="lnt"> 469
</span><span class="lnt"> 470
</span><span class="lnt"> 471
</span><span class="lnt"> 472
</span><span class="lnt"> 473
</span><span class="lnt"> 474
</span><span class="lnt"> 475
</span><span class="lnt"> 476
</span><span class="lnt"> 477
</span><span class="lnt"> 478
</span><span class="lnt"> 479
</span><span class="lnt"> 480
</span><span class="lnt"> 481
</span><span class="lnt"> 482
</span><span class="lnt"> 483
</span><span class="lnt"> 484
</span><span class="lnt"> 485
</span><span class="lnt"> 486
</span><span class="lnt"> 487
</span><span class="lnt"> 488
</span><span class="lnt"> 489
</span><span class="lnt"> 490
</span><span class="lnt"> 491
</span><span class="lnt"> 492
</span><span class="lnt"> 493
</span><span class="lnt"> 494
</span><span class="lnt"> 495
</span><span class="lnt"> 496
</span><span class="lnt"> 497
</span><span class="lnt"> 498
</span><span class="lnt"> 499
</span><span class="lnt"> 500
</span><span class="lnt"> 501
</span><span class="lnt"> 502
</span><span class="lnt"> 503
</span><span class="lnt"> 504
</span><span class="lnt"> 505
</span><span class="lnt"> 506
</span><span class="lnt"> 507
</span><span class="lnt"> 508
</span><span class="lnt"> 509
</span><span class="lnt"> 510
</span><span class="lnt"> 511
</span><span class="lnt"> 512
</span><span class="lnt"> 513
</span><span class="lnt"> 514
</span><span class="lnt"> 515
</span><span class="lnt"> 516
</span><span class="lnt"> 517
</span><span class="lnt"> 518
</span><span class="lnt"> 519
</span><span class="lnt"> 520
</span><span class="lnt"> 521
</span><span class="lnt"> 522
</span><span class="lnt"> 523
</span><span class="lnt"> 524
</span><span class="lnt"> 525
</span><span class="lnt"> 526
</span><span class="lnt"> 527
</span><span class="lnt"> 528
</span><span class="lnt"> 529
</span><span class="lnt"> 530
</span><span class="lnt"> 531
</span><span class="lnt"> 532
</span><span class="lnt"> 533
</span><span class="lnt"> 534
</span><span class="lnt"> 535
</span><span class="lnt"> 536
</span><span class="lnt"> 537
</span><span class="lnt"> 538
</span><span class="lnt"> 539
</span><span class="lnt"> 540
</span><span class="lnt"> 541
</span><span class="lnt"> 542
</span><span class="lnt"> 543
</span><span class="lnt"> 544
</span><span class="lnt"> 545
</span><span class="lnt"> 546
</span><span class="lnt"> 547
</span><span class="lnt"> 548
</span><span class="lnt"> 549
</span><span class="lnt"> 550
</span><span class="lnt"> 551
</span><span class="lnt"> 552
</span><span class="lnt"> 553
</span><span class="lnt"> 554
</span><span class="lnt"> 555
</span><span class="lnt"> 556
</span><span class="lnt"> 557
</span><span class="lnt"> 558
</span><span class="lnt"> 559
</span><span class="lnt"> 560
</span><span class="lnt"> 561
</span><span class="lnt"> 562
</span><span class="lnt"> 563
</span><span class="lnt"> 564
</span><span class="lnt"> 565
</span><span class="lnt"> 566
</span><span class="lnt"> 567
</span><span class="lnt"> 568
</span><span class="lnt"> 569
</span><span class="lnt"> 570
</span><span class="lnt"> 571
</span><span class="lnt"> 572
</span><span class="lnt"> 573
</span><span class="lnt"> 574
</span><span class="lnt"> 575
</span><span class="lnt"> 576
</span><span class="lnt"> 577
</span><span class="lnt"> 578
</span><span class="lnt"> 579
</span><span class="lnt"> 580
</span><span class="lnt"> 581
</span><span class="lnt"> 582
</span><span class="lnt"> 583
</span><span class="lnt"> 584
</span><span class="lnt"> 585
</span><span class="lnt"> 586
</span><span class="lnt"> 587
</span><span class="lnt"> 588
</span><span class="lnt"> 589
</span><span class="lnt"> 590
</span><span class="lnt"> 591
</span><span class="lnt"> 592
</span><span class="lnt"> 593
</span><span class="lnt"> 594
</span><span class="lnt"> 595
</span><span class="lnt"> 596
</span><span class="lnt"> 597
</span><span class="lnt"> 598
</span><span class="lnt"> 599
</span><span class="lnt"> 600
</span><span class="lnt"> 601
</span><span class="lnt"> 602
</span><span class="lnt"> 603
</span><span class="lnt"> 604
</span><span class="lnt"> 605
</span><span class="lnt"> 606
</span><span class="lnt"> 607
</span><span class="lnt"> 608
</span><span class="lnt"> 609
</span><span class="lnt"> 610
</span><span class="lnt"> 611
</span><span class="lnt"> 612
</span><span class="lnt"> 613
</span><span class="lnt"> 614
</span><span class="lnt"> 615
</span><span class="lnt"> 616
</span><span class="lnt"> 617
</span><span class="lnt"> 618
</span><span class="lnt"> 619
</span><span class="lnt"> 620
</span><span class="lnt"> 621
</span><span class="lnt"> 622
</span><span class="lnt"> 623
</span><span class="lnt"> 624
</span><span class="lnt"> 625
</span><span class="lnt"> 626
</span><span class="lnt"> 627
</span><span class="lnt"> 628
</span><span class="lnt"> 629
</span><span class="lnt"> 630
</span><span class="lnt"> 631
</span><span class="lnt"> 632
</span><span class="lnt"> 633
</span><span class="lnt"> 634
</span><span class="lnt"> 635
</span><span class="lnt"> 636
</span><span class="lnt"> 637
</span><span class="lnt"> 638
</span><span class="lnt"> 639
</span><span class="lnt"> 640
</span><span class="lnt"> 641
</span><span class="lnt"> 642
</span><span class="lnt"> 643
</span><span class="lnt"> 644
</span><span class="lnt"> 645
</span><span class="lnt"> 646
</span><span class="lnt"> 647
</span><span class="lnt"> 648
</span><span class="lnt"> 649
</span><span class="lnt"> 650
</span><span class="lnt"> 651
</span><span class="lnt"> 652
</span><span class="lnt"> 653
</span><span class="lnt"> 654
</span><span class="lnt"> 655
</span><span class="lnt"> 656
</span><span class="lnt"> 657
</span><span class="lnt"> 658
</span><span class="lnt"> 659
</span><span class="lnt"> 660
</span><span class="lnt"> 661
</span><span class="lnt"> 662
</span><span class="lnt"> 663
</span><span class="lnt"> 664
</span><span class="lnt"> 665
</span><span class="lnt"> 666
</span><span class="lnt"> 667
</span><span class="lnt"> 668
</span><span class="lnt"> 669
</span><span class="lnt"> 670
</span><span class="lnt"> 671
</span><span class="lnt"> 672
</span><span class="lnt"> 673
</span><span class="lnt"> 674
</span><span class="lnt"> 675
</span><span class="lnt"> 676
</span><span class="lnt"> 677
</span><span class="lnt"> 678
</span><span class="lnt"> 679
</span><span class="lnt"> 680
</span><span class="lnt"> 681
</span><span class="lnt"> 682
</span><span class="lnt"> 683
</span><span class="lnt"> 684
</span><span class="lnt"> 685
</span><span class="lnt"> 686
</span><span class="lnt"> 687
</span><span class="lnt"> 688
</span><span class="lnt"> 689
</span><span class="lnt"> 690
</span><span class="lnt"> 691
</span><span class="lnt"> 692
</span><span class="lnt"> 693
</span><span class="lnt"> 694
</span><span class="lnt"> 695
</span><span class="lnt"> 696
</span><span class="lnt"> 697
</span><span class="lnt"> 698
</span><span class="lnt"> 699
</span><span class="lnt"> 700
</span><span class="lnt"> 701
</span><span class="lnt"> 702
</span><span class="lnt"> 703
</span><span class="lnt"> 704
</span><span class="lnt"> 705
</span><span class="lnt"> 706
</span><span class="lnt"> 707
</span><span class="lnt"> 708
</span><span class="lnt"> 709
</span><span class="lnt"> 710
</span><span class="lnt"> 711
</span><span class="lnt"> 712
</span><span class="lnt"> 713
</span><span class="lnt"> 714
</span><span class="lnt"> 715
</span><span class="lnt"> 716
</span><span class="lnt"> 717
</span><span class="lnt"> 718
</span><span class="lnt"> 719
</span><span class="lnt"> 720
</span><span class="lnt"> 721
</span><span class="lnt"> 722
</span><span class="lnt"> 723
</span><span class="lnt"> 724
</span><span class="lnt"> 725
</span><span class="lnt"> 726
</span><span class="lnt"> 727
</span><span class="lnt"> 728
</span><span class="lnt"> 729
</span><span class="lnt"> 730
</span><span class="lnt"> 731
</span><span class="lnt"> 732
</span><span class="lnt"> 733
</span><span class="lnt"> 734
</span><span class="lnt"> 735
</span><span class="lnt"> 736
</span><span class="lnt"> 737
</span><span class="lnt"> 738
</span><span class="lnt"> 739
</span><span class="lnt"> 740
</span><span class="lnt"> 741
</span><span class="lnt"> 742
</span><span class="lnt"> 743
</span><span class="lnt"> 744
</span><span class="lnt"> 745
</span><span class="lnt"> 746
</span><span class="lnt"> 747
</span><span class="lnt"> 748
</span><span class="lnt"> 749
</span><span class="lnt"> 750
</span><span class="lnt"> 751
</span><span class="lnt"> 752
</span><span class="lnt"> 753
</span><span class="lnt"> 754
</span><span class="lnt"> 755
</span><span class="lnt"> 756
</span><span class="lnt"> 757
</span><span class="lnt"> 758
</span><span class="lnt"> 759
</span><span class="lnt"> 760
</span><span class="lnt"> 761
</span><span class="lnt"> 762
</span><span class="lnt"> 763
</span><span class="lnt"> 764
</span><span class="lnt"> 765
</span><span class="lnt"> 766
</span><span class="lnt"> 767
</span><span class="lnt"> 768
</span><span class="lnt"> 769
</span><span class="lnt"> 770
</span><span class="lnt"> 771
</span><span class="lnt"> 772
</span><span class="lnt"> 773
</span><span class="lnt"> 774
</span><span class="lnt"> 775
</span><span class="lnt"> 776
</span><span class="lnt"> 777
</span><span class="lnt"> 778
</span><span class="lnt"> 779
</span><span class="lnt"> 780
</span><span class="lnt"> 781
</span><span class="lnt"> 782
</span><span class="lnt"> 783
</span><span class="lnt"> 784
</span><span class="lnt"> 785
</span><span class="lnt"> 786
</span><span class="lnt"> 787
</span><span class="lnt"> 788
</span><span class="lnt"> 789
</span><span class="lnt"> 790
</span><span class="lnt"> 791
</span><span class="lnt"> 792
</span><span class="lnt"> 793
</span><span class="lnt"> 794
</span><span class="lnt"> 795
</span><span class="lnt"> 796
</span><span class="lnt"> 797
</span><span class="lnt"> 798
</span><span class="lnt"> 799
</span><span class="lnt"> 800
</span><span class="lnt"> 801
</span><span class="lnt"> 802
</span><span class="lnt"> 803
</span><span class="lnt"> 804
</span><span class="lnt"> 805
</span><span class="lnt"> 806
</span><span class="lnt"> 807
</span><span class="lnt"> 808
</span><span class="lnt"> 809
</span><span class="lnt"> 810
</span><span class="lnt"> 811
</span><span class="lnt"> 812
</span><span class="lnt"> 813
</span><span class="lnt"> 814
</span><span class="lnt"> 815
</span><span class="lnt"> 816
</span><span class="lnt"> 817
</span><span class="lnt"> 818
</span><span class="lnt"> 819
</span><span class="lnt"> 820
</span><span class="lnt"> 821
</span><span class="lnt"> 822
</span><span class="lnt"> 823
</span><span class="lnt"> 824
</span><span class="lnt"> 825
</span><span class="lnt"> 826
</span><span class="lnt"> 827
</span><span class="lnt"> 828
</span><span class="lnt"> 829
</span><span class="lnt"> 830
</span><span class="lnt"> 831
</span><span class="lnt"> 832
</span><span class="lnt"> 833
</span><span class="lnt"> 834
</span><span class="lnt"> 835
</span><span class="lnt"> 836
</span><span class="lnt"> 837
</span><span class="lnt"> 838
</span><span class="lnt"> 839
</span><span class="lnt"> 840
</span><span class="lnt"> 841
</span><span class="lnt"> 842
</span><span class="lnt"> 843
</span><span class="lnt"> 844
</span><span class="lnt"> 845
</span><span class="lnt"> 846
</span><span class="lnt"> 847
</span><span class="lnt"> 848
</span><span class="lnt"> 849
</span><span class="lnt"> 850
</span><span class="lnt"> 851
</span><span class="lnt"> 852
</span><span class="lnt"> 853
</span><span class="lnt"> 854
</span><span class="lnt"> 855
</span><span class="lnt"> 856
</span><span class="lnt"> 857
</span><span class="lnt"> 858
</span><span class="lnt"> 859
</span><span class="lnt"> 860
</span><span class="lnt"> 861
</span><span class="lnt"> 862
</span><span class="lnt"> 863
</span><span class="lnt"> 864
</span><span class="lnt"> 865
</span><span class="lnt"> 866
</span><span class="lnt"> 867
</span><span class="lnt"> 868
</span><span class="lnt"> 869
</span><span class="lnt"> 870
</span><span class="lnt"> 871
</span><span class="lnt"> 872
</span><span class="lnt"> 873
</span><span class="lnt"> 874
</span><span class="lnt"> 875
</span><span class="lnt"> 876
</span><span class="lnt"> 877
</span><span class="lnt"> 878
</span><span class="lnt"> 879
</span><span class="lnt"> 880
</span><span class="lnt"> 881
</span><span class="lnt"> 882
</span><span class="lnt"> 883
</span><span class="lnt"> 884
</span><span class="lnt"> 885
</span><span class="lnt"> 886
</span><span class="lnt"> 887
</span><span class="lnt"> 888
</span><span class="lnt"> 889
</span><span class="lnt"> 890
</span><span class="lnt"> 891
</span><span class="lnt"> 892
</span><span class="lnt"> 893
</span><span class="lnt"> 894
</span><span class="lnt"> 895
</span><span class="lnt"> 896
</span><span class="lnt"> 897
</span><span class="lnt"> 898
</span><span class="lnt"> 899
</span><span class="lnt"> 900
</span><span class="lnt"> 901
</span><span class="lnt"> 902
</span><span class="lnt"> 903
</span><span class="lnt"> 904
</span><span class="lnt"> 905
</span><span class="lnt"> 906
</span><span class="lnt"> 907
</span><span class="lnt"> 908
</span><span class="lnt"> 909
</span><span class="lnt"> 910
</span><span class="lnt"> 911
</span><span class="lnt"> 912
</span><span class="lnt"> 913
</span><span class="lnt"> 914
</span><span class="lnt"> 915
</span><span class="lnt"> 916
</span><span class="lnt"> 917
</span><span class="lnt"> 918
</span><span class="lnt"> 919
</span><span class="lnt"> 920
</span><span class="lnt"> 921
</span><span class="lnt"> 922
</span><span class="lnt"> 923
</span><span class="lnt"> 924
</span><span class="lnt"> 925
</span><span class="lnt"> 926
</span><span class="lnt"> 927
</span><span class="lnt"> 928
</span><span class="lnt"> 929
</span><span class="lnt"> 930
</span><span class="lnt"> 931
</span><span class="lnt"> 932
</span><span class="lnt"> 933
</span><span class="lnt"> 934
</span><span class="lnt"> 935
</span><span class="lnt"> 936
</span><span class="lnt"> 937
</span><span class="lnt"> 938
</span><span class="lnt"> 939
</span><span class="lnt"> 940
</span><span class="lnt"> 941
</span><span class="lnt"> 942
</span><span class="lnt"> 943
</span><span class="lnt"> 944
</span><span class="lnt"> 945
</span><span class="lnt"> 946
</span><span class="lnt"> 947
</span><span class="lnt"> 948
</span><span class="lnt"> 949
</span><span class="lnt"> 950
</span><span class="lnt"> 951
</span><span class="lnt"> 952
</span><span class="lnt"> 953
</span><span class="lnt"> 954
</span><span class="lnt"> 955
</span><span class="lnt"> 956
</span><span class="lnt"> 957
</span><span class="lnt"> 958
</span><span class="lnt"> 959
</span><span class="lnt"> 960
</span><span class="lnt"> 961
</span><span class="lnt"> 962
</span><span class="lnt"> 963
</span><span class="lnt"> 964
</span><span class="lnt"> 965
</span><span class="lnt"> 966
</span><span class="lnt"> 967
</span><span class="lnt"> 968
</span><span class="lnt"> 969
</span><span class="lnt"> 970
</span><span class="lnt"> 971
</span><span class="lnt"> 972
</span><span class="lnt"> 973
</span><span class="lnt"> 974
</span><span class="lnt"> 975
</span><span class="lnt"> 976
</span><span class="lnt"> 977
</span><span class="lnt"> 978
</span><span class="lnt"> 979
</span><span class="lnt"> 980
</span><span class="lnt"> 981
</span><span class="lnt"> 982
</span><span class="lnt"> 983
</span><span class="lnt"> 984
</span><span class="lnt"> 985
</span><span class="lnt"> 986
</span><span class="lnt"> 987
</span><span class="lnt"> 988
</span><span class="lnt"> 989
</span><span class="lnt"> 990
</span><span class="lnt"> 991
</span><span class="lnt"> 992
</span><span class="lnt"> 993
</span><span class="lnt"> 994
</span><span class="lnt"> 995
</span><span class="lnt"> 996
</span><span class="lnt"> 997
</span><span class="lnt"> 998
</span><span class="lnt"> 999
</span><span class="lnt">1000
</span><span class="lnt">1001
</span><span class="lnt">1002
</span><span class="lnt">1003
</span><span class="lnt">1004
</span><span class="lnt">1005
</span><span class="lnt">1006
</span><span class="lnt">1007
</span><span class="lnt">1008
</span><span class="lnt">1009
</span><span class="lnt">1010
</span><span class="lnt">1011
</span><span class="lnt">1012
</span><span class="lnt">1013
</span><span class="lnt">1014
</span><span class="lnt">1015
</span><span class="lnt">1016
</span><span class="lnt">1017
</span><span class="lnt">1018
</span><span class="lnt">1019
</span><span class="lnt">1020
</span><span class="lnt">1021
</span><span class="lnt">1022
</span><span class="lnt">1023
</span><span class="lnt">1024
</span><span class="lnt">1025
</span><span class="lnt">1026
</span><span class="lnt">1027
</span><span class="lnt">1028
</span><span class="lnt">1029
</span><span class="lnt">1030
</span><span class="lnt">1031
</span><span class="lnt">1032
</span><span class="lnt">1033
</span><span class="lnt">1034
</span><span class="lnt">1035
</span><span class="lnt">1036
</span><span class="lnt">1037
</span><span class="lnt">1038
</span><span class="lnt">1039
</span><span class="lnt">1040
</span><span class="lnt">1041
</span><span class="lnt">1042
</span><span class="lnt">1043
</span><span class="lnt">1044
</span><span class="lnt">1045
</span><span class="lnt">1046
</span><span class="lnt">1047
</span><span class="lnt">1048
</span><span class="lnt">1049
</span><span class="lnt">1050
</span><span class="lnt">1051
</span><span class="lnt">1052
</span><span class="lnt">1053
</span><span class="lnt">1054
</span><span class="lnt">1055
</span><span class="lnt">1056
</span><span class="lnt">1057
</span><span class="lnt">1058
</span><span class="lnt">1059
</span><span class="lnt">1060
</span><span class="lnt">1061
</span><span class="lnt">1062
</span><span class="lnt">1063
</span><span class="lnt">1064
</span><span class="lnt">1065
</span><span class="lnt">1066
</span><span class="lnt">1067
</span><span class="lnt">1068
</span><span class="lnt">1069
</span><span class="lnt">1070
</span><span class="lnt">1071
</span><span class="lnt">1072
</span><span class="lnt">1073
</span><span class="lnt">1074
</span><span class="lnt">1075
</span><span class="lnt">1076
</span><span class="lnt">1077
</span><span class="lnt">1078
</span><span class="lnt">1079
</span><span class="lnt">1080
</span><span class="lnt">1081
</span><span class="lnt">1082
</span><span class="lnt">1083
</span><span class="lnt">1084
</span><span class="lnt">1085
</span><span class="lnt">1086
</span><span class="lnt">1087
</span><span class="lnt">1088
</span><span class="lnt">1089
</span><span class="lnt">1090
</span><span class="lnt">1091
</span><span class="lnt">1092
</span><span class="lnt">1093
</span><span class="lnt">1094
</span><span class="lnt">1095
</span><span class="lnt">1096
</span><span class="lnt">1097
</span><span class="lnt">1098
</span><span class="lnt">1099
</span><span class="lnt">1100
</span><span class="lnt">1101
</span><span class="lnt">1102
</span><span class="lnt">1103
</span><span class="lnt">1104
</span><span class="lnt">1105
</span><span class="lnt">1106
</span><span class="lnt">1107
</span><span class="lnt">1108
</span><span class="lnt">1109
</span><span class="lnt">1110
</span><span class="lnt">1111
</span><span class="lnt">1112
</span><span class="lnt">1113
</span><span class="lnt">1114
</span><span class="lnt">1115
</span><span class="lnt">1116
</span><span class="lnt">1117
</span><span class="lnt">1118
</span><span class="lnt">1119
</span><span class="lnt">1120
</span><span class="lnt">1121
</span><span class="lnt">1122
</span><span class="lnt">1123
</span><span class="lnt">1124
</span><span class="lnt">1125
</span><span class="lnt">1126
</span><span class="lnt">1127
</span><span class="lnt">1128
</span><span class="lnt">1129
</span><span class="lnt">1130
</span><span class="lnt">1131
</span><span class="lnt">1132
</span><span class="lnt">1133
</span><span class="lnt">1134
</span><span class="lnt">1135
</span><span class="lnt">1136
</span><span class="lnt">1137
</span><span class="lnt">1138
</span><span class="lnt">1139
</span><span class="lnt">1140
</span><span class="lnt">1141
</span><span class="lnt">1142
</span><span class="lnt">1143
</span><span class="lnt">1144
</span><span class="lnt">1145
</span><span class="lnt">1146
</span><span class="lnt">1147
</span><span class="lnt">1148
</span><span class="lnt">1149
</span><span class="lnt">1150
</span><span class="lnt">1151
</span><span class="lnt">1152
</span><span class="lnt">1153
</span><span class="lnt">1154
</span><span class="lnt">1155
</span><span class="lnt">1156
</span><span class="lnt">1157
</span><span class="lnt">1158
</span><span class="lnt">1159
</span><span class="lnt">1160
</span><span class="lnt">1161
</span><span class="lnt">1162
</span><span class="lnt">1163
</span><span class="lnt">1164
</span><span class="lnt">1165
</span><span class="lnt">1166
</span><span class="lnt">1167
</span><span class="lnt">1168
</span><span class="lnt">1169
</span><span class="lnt">1170
</span><span class="lnt">1171
</span><span class="lnt">1172
</span><span class="lnt">1173
</span><span class="lnt">1174
</span><span class="lnt">1175
</span><span class="lnt">1176
</span><span class="lnt">1177
</span><span class="lnt">1178
</span><span class="lnt">1179
</span><span class="lnt">1180
</span><span class="lnt">1181
</span><span class="lnt">1182
</span><span class="lnt">1183
</span><span class="lnt">1184
</span><span class="lnt">1185
</span><span class="lnt">1186
</span><span class="lnt">1187
</span><span class="lnt">1188
</span><span class="lnt">1189
</span><span class="lnt">1190
</span><span class="lnt">1191
</span><span class="lnt">1192
</span><span class="lnt">1193
</span><span class="lnt">1194
</span><span class="lnt">1195
</span><span class="lnt">1196
</span><span class="lnt">1197
</span><span class="lnt">1198
</span><span class="lnt">1199
</span><span class="lnt">1200
</span><span class="lnt">1201
</span><span class="lnt">1202
</span><span class="lnt">1203
</span><span class="lnt">1204
</span><span class="lnt">1205
</span><span class="lnt">1206
</span><span class="lnt">1207
</span><span class="lnt">1208
</span><span class="lnt">1209
</span><span class="lnt">1210
</span><span class="lnt">1211
</span><span class="lnt">1212
</span><span class="lnt">1213
</span><span class="lnt">1214
</span><span class="lnt">1215
</span><span class="lnt">1216
</span><span class="lnt">1217
</span><span class="lnt">1218
</span><span class="lnt">1219
</span><span class="lnt">1220
</span><span class="lnt">1221
</span><span class="lnt">1222
</span><span class="lnt">1223
</span><span class="lnt">1224
</span><span class="lnt">1225
</span><span class="lnt">1226
</span><span class="lnt">1227
</span><span class="lnt">1228
</span><span class="lnt">1229
</span><span class="lnt">1230
</span><span class="lnt">1231
</span><span class="lnt">1232
</span><span class="lnt">1233
</span><span class="lnt">1234
</span><span class="lnt">1235
</span><span class="lnt">1236
</span><span class="lnt">1237
</span><span class="lnt">1238
</span><span class="lnt">1239
</span><span class="lnt">1240
</span><span class="lnt">1241
</span><span class="lnt">1242
</span><span class="lnt">1243
</span><span class="lnt">1244
</span><span class="lnt">1245
</span><span class="lnt">1246
</span><span class="lnt">1247
</span><span class="lnt">1248
</span><span class="lnt">1249
</span><span class="lnt">1250
</span><span class="lnt">1251
</span><span class="lnt">1252
</span><span class="lnt">1253
</span><span class="lnt">1254
</span><span class="lnt">1255
</span><span class="lnt">1256
</span><span class="lnt">1257
</span><span class="lnt">1258
</span><span class="lnt">1259
</span><span class="lnt">1260
</span><span class="lnt">1261
</span><span class="lnt">1262
</span><span class="lnt">1263
</span><span class="lnt">1264
</span><span class="lnt">1265
</span><span class="lnt">1266
</span><span class="lnt">1267
</span><span class="lnt">1268
</span><span class="lnt">1269
</span><span class="lnt">1270
</span><span class="lnt">1271
</span><span class="lnt">1272
</span><span class="lnt">1273
</span><span class="lnt">1274
</span><span class="lnt">1275
</span><span class="lnt">1276
</span><span class="lnt">1277
</span><span class="lnt">1278
</span><span class="lnt">1279
</span><span class="lnt">1280
</span><span class="lnt">1281
</span><span class="lnt">1282
</span><span class="lnt">1283
</span><span class="lnt">1284
</span><span class="lnt">1285
</span><span class="lnt">1286
</span><span class="lnt">1287
</span><span class="lnt">1288
</span><span class="lnt">1289
</span><span class="lnt">1290
</span><span class="lnt">1291
</span><span class="lnt">1292
</span><span class="lnt">1293
</span><span class="lnt">1294
</span><span class="lnt">1295
</span><span class="lnt">1296
</span><span class="lnt">1297
</span><span class="lnt">1298
</span><span class="lnt">1299
</span><span class="lnt">1300
</span><span class="lnt">1301
</span><span class="lnt">1302
</span><span class="lnt">1303
</span><span class="lnt">1304
</span><span class="lnt">1305
</span><span class="lnt">1306
</span><span class="lnt">1307
</span><span class="lnt">1308
</span><span class="lnt">1309
</span><span class="lnt">1310
</span><span class="lnt">1311
</span><span class="lnt">1312
</span><span class="lnt">1313
</span><span class="lnt">1314
</span><span class="lnt">1315
</span><span class="lnt">1316
</span><span class="lnt">1317
</span><span class="lnt">1318
</span><span class="lnt">1319
</span><span class="lnt">1320
</span><span class="lnt">1321
</span><span class="lnt">1322
</span><span class="lnt">1323
</span><span class="lnt">1324
</span><span class="lnt">1325
</span><span class="lnt">1326
</span><span class="lnt">1327
</span><span class="lnt">1328
</span><span class="lnt">1329
</span><span class="lnt">1330
</span><span class="lnt">1331
</span><span class="lnt">1332
</span><span class="lnt">1333
</span><span class="lnt">1334
</span><span class="lnt">1335
</span><span class="lnt">1336
</span><span class="lnt">1337
</span><span class="lnt">1338
</span><span class="lnt">1339
</span><span class="lnt">1340
</span><span class="lnt">1341
</span><span class="lnt">1342
</span><span class="lnt">1343
</span><span class="lnt">1344
</span><span class="lnt">1345
</span><span class="lnt">1346
</span><span class="lnt">1347
</span><span class="lnt">1348
</span><span class="lnt">1349
</span><span class="lnt">1350
</span><span class="lnt">1351
</span><span class="lnt">1352
</span><span class="lnt">1353
</span><span class="lnt">1354
</span><span class="lnt">1355
</span><span class="lnt">1356
</span><span class="lnt">1357
</span><span class="lnt">1358
</span><span class="lnt">1359
</span><span class="lnt">1360
</span><span class="lnt">1361
</span><span class="lnt">1362
</span><span class="lnt">1363
</span><span class="lnt">1364
</span><span class="lnt">1365
</span><span class="lnt">1366
</span><span class="lnt">1367
</span><span class="lnt">1368
</span><span class="lnt">1369
</span><span class="lnt">1370
</span><span class="lnt">1371
</span><span class="lnt">1372
</span><span class="lnt">1373
</span><span class="lnt">1374
</span><span class="lnt">1375
</span><span class="lnt">1376
</span><span class="lnt">1377
</span><span class="lnt">1378
</span><span class="lnt">1379
</span><span class="lnt">1380
</span><span class="lnt">1381
</span><span class="lnt">1382
</span><span class="lnt">1383
</span><span class="lnt">1384
</span><span class="lnt">1385
</span><span class="lnt">1386
</span><span class="lnt">1387
</span><span class="lnt">1388
</span><span class="lnt">1389
</span><span class="lnt">1390
</span><span class="lnt">1391
</span><span class="lnt">1392
</span><span class="lnt">1393
</span><span class="lnt">1394
</span><span class="lnt">1395
</span><span class="lnt">1396
</span><span class="lnt">1397
</span><span class="lnt">1398
</span><span class="lnt">1399
</span><span class="lnt">1400
</span><span class="lnt">1401
</span><span class="lnt">1402
</span><span class="lnt">1403
</span><span class="lnt">1404
</span><span class="lnt">1405
</span><span class="lnt">1406
</span><span class="lnt">1407
</span><span class="lnt">1408
</span><span class="lnt">1409
</span><span class="lnt">1410
</span><span class="lnt">1411
</span><span class="lnt">1412
</span><span class="lnt">1413
</span><span class="lnt">1414
</span><span class="lnt">1415
</span><span class="lnt">1416
</span><span class="lnt">1417
</span><span class="lnt">1418
</span><span class="lnt">1419
</span><span class="lnt">1420
</span><span class="lnt">1421
</span><span class="lnt">1422
</span><span class="lnt">1423
</span><span class="lnt">1424
</span><span class="lnt">1425
</span><span class="lnt">1426
</span><span class="lnt">1427
</span><span class="lnt">1428
</span><span class="lnt">1429
</span><span class="lnt">1430
</span><span class="lnt">1431
</span><span class="lnt">1432
</span><span class="lnt">1433
</span><span class="lnt">1434
</span><span class="lnt">1435
</span><span class="lnt">1436
</span><span class="lnt">1437
</span><span class="lnt">1438
</span><span class="lnt">1439
</span><span class="lnt">1440
</span><span class="lnt">1441
</span><span class="lnt">1442
</span><span class="lnt">1443
</span><span class="lnt">1444
</span><span class="lnt">1445
</span><span class="lnt">1446
</span><span class="lnt">1447
</span><span class="lnt">1448
</span><span class="lnt">1449
</span><span class="lnt">1450
</span><span class="lnt">1451
</span><span class="lnt">1452
</span><span class="lnt">1453
</span><span class="lnt">1454
</span><span class="lnt">1455
</span><span class="lnt">1456
</span><span class="lnt">1457
</span><span class="lnt">1458
</span><span class="lnt">1459
</span><span class="lnt">1460
</span><span class="lnt">1461
</span><span class="lnt">1462
</span><span class="lnt">1463
</span><span class="lnt">1464
</span><span class="lnt">1465
</span><span class="lnt">1466
</span><span class="lnt">1467
</span><span class="lnt">1468
</span><span class="lnt">1469
</span><span class="lnt">1470
</span><span class="lnt">1471
</span><span class="lnt">1472
</span><span class="lnt">1473
</span><span class="lnt">1474
</span><span class="lnt">1475
</span><span class="lnt">1476
</span><span class="lnt">1477
</span><span class="lnt">1478
</span><span class="lnt">1479
</span><span class="lnt">1480
</span><span class="lnt">1481
</span><span class="lnt">1482
</span><span class="lnt">1483
</span><span class="lnt">1484
</span><span class="lnt">1485
</span><span class="lnt">1486
</span><span class="lnt">1487
</span><span class="lnt">1488
</span><span class="lnt">1489
</span><span class="lnt">1490
</span><span class="lnt">1491
</span><span class="lnt">1492
</span><span class="lnt">1493
</span><span class="lnt">1494
</span><span class="lnt">1495
</span><span class="lnt">1496
</span><span class="lnt">1497
</span><span class="lnt">1498
</span><span class="lnt">1499
</span><span class="lnt">1500
</span><span class="lnt">1501
</span><span class="lnt">1502
</span><span class="lnt">1503
</span><span class="lnt">1504
</span><span class="lnt">1505
</span><span class="lnt">1506
</span><span class="lnt">1507
</span><span class="lnt">1508
</span><span class="lnt">1509
</span><span class="lnt">1510
</span><span class="lnt">1511
</span><span class="lnt">1512
</span><span class="lnt">1513
</span><span class="lnt">1514
</span><span class="lnt">1515
</span><span class="lnt">1516
</span><span class="lnt">1517
</span><span class="lnt">1518
</span><span class="lnt">1519
</span><span class="lnt">1520
</span><span class="lnt">1521
</span><span class="lnt">1522
</span><span class="lnt">1523
</span><span class="lnt">1524
</span><span class="lnt">1525
</span><span class="lnt">1526
</span><span class="lnt">1527
</span><span class="lnt">1528
</span><span class="lnt">1529
</span><span class="lnt">1530
</span><span class="lnt">1531
</span><span class="lnt">1532
</span><span class="lnt">1533
</span><span class="lnt">1534
</span><span class="lnt">1535
</span><span class="lnt">1536
</span><span class="lnt">1537
</span><span class="lnt">1538
</span><span class="lnt">1539
</span><span class="lnt">1540
</span><span class="lnt">1541
</span><span class="lnt">1542
</span><span class="lnt">1543
</span><span class="lnt">1544
</span><span class="lnt">1545
</span><span class="lnt">1546
</span><span class="lnt">1547
</span><span class="lnt">1548
</span><span class="lnt">1549
</span><span class="lnt">1550
</span><span class="lnt">1551
</span><span class="lnt">1552
</span><span class="lnt">1553
</span><span class="lnt">1554
</span><span class="lnt">1555
</span><span class="lnt">1556
</span><span class="lnt">1557
</span><span class="lnt">1558
</span><span class="lnt">1559
</span><span class="lnt">1560
</span><span class="lnt">1561
</span><span class="lnt">1562
</span><span class="lnt">1563
</span><span class="lnt">1564
</span><span class="lnt">1565
</span><span class="lnt">1566
</span><span class="lnt">1567
</span><span class="lnt">1568
</span><span class="lnt">1569
</span><span class="lnt">1570
</span><span class="lnt">1571
</span><span class="lnt">1572
</span><span class="lnt">1573
</span><span class="lnt">1574
</span><span class="lnt">1575
</span><span class="lnt">1576
</span><span class="lnt">1577
</span><span class="lnt">1578
</span><span class="lnt">1579
</span><span class="lnt">1580
</span><span class="lnt">1581
</span><span class="lnt">1582
</span><span class="lnt">1583
</span><span class="lnt">1584
</span><span class="lnt">1585
</span><span class="lnt">1586
</span><span class="lnt">1587
</span><span class="lnt">1588
</span><span class="lnt">1589
</span><span class="lnt">1590
</span><span class="lnt">1591
</span><span class="lnt">1592
</span><span class="lnt">1593
</span><span class="lnt">1594
</span><span class="lnt">1595
</span><span class="lnt">1596
</span><span class="lnt">1597
</span><span class="lnt">1598
</span><span class="lnt">1599
</span><span class="lnt">1600
</span><span class="lnt">1601
</span><span class="lnt">1602
</span><span class="lnt">1603
</span><span class="lnt">1604
</span><span class="lnt">1605
</span><span class="lnt">1606
</span><span class="lnt">1607
</span><span class="lnt">1608
</span><span class="lnt">1609
</span><span class="lnt">1610
</span><span class="lnt">1611
</span><span class="lnt">1612
</span><span class="lnt">1613
</span><span class="lnt">1614
</span><span class="lnt">1615
</span><span class="lnt">1616
</span><span class="lnt">1617
</span><span class="lnt">1618
</span><span class="lnt">1619
</span><span class="lnt">1620
</span><span class="lnt">1621
</span><span class="lnt">1622
</span><span class="lnt">1623
</span><span class="lnt">1624
</span><span class="lnt">1625
</span><span class="lnt">1626
</span><span class="lnt">1627
</span><span class="lnt">1628
</span><span class="lnt">1629
</span><span class="lnt">1630
</span><span class="lnt">1631
</span><span class="lnt">1632
</span><span class="lnt">1633
</span><span class="lnt">1634
</span><span class="lnt">1635
</span><span class="lnt">1636
</span><span class="lnt">1637
</span><span class="lnt">1638
</span><span class="lnt">1639
</span><span class="lnt">1640
</span><span class="lnt">1641
</span><span class="lnt">1642
</span><span class="lnt">1643
</span><span class="lnt">1644
</span><span class="lnt">1645
</span><span class="lnt">1646
</span><span class="lnt">1647
</span><span class="lnt">1648
</span><span class="lnt">1649
</span><span class="lnt">1650
</span><span class="lnt">1651
</span><span class="lnt">1652
</span><span class="lnt">1653
</span><span class="lnt">1654
</span><span class="lnt">1655
</span><span class="lnt">1656
</span><span class="lnt">1657
</span><span class="lnt">1658
</span><span class="lnt">1659
</span><span class="lnt">1660
</span><span class="lnt">1661
</span><span class="lnt">1662
</span><span class="lnt">1663
</span><span class="lnt">1664
</span><span class="lnt">1665
</span><span class="lnt">1666
</span><span class="lnt">1667
</span><span class="lnt">1668
</span><span class="lnt">1669
</span><span class="lnt">1670
</span><span class="lnt">1671
</span><span class="lnt">1672
</span><span class="lnt">1673
</span><span class="lnt">1674
</span><span class="lnt">1675
</span><span class="lnt">1676
</span><span class="lnt">1677
</span><span class="lnt">1678
</span><span class="lnt">1679
</span><span class="lnt">1680
</span><span class="lnt">1681
</span><span class="lnt">1682
</span><span class="lnt">1683
</span><span class="lnt">1684
</span><span class="lnt">1685
</span><span class="lnt">1686
</span><span class="lnt">1687
</span><span class="lnt">1688
</span><span class="lnt">1689
</span><span class="lnt">1690
</span><span class="lnt">1691
</span><span class="lnt">1692
</span><span class="lnt">1693
</span><span class="lnt">1694
</span><span class="lnt">1695
</span><span class="lnt">1696
</span><span class="lnt">1697
</span><span class="lnt">1698
</span><span class="lnt">1699
</span><span class="lnt">1700
</span><span class="lnt">1701
</span><span class="lnt">1702
</span><span class="lnt">1703
</span><span class="lnt">1704
</span><span class="lnt">1705
</span><span class="lnt">1706
</span><span class="lnt">1707
</span><span class="lnt">1708
</span><span class="lnt">1709
</span><span class="lnt">1710
</span><span class="lnt">1711
</span><span class="lnt">1712
</span><span class="lnt">1713
</span><span class="lnt">1714
</span><span class="lnt">1715
</span><span class="lnt">1716
</span><span class="lnt">1717
</span><span class="lnt">1718
</span><span class="lnt">1719
</span><span class="lnt">1720
</span><span class="lnt">1721
</span><span class="lnt">1722
</span><span class="lnt">1723
</span><span class="lnt">1724
</span><span class="lnt">1725
</span><span class="lnt">1726
</span><span class="lnt">1727
</span><span class="lnt">1728
</span><span class="lnt">1729
</span><span class="lnt">1730
</span><span class="lnt">1731
</span><span class="lnt">1732
</span><span class="lnt">1733
</span><span class="lnt">1734
</span><span class="lnt">1735
</span><span class="lnt">1736
</span><span class="lnt">1737
</span><span class="lnt">1738
</span><span class="lnt">1739
</span><span class="lnt">1740
</span><span class="lnt">1741
</span><span class="lnt">1742
</span><span class="lnt">1743
</span><span class="lnt">1744
</span><span class="lnt">1745
</span><span class="lnt">1746
</span><span class="lnt">1747
</span><span class="lnt">1748
</span><span class="lnt">1749
</span><span class="lnt">1750
</span><span class="lnt">1751
</span><span class="lnt">1752
</span><span class="lnt">1753
</span><span class="lnt">1754
</span><span class="lnt">1755
</span><span class="lnt">1756
</span><span class="lnt">1757
</span><span class="lnt">1758
</span><span class="lnt">1759
</span><span class="lnt">1760
</span><span class="lnt">1761
</span><span class="lnt">1762
</span><span class="lnt">1763
</span><span class="lnt">1764
</span><span class="lnt">1765
</span><span class="lnt">1766
</span><span class="lnt">1767
</span><span class="lnt">1768
</span><span class="lnt">1769
</span><span class="lnt">1770
</span><span class="lnt">1771
</span><span class="lnt">1772
</span><span class="lnt">1773
</span><span class="lnt">1774
</span><span class="lnt">1775
</span><span class="lnt">1776
</span><span class="lnt">1777
</span><span class="lnt">1778
</span><span class="lnt">1779
</span><span class="lnt">1780
</span><span class="lnt">1781
</span><span class="lnt">1782
</span><span class="lnt">1783
</span><span class="lnt">1784
</span><span class="lnt">1785
</span><span class="lnt">1786
</span><span class="lnt">1787
</span><span class="lnt">1788
</span><span class="lnt">1789
</span><span class="lnt">1790
</span><span class="lnt">1791
</span><span class="lnt">1792
</span><span class="lnt">1793
</span><span class="lnt">1794
</span><span class="lnt">1795
</span><span class="lnt">1796
</span><span class="lnt">1797
</span><span class="lnt">1798
</span><span class="lnt">1799
</span><span class="lnt">1800
</span><span class="lnt">1801
</span><span class="lnt">1802
</span><span class="lnt">1803
</span><span class="lnt">1804
</span><span class="lnt">1805
</span><span class="lnt">1806
</span><span class="lnt">1807
</span><span class="lnt">1808
</span><span class="lnt">1809
</span><span class="lnt">1810
</span><span class="lnt">1811
</span><span class="lnt">1812
</span><span class="lnt">1813
</span><span class="lnt">1814
</span><span class="lnt">1815
</span><span class="lnt">1816
</span><span class="lnt">1817
</span><span class="lnt">1818
</span><span class="lnt">1819
</span><span class="lnt">1820
</span><span class="lnt">1821
</span><span class="lnt">1822
</span><span class="lnt">1823
</span><span class="lnt">1824
</span><span class="lnt">1825
</span><span class="lnt">1826
</span><span class="lnt">1827
</span><span class="lnt">1828
</span><span class="lnt">1829
</span><span class="lnt">1830
</span><span class="lnt">1831
</span><span class="lnt">1832
</span><span class="lnt">1833
</span><span class="lnt">1834
</span><span class="lnt">1835
</span><span class="lnt">1836
</span><span class="lnt">1837
</span><span class="lnt">1838
</span><span class="lnt">1839
</span><span class="lnt">1840
</span><span class="lnt">1841
</span><span class="lnt">1842
</span><span class="lnt">1843
</span><span class="lnt">1844
</span><span class="lnt">1845
</span><span class="lnt">1846
</span><span class="lnt">1847
</span><span class="lnt">1848
</span><span class="lnt">1849
</span><span class="lnt">1850
</span><span class="lnt">1851
</span><span class="lnt">1852
</span><span class="lnt">1853
</span><span class="lnt">1854
</span><span class="lnt">1855
</span><span class="lnt">1856
</span><span class="lnt">1857
</span><span class="lnt">1858
</span><span class="lnt">1859
</span><span class="lnt">1860
</span><span class="lnt">1861
</span><span class="lnt">1862
</span><span class="lnt">1863
</span><span class="lnt">1864
</span><span class="lnt">1865
</span><span class="lnt">1866
</span><span class="lnt">1867
</span><span class="lnt">1868
</span><span class="lnt">1869
</span><span class="lnt">1870
</span><span class="lnt">1871
</span><span class="lnt">1872
</span><span class="lnt">1873
</span><span class="lnt">1874
</span><span class="lnt">1875
</span><span class="lnt">1876
</span><span class="lnt">1877
</span><span class="lnt">1878
</span><span class="lnt">1879
</span><span class="lnt">1880
</span><span class="lnt">1881
</span><span class="lnt">1882
</span><span class="lnt">1883
</span><span class="lnt">1884
</span><span class="lnt">1885
</span><span class="lnt">1886
</span><span class="lnt">1887
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## Photon Custom Image 생성시 아래와 같은 Log를 볼 수 있다, vCenter에서는 Template으로 생성이 되는 것을 확인 할 수 있다.</span>
</span></span><span class="line"><span class="cl">hack/ensure-ansible.sh
</span></span><span class="line"><span class="cl">Starting galaxy collection install process
</span></span><span class="line"><span class="cl">Nothing to <span class="k">do</span>. All requested collections are already installed. If you want to reinstall them, consider using <span class="sb">`</span>--force<span class="sb">`</span>.
</span></span><span class="line"><span class="cl">hack/ensure-ansible-windows.sh
</span></span><span class="line"><span class="cl">hack/ensure-packer.sh
</span></span><span class="line"><span class="cl">hack/ensure-goss.sh
</span></span><span class="line"><span class="cl">Right version of binary present
</span></span><span class="line"><span class="cl">hack/ensure-ovftool.sh
</span></span><span class="line"><span class="cl">packer build -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/kubernetes.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/cni.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/containerd.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/ansible-args.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/goss-args.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/common.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/config/additional_components.json&#34;</span>  -color<span class="o">=</span><span class="nb">true</span>  -var-file<span class="o">=</span><span class="s2">&#34;packer/ova/packer-common.json&#34;</span> -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/packer/ova/photon-3.json&#34;</span> -var-file<span class="o">=</span><span class="s2">&#34;packer/ova/vsphere.json&#34;</span>  -except<span class="o">=</span><span class="nb">local</span> -only<span class="o">=</span>vsphere-iso -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/tkg.json&#34;</span>  -var-file<span class="o">=</span><span class="s2">&#34;/home/imagebuilder/vsphere.json&#34;</span>  -only<span class="o">=</span>vsphere packer/ova/packer-node.json
</span></span><span class="line"><span class="cl">vsphere: output will be in this color.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: File /home/imagebuilder/.cache/packer/2d88648c04e690990b2940ca3710b0baadf15256.iso already uploaded<span class="p">;</span> <span class="nv">continuing</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: File <span class="o">[</span>vsanDatastore<span class="o">]</span> packer_cache//2d88648c04e690990b2940ca3710b0baadf15256.iso already exists<span class="p">;</span> skipping upload.
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Creating VM...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Customizing hardware...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Mounting ISO images...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Adding configuration parameters...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Starting HTTP server on port <span class="nv">8897</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Set boot order temporary...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Power on VM...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Waiting 10s <span class="k">for</span> boot...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: HTTP server is working at http://10.253.126.163:8897/
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Typing boot command...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Waiting <span class="k">for</span> IP...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: IP address: 10.253.126.198
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Using SSH communicator to connect: 10.253.126.198
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Waiting <span class="k">for</span> SSH to become available...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Connected to SSH!
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with shell script: ./packer/files/flatcar/scripts/bootstrap-flatcar.sh
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with Ansible...
</span></span><span class="line"><span class="cl">    vsphere: Setting up proxy adapter <span class="k">for</span> Ansible....
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Executing Ansible: ansible-playbook -e <span class="nv">packer_build_name</span><span class="o">=</span><span class="s2">&#34;vsphere&#34;</span> -e packer_*****_type<span class="o">=</span>vsphere-iso -e <span class="nv">packer_http_addr</span><span class="o">=</span>10.253.126.163:8897 --ssh-extra-args <span class="s1">&#39;-o IdentitiesOnly=yes&#39;</span> --extra-vars <span class="nv">containerd_url</span><span class="o">=</span>http://10.253.126.163:3000/files/containerd/cri-containerd-v1.6.6+vmware.2.linux-amd64.tar <span class="nv">containerd_sha256</span><span class="o">=</span>48f4327570dd7543464a28893160ab3bc9719ed2553f0a529a884b40f6dafd29 <span class="nv">pause_image</span><span class="o">=</span>projects.registry.vmware.com/tkg/pause:3.6 <span class="nv">containerd_additional_settings</span><span class="o">=</span> <span class="nv">containerd_cri_socket</span><span class="o">=</span>/var/run/containerd/containerd.sock <span class="nv">containerd_version</span><span class="o">=</span>v1.6.6+vmware.2 <span class="nv">crictl_url</span><span class="o">=</span> <span class="nv">crictl_sha256</span><span class="o">=</span> <span class="nv">crictl_source_type</span><span class="o">=</span>pkg <span class="nv">custom_role_names</span><span class="o">=</span><span class="s2">&#34;/home/image*****/tkg&#34;</span> <span class="nv">firstboot_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">firstboot_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">disable_public_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">extra_debs</span><span class="o">=</span><span class="s2">&#34;nfs-common unzip apparmor apparmor-utils sysstat&#34;</span> <span class="nv">extra_repos</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">extra_rpms</span><span class="o">=</span><span class="s2">&#34;sysstat&#34;</span> <span class="nv">http_proxy</span><span class="o">=</span> <span class="nv">https_proxy</span><span class="o">=</span> <span class="nv">kubeadm_template</span><span class="o">=</span>etc/kubeadm.yml <span class="nv">kubernetes_cni_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/cni_plugins <span class="nv">kubernetes_cni_http_checksum</span><span class="o">=</span> <span class="nv">kubernetes_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/kubernetes <span class="nv">kubernetes_container_registry</span><span class="o">=</span>projects.registry.vmware.com/tkg <span class="nv">kubernetes_rpm_repo</span><span class="o">=</span>https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64 <span class="nv">kubernetes_rpm_gpg_key</span><span class="o">=</span><span class="s2">&#34;https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg&#34;</span> <span class="nv">kubernetes_rpm_gpg_check</span><span class="o">=</span>True <span class="nv">kubernetes_deb_repo</span><span class="o">=</span><span class="s2">&#34;https://apt.kubernetes.io/ kubernetes-xenial&#34;</span> <span class="nv">kubernetes_deb_gpg_key</span><span class="o">=</span>https://packages.cloud.google.com/apt/doc/apt-key.gpg <span class="nv">kubernetes_cni_deb_version</span><span class="o">=</span>1.1.1-00 <span class="nv">kubernetes_cni_rpm_version</span><span class="o">=</span>1.1.1-0 <span class="nv">kubernetes_cni_semver</span><span class="o">=</span>v1.1.1+vmware.7 <span class="nv">kubernetes_cni_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_semver</span><span class="o">=</span>v1.23.10+vmware.1 <span class="nv">kubernetes_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_load_additional_imgs</span><span class="o">=</span><span class="nb">true</span> <span class="nv">kubernetes_deb_version</span><span class="o">=</span>1.23.10-00 <span class="nv">kubernetes_rpm_version</span><span class="o">=</span>1.23.10-0 <span class="nv">no_proxy</span><span class="o">=</span> <span class="nv">pip_conf_file</span><span class="o">=</span> <span class="nv">python_path</span><span class="o">=</span> <span class="nv">redhat_epel_rpm</span><span class="o">=</span>https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm <span class="nv">epel_rpm_gpg_key</span><span class="o">=</span> <span class="nv">reenable_public_repos</span><span class="o">=</span><span class="nb">true</span> <span class="nv">remove_extra_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">systemd_prefix</span><span class="o">=</span>/usr/lib/systemd <span class="nv">sysusr_prefix</span><span class="o">=</span>/usr <span class="nv">sysusrlocal_prefix</span><span class="o">=</span>/usr/local <span class="nv">load_additional_components</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images_list</span><span class="o">=</span> <span class="nv">additional_url_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_url_images_list</span><span class="o">=</span> <span class="nv">additional_executables</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_executables_list</span><span class="o">=</span> <span class="nv">additional_executables_destination_path</span><span class="o">=</span> <span class="nv">build_target</span><span class="o">=</span>virt <span class="nv">amazon_ssm_agent_rpm</span><span class="o">=</span> --extra-vars <span class="nv">guestinfo_datasource_slug</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo <span class="nv">guestinfo_datasource_ref</span><span class="o">=</span>v1.4.1 <span class="nv">guestinfo_datasource_script</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo/v1.4.1/install.sh --extra-vars  -e <span class="nv">ansible_ssh_private_key_file</span><span class="o">=</span>/tmp/ansible-key167164286 -i /tmp/packer-provisioner-ansible3699664147 /home/image*****/ansible/firstboot.yml
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY <span class="o">[</span>all<span class="o">]</span> *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: <span class="o">[</span>WARNING<span class="o">]</span>: Platform linux on host default is using the discovered Python
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>Gathering Facts<span class="o">]</span> *********************************************************
</span></span><span class="line"><span class="cl">    vsphere: interpreter at /usr/bin/python, but future installation of another Python
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere: interpreter could change the meaning of that path. See
</span></span><span class="line"><span class="cl">    vsphere: https://docs.ansible.com/ansible-
</span></span><span class="line"><span class="cl">    vsphere: core/2.11/reference_appendices/interpreter_discovery.html <span class="k">for</span> more information.
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : firstboot<span class="o">]</span> ************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : add bash_profile<span class="o">]</span> ************************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : Perform a tdnf distro-sync<span class="o">]</span> **************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : Concatenate the Photon RPMs<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : install extra RPMs<span class="o">]</span> **********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : Increase tmpfs size<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : reset iptables rules input<span class="o">]</span> **************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : reset ip6tables rules input<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>firstboot : include_tasks<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere: included: /home/imagebuilder/ansible/roles/firstboot/tasks/photon.yml <span class="k">for</span> default
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>firstboot : Set transparent huge pages to madvise<span class="o">]</span> ***********************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY RECAP *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere: default                    : <span class="nv">ok</span><span class="o">=</span><span class="m">10</span>   <span class="nv">changed</span><span class="o">=</span><span class="m">7</span>    <span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span>    <span class="nv">failed</span><span class="o">=</span><span class="m">0</span>    <span class="nv">skipped</span><span class="o">=</span><span class="m">72</span>   <span class="nv">rescued</span><span class="o">=</span><span class="m">0</span>    <span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with shell script: /tmp/packer-shell2422633172
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with Ansible...
</span></span><span class="line"><span class="cl">    vsphere: Setting up proxy adapter <span class="k">for</span> Ansible....
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Executing Ansible: ansible-playbook -e <span class="nv">packer_build_name</span><span class="o">=</span><span class="s2">&#34;vsphere&#34;</span> -e packer_*****_type<span class="o">=</span>vsphere-iso -e <span class="nv">packer_http_addr</span><span class="o">=</span>10.253.126.163:8897 --ssh-extra-args <span class="s1">&#39;-o IdentitiesOnly=yes&#39;</span> --extra-vars <span class="nv">containerd_url</span><span class="o">=</span>http://10.253.126.163:3000/files/containerd/cri-containerd-v1.6.6+vmware.2.linux-amd64.tar <span class="nv">containerd_sha256</span><span class="o">=</span>48f4327570dd7543464a28893160ab3bc9719ed2553f0a529a884b40f6dafd29 <span class="nv">pause_image</span><span class="o">=</span>projects.registry.vmware.com/tkg/pause:3.6 <span class="nv">containerd_additional_settings</span><span class="o">=</span> <span class="nv">containerd_cri_socket</span><span class="o">=</span>/var/run/containerd/containerd.sock <span class="nv">containerd_version</span><span class="o">=</span>v1.6.6+vmware.2 <span class="nv">crictl_url</span><span class="o">=</span> <span class="nv">crictl_sha256</span><span class="o">=</span> <span class="nv">crictl_source_type</span><span class="o">=</span>pkg <span class="nv">custom_role_names</span><span class="o">=</span><span class="s2">&#34;/home/image*****/tkg&#34;</span> <span class="nv">firstboot_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">firstboot_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_pre</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">node_custom_roles_post</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">disable_public_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">extra_debs</span><span class="o">=</span><span class="s2">&#34;nfs-common unzip apparmor apparmor-utils sysstat&#34;</span> <span class="nv">extra_repos</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">extra_rpms</span><span class="o">=</span><span class="s2">&#34;sysstat&#34;</span> <span class="nv">http_proxy</span><span class="o">=</span> <span class="nv">https_proxy</span><span class="o">=</span> <span class="nv">kubeadm_template</span><span class="o">=</span>etc/kubeadm.yml <span class="nv">kubernetes_cni_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/cni_plugins <span class="nv">kubernetes_cni_http_checksum</span><span class="o">=</span> <span class="nv">kubernetes_http_source</span><span class="o">=</span>http://10.253.126.163:3000/files/kubernetes <span class="nv">kubernetes_container_registry</span><span class="o">=</span>projects.registry.vmware.com/tkg <span class="nv">kubernetes_rpm_repo</span><span class="o">=</span>https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64 <span class="nv">kubernetes_rpm_gpg_key</span><span class="o">=</span><span class="s2">&#34;https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg&#34;</span> <span class="nv">kubernetes_rpm_gpg_check</span><span class="o">=</span>True <span class="nv">kubernetes_deb_repo</span><span class="o">=</span><span class="s2">&#34;https://apt.kubernetes.io/ kubernetes-xenial&#34;</span> <span class="nv">kubernetes_deb_gpg_key</span><span class="o">=</span>https://packages.cloud.google.com/apt/doc/apt-key.gpg <span class="nv">kubernetes_cni_deb_version</span><span class="o">=</span>1.1.1-00 <span class="nv">kubernetes_cni_rpm_version</span><span class="o">=</span>1.1.1-0 <span class="nv">kubernetes_cni_semver</span><span class="o">=</span>v1.1.1+vmware.7 <span class="nv">kubernetes_cni_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_semver</span><span class="o">=</span>v1.23.10+vmware.1 <span class="nv">kubernetes_source_type</span><span class="o">=</span>http <span class="nv">kubernetes_load_additional_imgs</span><span class="o">=</span><span class="nb">true</span> <span class="nv">kubernetes_deb_version</span><span class="o">=</span>1.23.10-00 <span class="nv">kubernetes_rpm_version</span><span class="o">=</span>1.23.10-0 <span class="nv">no_proxy</span><span class="o">=</span> <span class="nv">pip_conf_file</span><span class="o">=</span> <span class="nv">python_path</span><span class="o">=</span> <span class="nv">redhat_epel_rpm</span><span class="o">=</span>https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm <span class="nv">epel_rpm_gpg_key</span><span class="o">=</span> <span class="nv">reenable_public_repos</span><span class="o">=</span><span class="nb">true</span> <span class="nv">remove_extra_repos</span><span class="o">=</span><span class="nb">false</span> <span class="nv">systemd_prefix</span><span class="o">=</span>/usr/lib/systemd <span class="nv">sysusr_prefix</span><span class="o">=</span>/usr <span class="nv">sysusrlocal_prefix</span><span class="o">=</span>/usr/local <span class="nv">load_additional_components</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_registry_images_list</span><span class="o">=</span> <span class="nv">additional_url_images</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_url_images_list</span><span class="o">=</span> <span class="nv">additional_executables</span><span class="o">=</span><span class="nb">false</span> <span class="nv">additional_executables_list</span><span class="o">=</span> <span class="nv">additional_executables_destination_path</span><span class="o">=</span> <span class="nv">build_target</span><span class="o">=</span>virt <span class="nv">amazon_ssm_agent_rpm</span><span class="o">=</span> --extra-vars <span class="nv">guestinfo_datasource_slug</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo <span class="nv">guestinfo_datasource_ref</span><span class="o">=</span>v1.4.1 <span class="nv">guestinfo_datasource_script</span><span class="o">=</span>https://raw.githubusercontent.com/vmware/cloud-init-vmware-guestinfo/v1.4.1/install.sh --extra-vars  -e <span class="nv">ansible_ssh_private_key_file</span><span class="o">=</span>/tmp/ansible-key3066177402 -i /tmp/packer-provisioner-ansible1843978590 /home/image*****/ansible/node.yml
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY <span class="o">[</span>all<span class="o">]</span> *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: <span class="o">[</span>WARNING<span class="o">]</span>: Platform linux on host default is using the discovered Python
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>Gathering Facts<span class="o">]</span> *********************************************************
</span></span><span class="line"><span class="cl">    vsphere: interpreter at /usr/bin/python, but future installation of another Python
</span></span><span class="line"><span class="cl">    vsphere: interpreter could change the meaning of that path. See
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere: https://docs.ansible.com/ansible-
</span></span><span class="line"><span class="cl">    vsphere: core/2.11/reference_appendices/interpreter_discovery.html <span class="k">for</span> more information.
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : node<span class="o">]</span> *****************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : add bash_profile<span class="o">]</span> ************************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : Perform a tdnf distro-sync<span class="o">]</span> **************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : Concatenate the Photon RPMs<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : install baseline dependencies<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : install extra RPMs<span class="o">]</span> **********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : Increase tmpfs size<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : reset iptables rules input<span class="o">]</span> **************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>setup : reset ip6tables rules input<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Double TCP small queue limit to be the same as Ubuntu<span class="o">]</span> ************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Disable Apparmor service<span class="o">]</span> *****************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Disable Apparmor in kernel<span class="o">]</span> ***************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Ensure overlay module is present<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Ensure br_netfilter module is present<span class="o">]</span> ****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Persist required kernel modules<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Set and persist kernel params<span class="o">]</span> ************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.bridge.bridge-nf-call-iptables&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.bridge.bridge-nf-call-ip6tables&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.ip_forward&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.conf.all.forwarding&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.conf.all.disable_ipv6&#39;</span>, <span class="s1">&#39;val&#39;</span>: 0<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.tcp_congestion_control&#39;</span>, <span class="s1">&#39;val&#39;</span>: <span class="s1">&#39;bbr&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;vm.overcommit_memory&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;kernel.panic&#39;</span>, <span class="s1">&#39;val&#39;</span>: 10<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;kernel.panic_on_oops&#39;</span>, <span class="s1">&#39;val&#39;</span>: 1<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Disable conntrackd service<span class="o">]</span> ***************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Ensure auditd is running and comes on at reboot<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : configure auditd rules <span class="k">for</span> containerd<span class="o">]</span> ****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Copy udev etcd network tuning rules<span class="o">]</span> ******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>node : Copy etcd network tuning script<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : providers<span class="o">]</span> ************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : include_tasks<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere: included: /home/imagebuilder/ansible/roles/providers/tasks/vmware.yml <span class="k">for</span> default
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : include_tasks<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere: included: /home/imagebuilder/ansible/roles/providers/tasks/vmware-photon.yml <span class="k">for</span> default
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Install cloud-init and tools <span class="k">for</span> VMware Photon OS<span class="o">]</span> ***********
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Remove cloud-init /etc/cloud/cloud.cfg.d/99-disable-networking-config.cfg<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Install networkd-dispatcher service <span class="o">(</span>Download from <span class="nb">source</span><span class="o">)]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create needed directories<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;dir&#39;</span>: <span class="s1">&#39;/etc/conf.d&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;dir&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/carrier.d&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;dir&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/configured.d&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;dir&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/configuring.d&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;dir&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/degraded.d&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;dir&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/dormant.d&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;dir&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/no-carrier.d&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;dir&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/off.d&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;dir&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/routable.d&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Install networkd-dispatcher service <span class="o">(</span>Move files<span class="o">)]</span> ************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;src&#39;</span>: <span class="s1">&#39;/tmp/networkd-dispatcher-2.1/networkd-dispatcher&#39;</span>, <span class="s1">&#39;dest&#39;</span>: <span class="s1">&#39;/usr/bin&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;src&#39;</span>: <span class="s1">&#39;/tmp/networkd-dispatcher-2.1/networkd-dispatcher.service&#39;</span>, <span class="s1">&#39;dest&#39;</span>: <span class="s1">&#39;/etc/systemd/system&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;src&#39;</span>: <span class="s1">&#39;/tmp/networkd-dispatcher-2.1/networkd-dispatcher.conf&#39;</span>, <span class="s1">&#39;dest&#39;</span>: <span class="s1">&#39;/etc/conf.d&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Install networkd-dispatcher service <span class="o">(</span>Run networkd-dispatcher<span class="o">)]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Copy networkd-dispatcher scripts to add DHCP provided NTP servers<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;src&#39;</span>: <span class="s1">&#39;files/etc/networkd-dispatcher/routable.d/20-chrony.j2&#39;</span>, <span class="s1">&#39;dest&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/routable.d/20-chrony&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;src&#39;</span>: <span class="s1">&#39;files/etc/networkd-dispatcher/off.d/20-chrony.j2&#39;</span>, <span class="s1">&#39;dest&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/off.d/20-chrony&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;src&#39;</span>: <span class="s1">&#39;files/etc/networkd-dispatcher/no-carrier.d/20-chrony.j2&#39;</span>, <span class="s1">&#39;dest&#39;</span>: <span class="s1">&#39;/etc/networkd-dispatcher/no-carrier.d/20-chrony&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Copy chrony-helper script<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create provider vmtools config drop-in file<span class="o">]</span> *****************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create service to modify cloud-init config<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Copy cloud-init modification script<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Enable modify-cloud-init-cfg.service<span class="o">]</span> ************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Creates unit file directory <span class="k">for</span> cloud-final<span class="o">]</span> *****************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create cloud-final boot order drop in file<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Creates unit file directory <span class="k">for</span> cloud-config<span class="o">]</span> ****************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create cloud-final boot order drop in file<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Make sure all cloud init services are enabled<span class="o">]</span> ***************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-final<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-config<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-init<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>cloud-init-local<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Create cloud-init config file<span class="o">]</span> *******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>providers : Ensure chrony is running<span class="o">]</span> ************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : containerd<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Install libseccomp package<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : download containerd<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create a directory <span class="k">if</span> it does not exist<span class="o">]</span> ********************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : unpack containerd<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : delete /opt/cni directory<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : delete /etc/cni directory<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Creates unit file directory<span class="o">]</span> ********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create containerd memory pressure drop in file<span class="o">]</span> *************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create containerd max tasks drop in file<span class="o">]</span> *******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Create containerd http proxy conf file <span class="k">if</span> needed<span class="o">]</span> ***********
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Creates containerd config directory<span class="o">]</span> ************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Copy in containerd config file etc/containerd/config.toml<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : Copy in crictl config<span class="o">]</span> **************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : start containerd service<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>containerd : delete tarball<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : kubernetes<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Symlink cri-tools<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>ctr<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>crictl<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>critest<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create CNI directory<span class="o">]</span> ***************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Download CNI tarball<span class="o">]</span> ***************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Install CNI<span class="o">]</span> ************************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Remove CNI tarball<span class="o">]</span> *****************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Download Kubernetes binaries<span class="o">]</span> *******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kubeadm<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kubectl<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kubelet<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Download Kubernetes images<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-apiserver.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-controller-manager.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-scheduler.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-proxy.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>pause.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>coredns.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>etcd.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Load Kubernetes images<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-apiserver.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-controller-manager.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-scheduler.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-proxy.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>pause.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>coredns.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>etcd.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Remove Kubernetes images<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-apiserver.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-controller-manager.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-scheduler.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>kube-proxy.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>pause.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>coredns.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>etcd.tar<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create Kubernetes manifests directory<span class="o">]</span> **********************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet sysconfig directory<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet drop-in directory<span class="o">]</span> ***************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet kubeadm drop-in file<span class="o">]</span> ************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet systemd file<span class="o">]</span> ********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create kubelet default config file<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Enable kubelet service<span class="o">]</span> *************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Create the Kubernetes version file<span class="o">]</span> *************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>kubernetes : Check <span class="k">if</span> Kubernetes container registry is using Amazon ECR<span class="o">]</span> ***
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : <span class="o">{{</span> role <span class="o">}}]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : Create /tkg-tmp space<span class="o">]</span> **************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : include_tasks<span class="o">]</span> **********************************
</span></span><span class="line"><span class="cl">    vsphere: included: /home/imagebuilder/tkg/tasks/vsphere.yml <span class="k">for</span> default
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : Set extra kernel params <span class="k">for</span> GC threshhold<span class="o">]</span> ******
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.neigh.default.gc_thresh1&#39;</span>, <span class="s1">&#39;val&#39;</span>: 4096<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.neigh.default.gc_thresh1&#39;</span>, <span class="s1">&#39;val&#39;</span>: 4096<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.neigh.default.gc_thresh2&#39;</span>, <span class="s1">&#39;val&#39;</span>: 8192<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.neigh.default.gc_thresh2&#39;</span>, <span class="s1">&#39;val&#39;</span>: 8192<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv4.neigh.default.gc_thresh3&#39;</span>, <span class="s1">&#39;val&#39;</span>: 16384<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;param&#39;</span>: <span class="s1">&#39;net.ipv6.neigh.default.gc_thresh3&#39;</span>, <span class="s1">&#39;val&#39;</span>: 16384<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>/home/imagebuilder/tkg : Ensure fs.file-max is set<span class="o">]</span> **********************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>include_role : sysprep<span class="o">]</span> **************************************************
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Define file modes<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : <span class="nb">set</span> hostname<span class="o">]</span> **************************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove the kickstart log<span class="o">]</span> **************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Get installed packages<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : create a package list<span class="o">]</span> *****************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : exclude packages from upgrade<span class="o">]</span> *********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove tdnf package caches<span class="o">]</span> ************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Lock root account<span class="o">]</span> *********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove containerd http proxy conf file <span class="k">if</span> needed<span class="o">]</span> **************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate machine id<span class="o">]</span> *******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/machine-id&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0444&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/machine-id&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0444&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate hostname file<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/hostname&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/hostname&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Reset hosts file<span class="o">]</span> **********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate audit logs<span class="o">]</span> *******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/wtmp&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0664&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/lastlog&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;absent&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/wtmp&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0664&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/log/lastlog&#39;</span>, <span class="s1">&#39;state&#39;</span>: <span class="s1">&#39;touch&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove cloud-init lib dir and logs<span class="o">]</span> ****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/lib/cloud<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/log/cloud-init.log<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/log/cloud-init-output.log<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>/var/run/cloud-init<span class="o">)</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Find temp files<span class="o">]</span> ***********************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Reset temp space<span class="o">]</span> **********************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/tmp.fstab&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0640&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 34, <span class="s1">&#39;inode&#39;</span>: 57450, <span class="s1">&#39;dev&#39;</span>: 40, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677665217.6763215, <span class="s1">&#39;mtime&#39;</span>: 1677665217.6723216, <span class="s1">&#39;ctime&#39;</span>: 1677665217.6723216, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/ansible_find_payload_3hbfsyyc&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 60, <span class="s1">&#39;inode&#39;</span>: 63432, <span class="s1">&#39;dev&#39;</span>: 40, <span class="s1">&#39;nlink&#39;</span>: 2, <span class="s1">&#39;atime&#39;</span>: 1677665254.2719367, <span class="s1">&#39;mtime&#39;</span>: 1677665254.2719367, <span class="s1">&#39;ctime&#39;</span>: 1677665254.2719367, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/systemd-private-3a2fc663b4fc47f4ba32428a1da69c77-systemd-hostnamed.service-xJnZMS&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 60, <span class="s1">&#39;inode&#39;</span>: 57839, <span class="s1">&#39;dev&#39;</span>: 40, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677665228.8361993, <span class="s1">&#39;mtime&#39;</span>: 1677665228.8361993, <span class="s1">&#39;ctime&#39;</span>: 1677665228.8361993, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/systemd-private-3a2fc663b4fc47f4ba32428a1da69c77-chronyd.service-fJ6BYJ&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 60, <span class="s1">&#39;inode&#39;</span>: 38557, <span class="s1">&#39;dev&#39;</span>: 40, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677665108.6314168, <span class="s1">&#39;mtime&#39;</span>: 1677665108.6314168, <span class="s1">&#39;ctime&#39;</span>: 1677665108.6314168, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/networkd-dispatcher-2.1&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0775&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 240, <span class="s1">&#39;inode&#39;</span>: 31992, <span class="s1">&#39;dev&#39;</span>: 40, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677665059.744108, <span class="s1">&#39;mtime&#39;</span>: 1677665074.139975, <span class="s1">&#39;ctime&#39;</span>: 1677665074.139975, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: True, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: True, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: True, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/systemd-private-3a2fc663b4fc47f4ba32428a1da69c77-systemd-resolved.service-xp4jFP&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 60, <span class="s1">&#39;inode&#39;</span>: 17549, <span class="s1">&#39;dev&#39;</span>: 40, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677664816.3119998, <span class="s1">&#39;mtime&#39;</span>: 1677664816.3119998, <span class="s1">&#39;ctime&#39;</span>: 1677664816.3119998, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/systemd-private-3a2fc663b4fc47f4ba32428a1da69c77-systemd-networkd.service-t6w0pJ&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 60, <span class="s1">&#39;inode&#39;</span>: 17540, <span class="s1">&#39;dev&#39;</span>: 40, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677664816.1039999, <span class="s1">&#39;mtime&#39;</span>: 1677664816.1039999, <span class="s1">&#39;ctime&#39;</span>: 1677664816.1039999, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/tmp/vmware-root_477-2084322203&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 40, <span class="s1">&#39;inode&#39;</span>: 19486, <span class="s1">&#39;dev&#39;</span>: 40, <span class="s1">&#39;nlink&#39;</span>: 2, <span class="s1">&#39;atime&#39;</span>: 1677664812.5279999, <span class="s1">&#39;mtime&#39;</span>: 1677664812.5279999, <span class="s1">&#39;ctime&#39;</span>: 1677664812.5279999, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/tmp/systemd-private-3a2fc663b4fc47f4ba32428a1da69c77-systemd-networkd.service-aPq1ih&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 1048662, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677664816.1039999, <span class="s1">&#39;mtime&#39;</span>: 1677664816.1039999, <span class="s1">&#39;ctime&#39;</span>: 1677664816.1039999, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/tmp/systemd-private-3a2fc663b4fc47f4ba32428a1da69c77-systemd-resolved.service-kXLC1n&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 1048689, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677664816.3119998, <span class="s1">&#39;mtime&#39;</span>: 1677664816.3119998, <span class="s1">&#39;ctime&#39;</span>: 1677664816.3119998, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/tmp/systemd-private-3a2fc663b4fc47f4ba32428a1da69c77-systemd-hostnamed.service-cCjnEF&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 1055760, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677665228.8361993, <span class="s1">&#39;mtime&#39;</span>: 1677665228.8361993, <span class="s1">&#39;ctime&#39;</span>: 1677665228.8361993, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/var/tmp/systemd-private-3a2fc663b4fc47f4ba32428a1da69c77-chronyd.service-KHvBV5&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0700&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: True, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: False, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 4096, <span class="s1">&#39;inode&#39;</span>: 1048771, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 3, <span class="s1">&#39;atime&#39;</span>: 1677665108.6314168, <span class="s1">&#39;mtime&#39;</span>: 1677665108.6314168, <span class="s1">&#39;ctime&#39;</span>: 1677665108.6314168, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: True, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: <span class="o">[</span>WARNING<span class="o">]</span>: Skipped <span class="s1">&#39;/lib/netplan&#39;</span> path due to this access issue: <span class="s1">&#39;/lib/netplan&#39;</span>
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Find netplan files<span class="o">]</span> ********************************************
</span></span><span class="line"><span class="cl">    vsphere: is not a directory
</span></span><span class="line"><span class="cl">    vsphere: <span class="o">[</span>WARNING<span class="o">]</span>: Skipped <span class="s1">&#39;/etc/netplan&#39;</span> path due to this access issue: <span class="s1">&#39;/etc/netplan&#39;</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere: is not a directory
</span></span><span class="line"><span class="cl">    vsphere: <span class="o">[</span>WARNING<span class="o">]</span>: Skipped <span class="s1">&#39;/run/netplan&#39;</span> path due to this access issue: <span class="s1">&#39;/run/netplan&#39;</span>
</span></span><span class="line"><span class="cl">    vsphere: is not a directory
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Find SSH host keys<span class="o">]</span> ********************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove SSH host keys<span class="o">]</span> ******************************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ed25519_key&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0600&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 411, <span class="s1">&#39;inode&#39;</span>: 655964, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677664650.3719997, <span class="s1">&#39;mtime&#39;</span>: 1677664650.3719997, <span class="s1">&#39;ctime&#39;</span>: 1677664650.3719997, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ecdsa_key&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0600&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 505, <span class="s1">&#39;inode&#39;</span>: 655962, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677664650.3559997, <span class="s1">&#39;mtime&#39;</span>: 1677664650.3559997, <span class="s1">&#39;ctime&#39;</span>: 1677664650.3559997, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_dsa_key&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0600&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 1381, <span class="s1">&#39;inode&#39;</span>: 655960, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677664650.3439996, <span class="s1">&#39;mtime&#39;</span>: 1677664650.3439996, <span class="s1">&#39;ctime&#39;</span>: 1677664650.3439996, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_dsa_key.pub&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 604, <span class="s1">&#39;inode&#39;</span>: 655961, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677664650.3439996, <span class="s1">&#39;mtime&#39;</span>: 1677664650.3439996, <span class="s1">&#39;ctime&#39;</span>: 1677664650.3439996, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_rsa_key.pub&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 396, <span class="s1">&#39;inode&#39;</span>: 655959, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677664650.2879996, <span class="s1">&#39;mtime&#39;</span>: 1677664650.2879996, <span class="s1">&#39;ctime&#39;</span>: 1677664650.2879996, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_rsa_key&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0600&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 1823, <span class="s1">&#39;inode&#39;</span>: 655957, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677664650.2879996, <span class="s1">&#39;mtime&#39;</span>: 1677664650.2879996, <span class="s1">&#39;ctime&#39;</span>: 1677664650.2879996, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: False, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: False, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ed25519_key.pub&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 96, <span class="s1">&#39;inode&#39;</span>: 655965, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677664650.3719997, <span class="s1">&#39;mtime&#39;</span>: 1677664650.3719997, <span class="s1">&#39;ctime&#39;</span>: 1677664650.3719997, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/etc/ssh/ssh_host_ecdsa_key.pub&#39;</span>, <span class="s1">&#39;mode&#39;</span>: <span class="s1">&#39;0644&#39;</span>, <span class="s1">&#39;isdir&#39;</span>: False, <span class="s1">&#39;ischr&#39;</span>: False, <span class="s1">&#39;isblk&#39;</span>: False, <span class="s1">&#39;isreg&#39;</span>: True, <span class="s1">&#39;isfifo&#39;</span>: False, <span class="s1">&#39;islnk&#39;</span>: False, <span class="s1">&#39;issock&#39;</span>: False, <span class="s1">&#39;uid&#39;</span>: 0, <span class="s1">&#39;gid&#39;</span>: 0, <span class="s1">&#39;size&#39;</span>: 176, <span class="s1">&#39;inode&#39;</span>: 655963, <span class="s1">&#39;dev&#39;</span>: 2051, <span class="s1">&#39;nlink&#39;</span>: 1, <span class="s1">&#39;atime&#39;</span>: 1677664650.3559997, <span class="s1">&#39;mtime&#39;</span>: 1677664650.3559997, <span class="s1">&#39;ctime&#39;</span>: 1677664650.3559997, <span class="s1">&#39;gr_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;pw_name&#39;</span>: <span class="s1">&#39;root&#39;</span>, <span class="s1">&#39;wusr&#39;</span>: True, <span class="s1">&#39;rusr&#39;</span>: True, <span class="s1">&#39;xusr&#39;</span>: False, <span class="s1">&#39;wgrp&#39;</span>: False, <span class="s1">&#39;rgrp&#39;</span>: True, <span class="s1">&#39;xgrp&#39;</span>: False, <span class="s1">&#39;woth&#39;</span>: False, <span class="s1">&#39;roth&#39;</span>: True, <span class="s1">&#39;xoth&#39;</span>: False, <span class="s1">&#39;isuid&#39;</span>: False, <span class="s1">&#39;isgid&#39;</span>: False<span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove SSH authorized users<span class="o">]</span> ***********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/root/.ssh/authorized_keys&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/home/builder/.ssh/authorized_keys&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate all remaining log files in /var/log<span class="o">]</span> ******************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Delete all logrotated log zips<span class="o">]</span> ********************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Truncate shell history<span class="o">]</span> ****************************************
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/root/.bash_history&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere: ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/home/builder/.bash_history&#39;</span><span class="o">})</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Rotate journalctl to archive logs<span class="o">]</span> *****************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: TASK <span class="o">[</span>sysprep : Remove archived journalctl logs<span class="o">]</span> *******************************
</span></span><span class="line"><span class="cl">    vsphere: changed: <span class="o">[</span>default<span class="o">]</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl">    vsphere: PLAY RECAP *********************************************************************
</span></span><span class="line"><span class="cl">    vsphere: default                    : <span class="nv">ok</span><span class="o">=</span><span class="m">104</span>  <span class="nv">changed</span><span class="o">=</span><span class="m">81</span>   <span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span>    <span class="nv">failed</span><span class="o">=</span><span class="m">0</span>    <span class="nv">skipped</span><span class="o">=</span><span class="m">207</span>  <span class="nv">rescued</span><span class="o">=</span><span class="m">0</span>    <span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">    vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Provisioning with <span class="nv">Goss</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Configured to run on Linux
</span></span><span class="line"><span class="cl">    vsphere: Creating directory: /tkg-tmp/goss
</span></span><span class="line"><span class="cl">    vsphere: Installing Goss from, https://github.com/aelsabbahy/goss/releases/download/v0.3.16/goss-linux-amd64
</span></span><span class="line"><span class="cl">    vsphere: Downloading Goss to /tkg-tmp/goss-linux-amd64
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  <span class="nv">Current</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:                                  Dload  Upload   Total   Spent    Left  <span class="nv">Speed</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:   <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>      <span class="m">0</span>      <span class="m">0</span> --:--:-- --:--:-- --:--:--     <span class="nv">0</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:   <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>    <span class="m">0</span>     <span class="m">0</span>      <span class="m">0</span>      <span class="m">0</span> --:--:-- --:--:-- --:--:--     <span class="nv">0</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: <span class="m">100</span> 11.8M  <span class="m">100</span> 11.8M    <span class="m">0</span>     <span class="m">0</span>  2067k      <span class="m">0</span>  0:00:05  0:00:05 --:--:-- 3162k
</span></span><span class="line"><span class="cl">    vsphere: goss version v0.3.16
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Uploading goss tests...
</span></span><span class="line"><span class="cl">    vsphere: Inline variables are --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;photon&#34;,&#34;OS_VERSION&#34;:&#34;3&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span>
</span></span><span class="line"><span class="cl">    vsphere: Uploading Dir /home/imagebuilder/goss
</span></span><span class="line"><span class="cl">    vsphere: Creating directory: /tkg-tmp/goss/goss
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running goss tests...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running GOSS render command: <span class="nb">cd</span> /tkg-tmp/goss <span class="o">&amp;&amp;</span>  /tkg-tmp/goss-linux-amd64 --gossfile goss/goss.yaml  --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;photon&#34;,&#34;OS_VERSION&#34;:&#34;3&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span> render &gt; /tmp/goss-spec.yaml
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Goss render ran <span class="nv">successfully</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running GOSS render debug command: <span class="nb">cd</span> /tkg-tmp/goss <span class="o">&amp;&amp;</span>  /tkg-tmp/goss-linux-amd64 --gossfile goss/goss.yaml  --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;photon&#34;,&#34;OS_VERSION&#34;:&#34;3&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span> render -d &gt; /tmp/debug-goss-spec.yaml
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Goss render debug ran <span class="nv">successfully</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running GOSS validate command: <span class="nb">cd</span> /tkg-tmp/goss <span class="o">&amp;&amp;</span> sudo  /tkg-tmp/goss-linux-amd64 --gossfile goss/goss.yaml  --vars-inline <span class="s1">&#39;{&#34;ARCH&#34;:&#34;amd64&#34;,&#34;OS&#34;:&#34;photon&#34;,&#34;OS_VERSION&#34;:&#34;3&#34;,&#34;PROVIDER&#34;:&#34;ova&#34;,&#34;containerd_version&#34;:&#34;v1.6.6+vmware.2&#34;,&#34;kubernetes_cni_deb_version&#34;:&#34;1.1.1-00&#34;,&#34;kubernetes_cni_rpm_version&#34;:&#34;1.1.1&#34;,&#34;kubernetes_cni_source_type&#34;:&#34;http&#34;,&#34;kubernetes_cni_version&#34;:&#34;1.1.1+vmware.7&#34;,&#34;kubernetes_deb_version&#34;:&#34;1.23.10-00&#34;,&#34;kubernetes_rpm_version&#34;:&#34;1.23.10&#34;,&#34;kubernetes_source_type&#34;:&#34;http&#34;,&#34;kubernetes_version&#34;:&#34;1.23.10+vmware.1&#34;}&#39;</span> validate --retry-timeout 0s --sleep 1s -f json -o pretty
</span></span><span class="line"><span class="cl">    vsphere: <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:     <span class="s2">&#34;results&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 10299109,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;rng-tools&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: rng-tools: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 25116058,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;jq&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: jq: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 25439183,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;chrony&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: chrony: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 26234385,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;cloud-init&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: cloud-init: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 32738183,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;Expected\n    \u003cbool\u003e: false\nto equal\n    \u003cbool\u003e: true&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;ethtool&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 1,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: false,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: ethtool: installed:\nExpected\n    \u003cbool\u003e: false\nto equal\n    \u003cbool\u003e: true&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 35497290,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;python-netifaces&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: python-netifaces: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 36019503,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;python3-netifaces&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: python3-netifaces: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 40315463,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;apparmor-parser&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: apparmor-parser: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 43431807,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;distrib-compat&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: distrib-compat: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 48933998,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;tar&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: tar: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 45595040,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;openssl-c_rehash&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: openssl-c_rehash: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 59955212,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;exit-status&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;containerd --version | awk -F&#39; &#39; &#39;{print substr(</span><span class="nv">$3</span><span class="s2">,2); }&#39;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: containerd --version | awk -F&#39; &#39; &#39;{print substr(</span><span class="nv">$3</span><span class="s2">,2); }&#39;: exit-status: matches expectation: [0]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 76769725,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;unzip&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: unzip: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 72268162,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;socat&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: socat: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 78789939,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;exit-status&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;crictl images | grep -v &#39;IMAGE ID&#39; | awk -F&#39;[ /]&#39; &#39;{print </span><span class="nv">$3</span><span class="s2">}&#39; | sed &#39;s/-amd64//g&#39; | sort&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: crictl images | grep -v &#39;IMAGE ID&#39; | awk -F&#39;[ /]&#39; &#39;{print </span><span class="nv">$3</span><span class="s2">}&#39; | sed &#39;s/-amd64//g&#39; | sort: exit-status: matches expectation: [0]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 13332,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;coredns&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;etcd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;kube-apiserver&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;kube-controller-manager&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;kube-proxy&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;kube-scheduler&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;pause&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;coredns&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;etcd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;kube-apiserver&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;kube-controller-manager&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;kube-proxy&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;kube-scheduler&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;pause&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;stdout&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;crictl images | grep -v &#39;IMAGE ID&#39; | awk -F&#39;[ /]&#39; &#39;{print </span><span class="nv">$3</span><span class="s2">}&#39; | sed &#39;s/-amd64//g&#39; | sort&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: crictl images | grep -v &#39;IMAGE ID&#39; | awk -F&#39;[ /]&#39; &#39;{print </span><span class="nv">$3</span><span class="s2">}&#39; | sed &#39;s/-amd64//g&#39; | sort: stdout: matches expectation: [coredns etcd kube-apiserver kube-controller-manager kube-proxy kube-scheduler pause]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 2,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 87058361,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;exit-status&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;/opt/cni/bin/host-device 2\u003e\u00261 | awk -F&#39; &#39; &#39;{print substr(</span><span class="nv">$4</span><span class="s2">,2); }&#39;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: /opt/cni/bin/host-device 2\u003e\u00261 | awk -F&#39; &#39; &#39;{print substr(</span><span class="nv">$4</span><span class="s2">,2); }&#39;: exit-status: matches expectation: [0]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 11728,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;1.1.1+vmware.7&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;1.1.1+vmware.7&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;stdout&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;/opt/cni/bin/host-device 2\u003e\u00261 | awk -F&#39; &#39; &#39;{print substr(</span><span class="nv">$4</span><span class="s2">,2); }&#39;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: /opt/cni/bin/host-device 2\u003e\u00261 | awk -F&#39; &#39; &#39;{print substr(</span><span class="nv">$4</span><span class="s2">,2); }&#39;: stdout: matches expectation: [1.1.1+vmware.7]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 2,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 86595708,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;ntp&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: ntp: installed: matches expectation: [false]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 64736050,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;sysstat&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: sysstat: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 67731573,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;conntrack-tools&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: conntrack-tools: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 98041982,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;exit-status&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;kubeadm version -o json | jq .clientVersion.gitVersion | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: kubeadm version -o json | jq .clientVersion.gitVersion | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;: exit-status: matches expectation: [0]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 15067,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;1.23.10+vmware.1&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;1.23.10+vmware.1&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;stdout&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;kubeadm version -o json | jq .clientVersion.gitVersion | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: kubeadm version -o json | jq .clientVersion.gitVersion | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;: stdout: matches expectation: [1.23.10+vmware.1]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 2,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 43288,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;8192\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;8192\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.ipv4.neigh.default.gc_thresh2&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.ipv4.neigh.default.gc_thresh2: value: matches expectation: [\&#34;8192\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 37179,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;524288\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;524288\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.ipv4.tcp_limit_output_bytes&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.ipv4.tcp_limit_output_bytes: value: matches expectation: [\&#34;524288\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 40709,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;16384\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;16384\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.ipv4.neigh.default.gc_thresh3&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.ipv4.neigh.default.gc_thresh3: value: matches expectation: [\&#34;16384\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 19243,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;4096\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;4096\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.ipv6.neigh.default.gc_thresh1&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.ipv6.neigh.default.gc_thresh1: value: matches expectation: [\&#34;4096\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 28023,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;1\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;1\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.bridge.bridge-nf-call-ip6tables&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.bridge.bridge-nf-call-ip6tables: value: matches expectation: [\&#34;1\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 28141,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;1\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;1\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.ipv4.ip_forward&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.ipv4.ip_forward: value: matches expectation: [\&#34;1\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 28205,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;1\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;1\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.ipv6.conf.all.forwarding&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.ipv6.conf.all.forwarding: value: matches expectation: [\&#34;1\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 28518,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;1\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;1\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.bridge.bridge-nf-call-iptables&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.bridge.bridge-nf-call-iptables: value: matches expectation: [\&#34;1\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 22812,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;16384\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;16384\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.ipv6.neigh.default.gc_thresh3&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.ipv6.neigh.default.gc_thresh3: value: matches expectation: [\&#34;16384\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 30924,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;4096\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;4096\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.ipv4.neigh.default.gc_thresh1&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.ipv4.neigh.default.gc_thresh1: value: matches expectation: [\&#34;4096\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 27686,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;8192\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;8192\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.ipv6.neigh.default.gc_thresh2&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.ipv6.neigh.default.gc_thresh2: value: matches expectation: [\&#34;8192\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 19066,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;9223372036854775807\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;9223372036854775807\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;fs.file-max&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: fs.file-max: value: matches expectation: [\&#34;9223372036854775807\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 29099,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;0\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;\&#34;0\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;value&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net.ipv6.conf.all.disable_ipv6&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;KernelParam&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;KernelParam: net.ipv6.conf.all.disable_ipv6: value: matches expectation: [\&#34;0\&#34;]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 73090032,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;Expected\n    \u003cbool\u003e: false\nto equal\n    \u003cbool\u003e: true&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;nfs-utils&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 1,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: false,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: nfs-utils: installed:\nExpected\n    \u003cbool\u003e: false\nto equal\n    \u003cbool\u003e: true&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 72355410,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;open-vm-tools&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: open-vm-tools: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 112430963,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;exit-status&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;crictl ps&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: crictl ps: exit-status: matches expectation: [0]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 80632261,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;python3-pip&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: python3-pip: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 82198514,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;audit&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: audit: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 74345777,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;cloud-utils&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: cloud-utils: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 78364183,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;python-requests&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: python-requests: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 77396663,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;net-tools&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: net-tools: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 73944805,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;installed&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;ebtables&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Package&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Package: ebtables: installed: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 145517664,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;exit-status&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;kubectl version --short --client=true -o json | jq .clientVersion.gitVersion | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: kubectl version --short --client=true -o json | jq .clientVersion.gitVersion | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;: exit-status: matches expectation: [0]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 10058,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;1.23.10+vmware.1&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;1.23.10+vmware.1&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;stdout&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;kubectl version --short --client=true -o json | jq .clientVersion.gitVersion | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: kubectl version --short --client=true -o json | jq .clientVersion.gitVersion | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;: stdout: matches expectation: [1.23.10+vmware.1]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 2,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 149739398,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;exit-status&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;kubelet --version | awk -F&#39; &#39; &#39;{print </span><span class="nv">$2</span><span class="s2">}&#39;  | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: kubelet --version | awk -F&#39; &#39; &#39;{print </span><span class="nv">$2</span><span class="s2">}&#39;  | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;: exit-status: matches expectation: [0]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 7485,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;1.23.10+vmware.1&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;1.23.10+vmware.1&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;stdout&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;kubelet --version | awk -F&#39; &#39; &#39;{print </span><span class="nv">$2</span><span class="s2">}&#39;  | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Command&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Command: kubelet --version | awk -F&#39; &#39; &#39;{print </span><span class="nv">$2</span><span class="s2">}&#39;  | tr -d &#39;\&#34;&#39; | awk &#39;{print substr(</span><span class="nv">$1</span><span class="s2">,2); }&#39;: stdout: matches expectation: [1.23.10+vmware.1]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 2,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 62272042,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;enabled&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;dockerd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: dockerd: enabled: matches expectation: [false]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 20644198,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;running&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;dockerd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: dockerd: running: matches expectation: [false]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 65773735,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;enabled&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;containerd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: containerd: enabled: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 18159690,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;running&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;containerd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: containerd: running: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 58361772,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;enabled&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;kubelet&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: kubelet: enabled: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 18462803,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;running&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;kubelet&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: kubelet: running: matches expectation: [false]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 77957073,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;enabled&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;conntrackd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: conntrackd: enabled: matches expectation: [false]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 22462736,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;running&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;conntrackd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: conntrackd: running: matches expectation: [false]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 66898103,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;enabled&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;networkd-dispatcher&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: networkd-dispatcher: enabled: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 11014421,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;running&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;networkd-dispatcher&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: networkd-dispatcher: running: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 58245320,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;enabled&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;chronyd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: chronyd: enabled: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 14300317,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;running&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;chronyd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: chronyd: running: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 66981034,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;enabled&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;apparmor&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: apparmor: enabled: matches expectation: [false]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 10594373,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;running&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;apparmor&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: apparmor: running: matches expectation: [false]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 67507859,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;enabled&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;auditd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: auditd: enabled: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;duration&#34;</span>: 10329547,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;err&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;expected&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;found&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">    vsphere:                 <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:             <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;human&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;meta&#34;</span>: null,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;property&#34;</span>: <span class="s2">&#34;running&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-id&#34;</span>: <span class="s2">&#34;auditd&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;resource-type&#34;</span>: <span class="s2">&#34;Service&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;result&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;successful&#34;</span>: true,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Service: auditd: running: matches expectation: [true]&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;test-type&#34;</span>: 0,
</span></span><span class="line"><span class="cl">    vsphere:             <span class="s2">&#34;title&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="o">}</span>
</span></span><span class="line"><span class="cl">    vsphere:     <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    vsphere:     <span class="s2">&#34;summary&#34;</span>: <span class="o">{</span>
</span></span><span class="line"><span class="cl">    vsphere:         <span class="s2">&#34;failed-count&#34;</span>: 2,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="s2">&#34;summary-line&#34;</span>: <span class="s2">&#34;Count: 65, Failed: 2, Duration: 0.168s&#34;</span>,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="s2">&#34;test-count&#34;</span>: 65,
</span></span><span class="line"><span class="cl">    vsphere:         <span class="s2">&#34;total-duration&#34;</span>: <span class="m">168422616</span>
</span></span><span class="line"><span class="cl">    vsphere:     <span class="o">}</span>
</span></span><span class="line"><span class="cl">    vsphere: <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Goss validate <span class="nv">failed</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Inspect mode on : proceeding without failing <span class="nv">Packer</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere:
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Downloading spec file and debug info
</span></span><span class="line"><span class="cl">    vsphere: Downloading Goss specs from, /tmp/goss-spec.yaml and /tmp/debug-goss-spec.yaml to current <span class="nv">dir</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Executing shutdown command...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Deleting Floppy drives...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Eject CD-ROM drives...
</span></span><span class="line"><span class="cl">    vsphere: Starting export...
</span></span><span class="line"><span class="cl">    vsphere: Downloading: photon-3-kube-v1.23.10_vmware.1-disk-0.vmdk
</span></span><span class="line"><span class="cl">    vsphere: Exporting file: photon-3-kube-v1.23.10_vmware.1-disk-0.vmdk
</span></span><span class="line"><span class="cl">    vsphere: Writing ovf...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Clear boot order...
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running post-processor: packer-manifest <span class="o">(</span><span class="nb">type</span> manifest<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running post-processor: vsphere <span class="o">(</span><span class="nb">type</span> shell-local<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Running <span class="nb">local</span> shell script: /tmp/packer-shell2767289316
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Opening OVF source: photon-3-kube-v1.23.10+vmware.1.ovf
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Opening OVA target: photon-3-kube-v1.23.10+vmware.1.ova
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Writing OVA package: photon-3-kube-v1.23.10+vmware.1.ova
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Transfer Completed
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Warning:
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>:  - No manifest file found.
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>:  - No supported manifest<span class="o">(</span>sha1, sha256, sha512<span class="o">)</span> entry found <span class="k">for</span>: <span class="s1">&#39;photon-3-kube-v1.23.10_vmware.1-disk-0.vmdk&#39;</span>.
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Completed successfully
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: <span class="nb">cd</span> .
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: loaded photon-3-kube-v1.23.10+vmware.1
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: create ovf photon-3-kube-v1.23.10+vmware.1.ovf
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: creating OVA from photon-3-kube-v1.23.10+vmware.1.ovf using ovftool
</span></span><span class="line"><span class="cl">    vsphere <span class="o">(</span>shell-local<span class="o">)</span>: image-build-ova: create ova checksum photon-3-kube-v1.23.10+vmware.1.ova.sha256
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere: Running post-processor: custom-post-processor <span class="o">(</span><span class="nb">type</span> shell-local<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; vsphere <span class="o">(</span>shell-local<span class="o">)</span>: Running <span class="nb">local</span> shell script: /tmp/packer-shell4018393751
</span></span><span class="line"><span class="cl">Build <span class="s1">&#39;vsphere&#39;</span> finished after <span class="m">13</span> minutes <span class="m">36</span> seconds.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; Wait completed after <span class="m">13</span> minutes <span class="m">36</span> <span class="nv">seconds</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">==</span>&gt; Builds finished. The artifacts of successful builds are:
</span></span><span class="line"><span class="cl">--&gt; vsphere: photon-3-kube-v1.23.10_vmware.1
</span></span><span class="line"><span class="cl">--&gt; vsphere: photon-3-kube-v1.23.10_vmware.1
</span></span><span class="line"><span class="cl">--&gt; vsphere: photon-3-kube-v1.23.10_vmware.1
</span></span><span class="line"><span class="cl">--&gt; vsphere: photon-3-kube-v1.23.10_vmware.1
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## output 폴더 OVA 생성</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 1.6 </span>
</span></span><span class="line"><span class="cl">ls output/photon-3-kube-v1.23.10_vmware.1/
</span></span><span class="line"><span class="cl">packer-manifest.json  photon-3-kube-v1.23.10+vmware.1.ova  photon-3-kube-v1.23.10+vmware.1.ova.sha256  photon-3-kube-v1.23.10+vmware.1.ovf  photon-3-kube-v1.23.10_vmware.1-disk-0.vmdk  photon-3-kube-v1.23.10_vmware.1.ovf
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 2.1</span>
</span></span><span class="line"><span class="cl">ls output/photon-3-kube-v1.24.9_vmware.1/
</span></span><span class="line"><span class="cl">packer-manifest.json  photon-3-kube-v1.24.9_vmware.1-disk-0.vmdk  photon-3-kube-v1.24.9+vmware.1.ova  photon-3-kube-v1.24.9+vmware.1.ova.sha256  photon-3-kube-v1.24.9+vmware.1.ovf  photon-3-kube-v1.24.9_vmware.1.ovf
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<h2 id="6-tkr-등록">6. TKR 등록</h2>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>TKR 등록<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## 1.6</span>
</span></span><span class="line"><span class="cl">vi ~/.config/tanzu/tkg/bom/tkr-bom-v1.23.10+vmware.1-tkg.1.yaml
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 아래 ova를 찾아서 추가 해준다. </span>
</span></span><span class="line"><span class="cl">ova:
</span></span><span class="line"><span class="cl">- name: ova-photon-3-rt
</span></span><span class="line"><span class="cl">  osinfo:
</span></span><span class="line"><span class="cl">    name: photon
</span></span><span class="line"><span class="cl">    version: <span class="s2">&#34;3&#34;</span>
</span></span><span class="line"><span class="cl">    arch: amd64
</span></span><span class="line"><span class="cl">  version: v1.23.10+vmware.1-dokyung.0
</span></span><span class="line"><span class="cl">- name: ova-ubuntu-2004-rt
</span></span><span class="line"><span class="cl">  osinfo:
</span></span><span class="line"><span class="cl">    name: ubuntu
</span></span><span class="line"><span class="cl">    version: <span class="s2">&#34;20.04&#34;</span>
</span></span><span class="line"><span class="cl">    arch: amd64
</span></span><span class="line"><span class="cl">  version: v1.23.10+vmware.1-dokyung.0
</span></span><span class="line"><span class="cl">- name: ova-rhel-8-rt
</span></span><span class="line"><span class="cl">  osinfo:
</span></span><span class="line"><span class="cl">    name: rhel
</span></span><span class="line"><span class="cl">    version: <span class="s2">&#34;8&#34;</span>
</span></span><span class="line"><span class="cl">    arch: amd64
</span></span><span class="line"><span class="cl">  version: v1.23.10+vmware.1-dokyung.0
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 2.1</span>
</span></span><span class="line"><span class="cl">vi ~/.config/tanzu/tkg/bom/tkr-bom-v1.24.9+vmware.1-tkg.1.yaml
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 아래 ova를 찾아서 추가 해준다. </span>
</span></span><span class="line"><span class="cl">ova:
</span></span><span class="line"><span class="cl">- name: ova-photon-3-rt
</span></span><span class="line"><span class="cl">  osinfo:
</span></span><span class="line"><span class="cl">    name: photon
</span></span><span class="line"><span class="cl">    version: <span class="s2">&#34;3&#34;</span>
</span></span><span class="line"><span class="cl">    arch: amd64
</span></span><span class="line"><span class="cl">  version: v1.24.9+vmware.1-dokyung.0
</span></span><span class="line"><span class="cl">- name: ova-ubuntu-2004-rt
</span></span><span class="line"><span class="cl">  osinfo:
</span></span><span class="line"><span class="cl">    name: ubuntu
</span></span><span class="line"><span class="cl">    version: <span class="s2">&#34;20.04&#34;</span>
</span></span><span class="line"><span class="cl">    arch: amd64
</span></span><span class="line"><span class="cl">  version: v1.24.9+vmware.1-dokyung.0
</span></span><span class="line"><span class="cl">- name: ova-rhel-8-rt
</span></span><span class="line"><span class="cl">  osinfo:
</span></span><span class="line"><span class="cl">    name: rhel
</span></span><span class="line"><span class="cl">    version: <span class="s2">&#34;8&#34;</span>
</span></span><span class="line"><span class="cl">    arch: amd64
</span></span><span class="line"><span class="cl">  version: v1.24.9+vmware.1-dokyung.0
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<h2 id="7-ova-업로드">7. OVA 업로드</h2>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>업로드<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## 1.6</span>
</span></span><span class="line"><span class="cl"><span class="c1">### photon</span>
</span></span><span class="line"><span class="cl">ovftool --acceptAllEulas --net:nic0<span class="o">={</span>NIC<span class="o">}</span>--datastore<span class="o">={</span>STORE<span class="o">}</span> --vmFolder<span class="o">={</span>FOLDER<span class="o">}</span> --importAsTemplate output/photon-3-kube-v1.23.10_vmware.1/photon-3-kube-v1.23.10+vmware.1.ova <span class="s1">&#39;vi://{ID}:{PW}}@{vCenter FQDN or IP}/{DATACENTER}/host/{CLUSTER}/&#39;</span>
</span></span><span class="line"><span class="cl"><span class="c1">### ubuntu</span>
</span></span><span class="line"><span class="cl">ovftool --acceptAllEulas --net:nic0<span class="o">={</span>NIC<span class="o">}</span>--datastore<span class="o">={</span>STORE<span class="o">}</span> --vmFolder<span class="o">={</span>FOLDER<span class="o">}</span> --importAsTemplate output/ubuntu-2004-kube-v1.23.10_vmware.1/ubuntu-2004-kube-v1.23.10+vmware.1.ova <span class="s1">&#39;vi://{ID}:{PW}}@{vCenter FQDN or IP}/{DATACENTER}/host/{CLUSTER}/&#39;</span>
</span></span><span class="line"><span class="cl"><span class="c1">### rhel</span>
</span></span><span class="line"><span class="cl">ovftool --acceptAllEulas --net:nic0<span class="o">={</span>NIC<span class="o">}</span>--datastore<span class="o">={</span>STORE<span class="o">}</span> --vmFolder<span class="o">={</span>FOLDER<span class="o">}</span> --importAsTemplate output/rhel-8-kube-v1.23.10_vmware.1/rhel-8-kube-v1.23.10+vmware.1.ova <span class="s1">&#39;vi://{ID}:{PW}}@{vCenter FQDN or IP}/{DATACENTER}/host/{CLUSTER}/&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 2.1</span>
</span></span><span class="line"><span class="cl"><span class="c1">### photon</span>
</span></span><span class="line"><span class="cl">ovftool --acceptAllEulas --net:nic0<span class="o">={</span>NIC<span class="o">}</span>--datastore<span class="o">={</span>STORE<span class="o">}</span> --vmFolder<span class="o">={</span>FOLDER<span class="o">}</span> --importAsTemplate output/photon-3-kube-v1.24.9_vmware.1/photon-3-kube-v1.24.9+vmware.1.ova <span class="s1">&#39;vi://{ID}:{PW}}@{vCenter FQDN or IP}/{DATACENTER}/host/{CLUSTER}/&#39;</span>
</span></span><span class="line"><span class="cl"><span class="c1">### ubuntu</span>
</span></span><span class="line"><span class="cl">ovftool --acceptAllEulas --net:nic0<span class="o">={</span>NIC<span class="o">}</span>--datastore<span class="o">={</span>STORE<span class="o">}</span> --vmFolder<span class="o">={</span>FOLDER<span class="o">}</span> --importAsTemplate output/ubuntu-2004-kube-v1.24.9_vmware.1/ubuntu-2004-kube-v1.24.9+vmware.1.ova <span class="s1">&#39;vi://{ID}:{PW}}@{vCenter FQDN or IP}/{DATACENTER}/host/{CLUSTER}/&#39;</span>
</span></span><span class="line"><span class="cl"><span class="c1">### rhel</span>
</span></span><span class="line"><span class="cl">ovftool --acceptAllEulas --net:nic0<span class="o">={</span>NIC<span class="o">}</span>--datastore<span class="o">={</span>STORE<span class="o">}</span> --vmFolder<span class="o">={</span>FOLDER<span class="o">}</span> --importAsTemplate output/rhel-8-kube-v1.24.9_vmware.1/rhel-8-kube-v1.24.9+vmware.1.ova <span class="s1">&#39;vi://{ID}:{PW}}@{vCenter FQDN or IP}/{DATACENTER}/host/{CLUSTER}/&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<h2 id="6-배포">6. 배포</h2>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>클러스터 배포<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tanzu cluster create -f <span class="o">{</span>FILE<span class="o">}</span> -v <span class="m">9</span> -y
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<h2 id="7-확인">7. 확인</h2>
<blockquote>
<p>1.6
<figure><figcaption>
            <h4>rhel node</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>photon node</h4>
        </figcaption>
</figure>
</p>
</blockquote>
<blockquote>
<p>2.1
<figure><figcaption>
            <h4>All node</h4>
        </figcaption>
</figure>
</p>
</blockquote>
]]></description>
</item>
<item>
    <title>Tap install on Openshift</title>
    <link>https://huntedhappy.github.io/ko/tapandopenshift/</link>
    <pubDate>Sun, 29 Jan 2023 21:55:28 &#43;0900</pubDate>
    <author>Dokyung</author>
    <guid>https://huntedhappy.github.io/ko/tapandopenshift/</guid>
    <description><![CDATA[<h2 id="1-tanzu-application-platform-on-openshift">1. TANZU APPLICATION PLATFORM ON OPENSHIFT</h2>
<p>Tanzu Application Platform은 VMware에서 제공하는 CI/CD 솔루션입니다. 기본 VMware제품들은 대부분 VMware 솔루션에 Dependency가 있었습니다.
그러나 TAP의 경우는 K8S 환경이면 어디든 설치가 된다는 컨셉으로 나온 것이 아닌가 싶습니다.
1.3.x 부터 OPENSHIFT에서도 지원을 한다고 해서 한번 설치를 진행 해 보았으며 어떻게 설치를 할 수 있는지 한번 알아 보도록 하겠습니다.</p>
<p>기본적으로 OPENSHIFT는 설치가 되어 있다는 것을 가정으로 TAP를 설치를 진행을 하겠습니다.
참고로 OPENSHIFT의 경우 TAP에서 지원하는 것은 4.10 , 4.11 두가지를 지원 합니다.</p>
<figure><figcaption>
            <h4>ocp 지원 버전</h4>
        </figcaption>
</figure>

<p><figure><figcaption>
            <h4>ocp 설치 버전</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>ocp 설치 버전</h4>
        </figcaption>
</figure>
</p>
<blockquote>
<p>설치 버전</p>
<ul>
<li>Openshift Version 4.11.9</li>
<li>Tanzu Application Platform 1.4.0</li>
<li>TBS 1.9.0</li>
<li>AVI 22.1.2</li>
</ul>
</blockquote>
<blockquote>
<p>처음에 Openshift(Openshift를 잘 모르다 보니)를 통해 TAP를 배포하려고 하다 보니 여러가지 이슈가 발생했는대, 해결이 안되는 부분이 AVI 그러니까 외부 로드밸런서를 사용하지 않고 Openshift가 가지고 있는 Ingress를 사용하려고 했는대 실패를 하였습니다. 또한 문제는 Openshift를 잘 몰라서 그럴 수 있겠지만, 내가 원하는 Domain을 설정 하는 것도 어려운 부분이 있었습니다. 그래서 우선 별도로 AVI를 구성하여 설치를 진행 후 TAP 설치를 하였습니다. 그리고 설명이 부족한 부분이 많을 수 있는대, 설명 할 것이 너무 많기 때문에 좀더 Install에 대해서 집중을 해서 글을 작성 하였습니다.</p>
</blockquote>
<p>아래에 route에 포함되어 있지 않은 도메인을 차단 하는것인지.. 여기 route에 tap를 구성 후 tap-gui 또는 어플리케이션의 대해서 어떻게 설정 해야 되는지는 아직 의문이 남아 있습니다.
<figure><figcaption>
            <h4>oc route 확인</h4>
        </figcaption>
</figure>
</p>
<p>AVI 와 Openshift를 연동시 생성 되는 VIP가 많아서 이 부분도 당황 스러운 부분이 있었지만, 이 부분도 깊게 파고 들지는 않았습니다. 우선 목표는 TAP를 구성 하기 위함이 크기 때문입니다.
<figure><figcaption>
            <h4>AVI 상태</h4>
        </figcaption>
</figure>
</p>
<h2 id="2-kapp-설치">2. KAPP 설치</h2>
<p>기본적으로 KAPP이 설치가 되어 있지 않기 때문에 KAPP 설치가 필요 합니다. 이유는 TAP이라는 솔루션이 Tanzu라는 명령어를 통해 설치가 되기 때문에 입니다.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## package를 설치 할 수 있게 kapp-contoller 설치</span>
</span></span><span class="line"><span class="cl">kubectl apply -f https://github.com/vmware-tanzu/carvel-kapp-controller/releases/latest/download/release.yml
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## tanzu에서 secret을 생성 할 수 있게 secretget-controller 설치</span>
</span></span><span class="line"><span class="cl">kubectl apply -f https://github.com/carvel-dev/secretgen-controller/releases/latest/download/release.yml
</span></span></code></pre></td></tr></table>
</div>
</div><p>kapp을 설치를 하게 되면 이제 tanzu package repository 및  secret repository를 등록 할 수 있습니다.</p>
<figure><figcaption>
            <h4>package 및 reository</h4>
        </figcaption>
</figure>

<p>그러면 위와 같이 list를 확인 할 수 있습니다. 위에 controller를 설치를 하지 않으면 에러가 발생 하는 것을 알 수 있습니다. 에러 내용은 아래와 같습니다.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">kapp contoller를 설치를 안할 경우 발생하는 에러
</span></span><span class="line"><span class="cl"><span class="c1">## Error: failed to check for the availability of &#39;packaging.carvel.dev&#39; API: failed to discover unmatched GroupVersionResources: the server is currently unable to handle the request</span>
</span></span><span class="line"><span class="cl"><span class="c1">## Error: exit status 1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">secret contoller를 설치를 안할 경우 발생하는 에러
</span></span><span class="line"><span class="cl"><span class="c1">## Error: secret plugin can not be used as &#39;secretgen.carvel.dev/v1alpha1&#39; API is not available in the cluster</span>
</span></span><span class="line"><span class="cl"><span class="c1">## Error: exit status 1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="3-tanzu-framework-및-pcakage-image-repository-업로드">3. TANZU FRAMEWORK 및 Pcakage Image Repository 업로드</h2>
<p>TANZU FRAMEWORK다운로드는 Tanzu Net에서 다운로드를 받을 수 있다.
TANZU APPLICATION PLATFORM 설치는 1.4.0으로 진행</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tar xvf tanzu-framework-linux-amd64-v0.25.4.1.tar
</span></span><span class="line"><span class="cl">tanzu plugin install -l ./cli/ all
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 이미지를 받기 위해 tanzu net에 로그인 한다.</span>
</span></span><span class="line"><span class="cl">docker login registry.tanzu.vmware.com -u <span class="o">{</span>tanzuusername<span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 이후에 내부 또는 gcr 등등 repository에 로그인 한다. 테스트는 내부 Harbor를 사용한다.</span>
</span></span><span class="line"><span class="cl">docker login infra-harbor.huntedhappy.kro.kr -u admin
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## TAP Package 내부 Harbor에 업로드</span>
</span></span><span class="line"><span class="cl">imgpkg copy -b registry.tanzu.vmware.com/tanzu-application-platform/tap-packages:1.4.0 --to-repo infra-harbor.huntedhappy.kro.kr/tap-packages/1.4.0
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="4-tap-package-등록">4. TAP Package 등록</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## namespace 생성</span>
</span></span><span class="line"><span class="cl">kubectl create ns tap-install 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## Harbor Secret 사용할 경우</span>
</span></span><span class="line"><span class="cl">kubectl create secret docker-registry registry-credentials --docker-server<span class="o">=</span>infra-harbor.huntedhappy.kro.kr --docker-username<span class="o">=</span>admin --docker-password<span class="o">=</span><span class="si">${</span><span class="nv">INSTALL_REGISTRY_PASSWORD</span><span class="si">}</span> -n tap-install
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## package repository 추가</span>
</span></span><span class="line"><span class="cl">tanzu package repository add tanzu-tap-repository <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --url harbor-infra.huntedhappy.kro.kr/tap-packages/1.4.0 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --namespace tap-install
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## TBS 설치</span>
</span></span><span class="line"><span class="cl">imgpkg copy -b registry.tanzu.vmware.com/tanzu-application-platform/full-tbs-deps-package-repo:1.9.0 --to-tar<span class="o">=</span>tbs-full-deps-1.9.0.tar
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## TBS Harobr업로드</span>
</span></span><span class="line"><span class="cl">imgpkg copy --tar tbs-full-deps-1.9.0.tar --to-repo harbor-infra.huntedhappy.kro.kr/tap/tbs-full-deps/1.9.0 --include-non-distributable-layers
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## TBS Repository 등록</span>
</span></span><span class="line"><span class="cl">tanzu package repository add tbs-full-deps-repository <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --url infra-harbor.huntedhappy.kro.kr/tap/tbs-full-deps/1.9.0 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --namespace tap-install
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="5-설치">5. 설치</h2>
<p>TAP같은 경우 멀티 클러스터를 지원 하지만, 테스트는 full 기반으로 테스트를 진행 하였습니다.</p>
<p>설치는 ootb_supply_chain_testing_scanning 로 테스트를 진행 했지만. 좀 복잡 할 수 있기 때문에
여기에는 ootb_supply_chain_basic으로 기술 합니다.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">vi tap-full-vaules.yaml
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">profile: full
</span></span><span class="line"><span class="cl">ceip_policy_disclosed: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">buildservice:
</span></span><span class="line"><span class="cl">  kp_default_repository: <span class="s2">&#34;infra-harbor.huntedhappy.kro.kr/tap/tap-packages&#34;</span>
</span></span><span class="line"><span class="cl">  kp_default_repository_secret:
</span></span><span class="line"><span class="cl">    name: <span class="s2">&#34;registry-credentials&#34;</span>
</span></span><span class="line"><span class="cl">    namespace: <span class="s2">&#34;tap-install&#34;</span>
</span></span><span class="line"><span class="cl">  exclude_dependencies: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">springboot_conventions:
</span></span><span class="line"><span class="cl">  autoConfigureActuators: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">policy:
</span></span><span class="line"><span class="cl">  tuf_enable: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">accelerator:
</span></span><span class="line"><span class="cl">  domain: huntedhappy.kro.kr
</span></span><span class="line"><span class="cl">  ingress:
</span></span><span class="line"><span class="cl">    include: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">    enable_tls: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">  tls:
</span></span><span class="line"><span class="cl">    secret_name: share-secret
</span></span><span class="line"><span class="cl">    namespace: tap-install
</span></span><span class="line"><span class="cl">  server:
</span></span><span class="line"><span class="cl">    service_type: <span class="s2">&#34;ClusterIP&#34;</span>
</span></span><span class="line"><span class="cl">    watched_namespace: <span class="s2">&#34;accelerator-system&#34;</span>
</span></span><span class="line"><span class="cl">  samples:
</span></span><span class="line"><span class="cl">    include: <span class="nb">false</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">shared:
</span></span><span class="line"><span class="cl">  kubernetes_distribution: <span class="s2">&#34;openshift&#34;</span> <span class="c1"># To be passed only for OpenShift. Defaults to &#34;&#34;.</span>
</span></span><span class="line"><span class="cl">  ingress_issuer: default-ca-issuer
</span></span><span class="line"><span class="cl">  image_registry:
</span></span><span class="line"><span class="cl">    secret:
</span></span><span class="line"><span class="cl">      name: <span class="s2">&#34;registry-credentials&#34;</span>
</span></span><span class="line"><span class="cl">      namespace: <span class="s2">&#34;tap-install&#34;</span>
</span></span><span class="line"><span class="cl">  ingress_domain: <span class="s2">&#34;huntedhappy.kro.kr&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  ca_cert_data: |</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">appliveview:
</span></span><span class="line"><span class="cl">  ingressEnabled: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">  sslDisabled: <span class="nb">false</span>
</span></span><span class="line"><span class="cl">  tls:
</span></span><span class="line"><span class="cl">    namespace: tap-install
</span></span><span class="line"><span class="cl">    secretName: share-secret
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">appliveview_connector:
</span></span><span class="line"><span class="cl">  backend:
</span></span><span class="line"><span class="cl">    sslDisabled: <span class="nb">false</span>
</span></span><span class="line"><span class="cl">    host: appliveview.huntedhappy.kro.kr
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">cnrs:
</span></span><span class="line"><span class="cl">  domain_name: huntedhappy.kro.kr
</span></span><span class="line"><span class="cl">  domain_template: <span class="s2">&#34;{{.Name}}.{{.Domain}}&#34;</span>
</span></span><span class="line"><span class="cl">  default_tls_secret: tap-install/share-secret
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">scanning:
</span></span><span class="line"><span class="cl">  metadataStore:
</span></span><span class="line"><span class="cl">    url: <span class="s2">&#34;&#34;</span> <span class="c1"># Disable embedded integration since it&#39;s deprecated</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">metadata_store:
</span></span><span class="line"><span class="cl">  ns_for_export_app_cert: <span class="s2">&#34;*&#34;</span>
</span></span><span class="line"><span class="cl">  ingress_domain: huntedhappy.kro.kr
</span></span><span class="line"><span class="cl">  app_service_type: ClusterIP
</span></span><span class="line"><span class="cl">  ingress_enabled: <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">  targetImagePullSecret: <span class="s2">&#34;registry-credentials&#34;</span>
</span></span><span class="line"><span class="cl">  tls:
</span></span><span class="line"><span class="cl">    secretName: share-secret
</span></span><span class="line"><span class="cl">    namespace: tap-install
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">supply_chain: basic
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ootb_supply_chain_basic:
</span></span><span class="line"><span class="cl">  registry:
</span></span><span class="line"><span class="cl">    server: <span class="s2">&#34;infra-harbor.huntedhappy.kro.kr&#34;</span>
</span></span><span class="line"><span class="cl">    repository: <span class="s2">&#34;app/supply_chain&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">grype:
</span></span><span class="line"><span class="cl">  namespace: <span class="s2">&#34;tap-install&#34;</span> <span class="c1"># (optional) Defaults to default namespace.</span>
</span></span><span class="line"><span class="cl">  targetImagePullSecret: <span class="s2">&#34;registry-credentials&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">tap_gui:
</span></span><span class="line"><span class="cl">  service_type: ClusterIP
</span></span><span class="line"><span class="cl">  ingressEnabled: <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">  ingressDomain: <span class="s2">&#34;huntedhappy.kro.kr&#34;</span>
</span></span><span class="line"><span class="cl">  tls:
</span></span><span class="line"><span class="cl">    namespace: tap-install
</span></span><span class="line"><span class="cl">    secretName: share-secret
</span></span><span class="line"><span class="cl">  app_config:
</span></span><span class="line"><span class="cl">    organization:
</span></span><span class="line"><span class="cl">      name: <span class="s1">&#39;huntedhappy&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    app:
</span></span><span class="line"><span class="cl">      title: <span class="s1">&#39;huntedhappy TAP&#39;</span>
</span></span><span class="line"><span class="cl">      baseUrl: https://tap-gui.huntedhappy.kro.kr
</span></span><span class="line"><span class="cl">      support:
</span></span><span class="line"><span class="cl">        url: https://tanzu.vmware.com/support
</span></span><span class="line"><span class="cl">        items:
</span></span><span class="line"><span class="cl">          - title: Contact Support
</span></span><span class="line"><span class="cl">            icon: email
</span></span><span class="line"><span class="cl">            links:
</span></span><span class="line"><span class="cl">              - url: https://tanzu.vmware.com/support
</span></span><span class="line"><span class="cl">                title: Tanzu Support Page
</span></span><span class="line"><span class="cl">          - title: Documentation
</span></span><span class="line"><span class="cl">            icon: doc
</span></span><span class="line"><span class="cl">            links:
</span></span><span class="line"><span class="cl">              - url: https://docs.vmware.com/en/VMware-Tanzu-Application-Platform/index.html
</span></span><span class="line"><span class="cl">                title: Tanzu Application Platform Documentation
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    backend:
</span></span><span class="line"><span class="cl">      baseUrl: https://tap-gui.huntedhappy.kro.kr
</span></span><span class="line"><span class="cl">      cors:
</span></span><span class="line"><span class="cl">        origin: https://tap-gui.huntedhappy.kro.kr
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">contour:
</span></span><span class="line"><span class="cl">  certificates.duration: 87600h
</span></span><span class="line"><span class="cl">  certificates.renewBefore: 360h
</span></span><span class="line"><span class="cl">  envoy:
</span></span><span class="line"><span class="cl">    service:
</span></span><span class="line"><span class="cl">      type: LoadBalancer
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">excluded_packages:
</span></span><span class="line"><span class="cl">- policy.apps.tanzu.vmware.com
</span></span><span class="line"><span class="cl">- learningcenter.tanzu.vmware.com
</span></span><span class="line"><span class="cl">- workshops.learningcenter.tanzu.vmware.com
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## rback 설정</span>
</span></span><span class="line"><span class="cl">cat <span class="s">&lt;&lt; EOF | kubectl apply -f -
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: Namespace
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: tap-gui
</span></span></span><span class="line"><span class="cl"><span class="s">---
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: ServiceAccount
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  namespace: tap-gui
</span></span></span><span class="line"><span class="cl"><span class="s">  name: tap-gui-viewer
</span></span></span><span class="line"><span class="cl"><span class="s">automountServiceAccountToken: false
</span></span></span><span class="line"><span class="cl"><span class="s">---
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: Secret
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: tap-gui-viewer
</span></span></span><span class="line"><span class="cl"><span class="s">  namespace: tap-gui
</span></span></span><span class="line"><span class="cl"><span class="s">  annotations:
</span></span></span><span class="line"><span class="cl"><span class="s">    kubernetes.io/service-account.name: tap-gui-viewer
</span></span></span><span class="line"><span class="cl"><span class="s">type: kubernetes.io/service-account-token
</span></span></span><span class="line"><span class="cl"><span class="s">---
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: rbac.authorization.k8s.io/v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: ClusterRoleBinding
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: tap-gui-read-k8s
</span></span></span><span class="line"><span class="cl"><span class="s">subjects:
</span></span></span><span class="line"><span class="cl"><span class="s">- kind: ServiceAccount
</span></span></span><span class="line"><span class="cl"><span class="s">  namespace: tap-gui
</span></span></span><span class="line"><span class="cl"><span class="s">  name: tap-gui-viewer
</span></span></span><span class="line"><span class="cl"><span class="s">roleRef:
</span></span></span><span class="line"><span class="cl"><span class="s">  kind: ClusterRole
</span></span></span><span class="line"><span class="cl"><span class="s">  name: k8s-reader
</span></span></span><span class="line"><span class="cl"><span class="s">  apiGroup: rbac.authorization.k8s.io
</span></span></span><span class="line"><span class="cl"><span class="s">---
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: rbac.authorization.k8s.io/v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: ClusterRole
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: k8s-reader
</span></span></span><span class="line"><span class="cl"><span class="s">rules:
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [&#39;pods&#39;, &#39;pods/log&#39;, &#39;services&#39;, &#39;configmaps&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;apps&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [&#39;deployments&#39;, &#39;replicasets&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;autoscaling&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [&#39;horizontalpodautoscalers&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;networking.k8s.io&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [&#39;ingresses&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;networking.internal.knative.dev&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [&#39;serverlessservices&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [ &#39;autoscaling.internal.knative.dev&#39; ]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources: [ &#39;podautoscalers&#39; ]
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [ &#39;get&#39;, &#39;watch&#39;, &#39;list&#39; ]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;serving.knative.dev&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources:
</span></span></span><span class="line"><span class="cl"><span class="s">  - configurations
</span></span></span><span class="line"><span class="cl"><span class="s">  - revisions
</span></span></span><span class="line"><span class="cl"><span class="s">  - routes
</span></span></span><span class="line"><span class="cl"><span class="s">  - services
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;carto.run&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources:
</span></span></span><span class="line"><span class="cl"><span class="s">  - clusterconfigtemplates
</span></span></span><span class="line"><span class="cl"><span class="s">  - clusterdeliveries
</span></span></span><span class="line"><span class="cl"><span class="s">  - clusterdeploymenttemplates
</span></span></span><span class="line"><span class="cl"><span class="s">  - clusterimagetemplates
</span></span></span><span class="line"><span class="cl"><span class="s">  - clusterruntemplates
</span></span></span><span class="line"><span class="cl"><span class="s">  - clustersourcetemplates
</span></span></span><span class="line"><span class="cl"><span class="s">  - clustersupplychains
</span></span></span><span class="line"><span class="cl"><span class="s">  - clustertemplates
</span></span></span><span class="line"><span class="cl"><span class="s">  - deliverables
</span></span></span><span class="line"><span class="cl"><span class="s">  - runnables
</span></span></span><span class="line"><span class="cl"><span class="s">  - workloads
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;source.toolkit.fluxcd.io&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources:
</span></span></span><span class="line"><span class="cl"><span class="s">  - gitrepositories
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;source.apps.tanzu.vmware.com&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources:
</span></span></span><span class="line"><span class="cl"><span class="s">  - imagerepositories
</span></span></span><span class="line"><span class="cl"><span class="s">  - mavenartifacts
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;conventions.carto.run&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources:
</span></span></span><span class="line"><span class="cl"><span class="s">  - podintents
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;kpack.io&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources:
</span></span></span><span class="line"><span class="cl"><span class="s">  - images
</span></span></span><span class="line"><span class="cl"><span class="s">  - builds
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;scanning.apps.tanzu.vmware.com&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources:
</span></span></span><span class="line"><span class="cl"><span class="s">  - sourcescans
</span></span></span><span class="line"><span class="cl"><span class="s">  - imagescans
</span></span></span><span class="line"><span class="cl"><span class="s">  - scanpolicies
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;tekton.dev&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources:
</span></span></span><span class="line"><span class="cl"><span class="s">  - taskruns
</span></span></span><span class="line"><span class="cl"><span class="s">  - pipelineruns
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">- apiGroups: [&#39;kappctrl.k14s.io&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">  resources:
</span></span></span><span class="line"><span class="cl"><span class="s">  - apps
</span></span></span><span class="line"><span class="cl"><span class="s">  verbs: [&#39;get&#39;, &#39;watch&#39;, &#39;list&#39;]
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## rolebding 설정</span>
</span></span><span class="line"><span class="cl">cat <span class="s">&lt;&lt; EOF | kubectl apply -f -
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: rbac.authorization.k8s.io/v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: RoleBinding
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: default-permit-deliverable
</span></span></span><span class="line"><span class="cl"><span class="s">roleRef:
</span></span></span><span class="line"><span class="cl"><span class="s">  apiGroup: rbac.authorization.k8s.io
</span></span></span><span class="line"><span class="cl"><span class="s">  kind: ClusterRole
</span></span></span><span class="line"><span class="cl"><span class="s">  name: deliverable
</span></span></span><span class="line"><span class="cl"><span class="s">subjects:
</span></span></span><span class="line"><span class="cl"><span class="s">  - kind: ServiceAccount
</span></span></span><span class="line"><span class="cl"><span class="s">    name: default
</span></span></span><span class="line"><span class="cl"><span class="s">---
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: rbac.authorization.k8s.io/v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: RoleBinding
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: default-permit-workload
</span></span></span><span class="line"><span class="cl"><span class="s">roleRef:
</span></span></span><span class="line"><span class="cl"><span class="s">  apiGroup: rbac.authorization.k8s.io
</span></span></span><span class="line"><span class="cl"><span class="s">  kind: ClusterRole
</span></span></span><span class="line"><span class="cl"><span class="s">  name: workload
</span></span></span><span class="line"><span class="cl"><span class="s">subjects:
</span></span></span><span class="line"><span class="cl"><span class="s">  - kind: ServiceAccount
</span></span></span><span class="line"><span class="cl"><span class="s">    name: default
</span></span></span><span class="line"><span class="cl"><span class="s">---
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: rbac.authorization.k8s.io/v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: RoleBinding
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: dev-permit-app-viewer
</span></span></span><span class="line"><span class="cl"><span class="s">roleRef:
</span></span></span><span class="line"><span class="cl"><span class="s">  apiGroup: rbac.authorization.k8s.io
</span></span></span><span class="line"><span class="cl"><span class="s">  kind: ClusterRole
</span></span></span><span class="line"><span class="cl"><span class="s">  name: app-viewer
</span></span></span><span class="line"><span class="cl"><span class="s">subjects:
</span></span></span><span class="line"><span class="cl"><span class="s">  - kind: Group
</span></span></span><span class="line"><span class="cl"><span class="s">    name: &#34;namespace-developers&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">    apiGroup: rbac.authorization.k8s.io
</span></span></span><span class="line"><span class="cl"><span class="s">---
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: rbac.authorization.k8s.io/v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: ClusterRoleBinding
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: namespace-dev-permit-app-viewer
</span></span></span><span class="line"><span class="cl"><span class="s">roleRef:
</span></span></span><span class="line"><span class="cl"><span class="s">  apiGroup: rbac.authorization.k8s.io
</span></span></span><span class="line"><span class="cl"><span class="s">  kind: ClusterRole
</span></span></span><span class="line"><span class="cl"><span class="s">  name: app-viewer-cluster-access
</span></span></span><span class="line"><span class="cl"><span class="s">subjects:
</span></span></span><span class="line"><span class="cl"><span class="s">  - kind: Group
</span></span></span><span class="line"><span class="cl"><span class="s">    name: &#34;namespace-developers&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">    apiGroup: rbac.authorization.k8s.io
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">kubectl patch sa default -n tap-install --type <span class="s1">&#39;json&#39;</span> -p <span class="s1">&#39;[{&#34;op&#34;:&#34;add&#34;,&#34;path&#34;:&#34;/secrets&#34;,&#34;value&#34;:[&#34;name&#34;:&#34;registry-credentials&#34;]}]&#39;</span>
</span></span><span class="line"><span class="cl">kubectl patch sa default -n tap-install --type <span class="s1">&#39;json&#39;</span> -p <span class="s1">&#39;[{&#34;op&#34;:&#34;add&#34;,&#34;path&#34;:&#34;/imagePullSecrets&#34;,&#34;value&#34;:[&#34;name&#34;:&#34;registry-credentials&#34;]}]&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## TANZU PACKAGE 1.4.0 설치</span>
</span></span><span class="line"><span class="cl">tanzu package install tap -p tap.tanzu.vmware.com -v 1.4.0 -f tap-full-vaules.yaml -n tap-install
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## TBS 설치</span>
</span></span><span class="line"><span class="cl">tanzu package install full-tbs-deps -p full-tbs-deps.tanzu.vmware.com -v 1.9.0 -n tap-install
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="6-설치-완료">6. 설치 완료</h2>
<figure><figcaption>
            <h4>설치 완료#1</h4>
        </figcaption>
</figure>

<p>Sample App Test
<figure><figcaption>
            <h4>설치 완료#2</h4>
        </figcaption>
</figure>
</p>
<p>Sample App Test를 하게 될 경우 아래와 같은 문구가 나오는대 왜 나오는지는 아직 파악 하지 못하였습니다. 하지만 SAMPLE APP 배포는 잘 동작 하는 것을 확인 할 수 있습니다.</p>
<ul>
<li>I0129 14:54:36.521207 2768383 request.go:682] Waited for 1.007213447s due to client-side throttling, not priority and fairness, request: GET:https://api.openshift.huntedhappy.kro.kr:6443/apis/console.openshift.io/v1alpha1?timeout=32s</li>
</ul>
<p>배포가 완료 되면 httpproxy,pod,deliverable을 확인 하여 httpproxy에 설정된 도메인으로 접속 할 수 있다.
<figure><figcaption>
            <h4>FQDN 확인</h4>
        </figcaption>
</figure>
</p>
<p><figure><figcaption>
            <h4>설치 완료#2</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>TAP GUI 화면#1</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>TAP GUI 화면#2</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>TAP GUI 화면#2</h4>
        </figcaption>
</figure>
</p>
<p>설치가 완료 되면 TAP의 대해서는 Visual Sutudio Code, IntelliJ 환경에서도 잘 동작하는 것을 확인 할 수 있습니다.</p>
<ul>
<li>나중에 추가적인 설명을 할 수 있으면 적을 수 있도록 하겠습니다.</li>
</ul>
]]></description>
</item>
<item>
    <title>The Documentation Harbor</title>
    <link>https://huntedhappy.github.io/ko/harbor/</link>
    <pubDate>Sat, 07 Jan 2023 19:00:14 &#43;0900</pubDate>
    <author>Dokyung</author>
    <guid>https://huntedhappy.github.io/ko/harbor/</guid>
    <description><![CDATA[<h2 id="harbor에-vm-disk가-부족-하게-되면-사이즈를-늘려보자">Harbor에 VM Disk가 부족 하게 되면 사이즈를 늘려보자</h2>
<h2 id="1-harbor-vm-disk-증설">1. Harbor VM DISK 증설</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">df -h
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">fdisk -l
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 아래와 같이 에러가 나온다면</span>
</span></span><span class="line"><span class="cl">&gt;&gt; GPT PMBR size mismatch 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## parted로 fix를 해보자</span>
</span></span><span class="line"><span class="cl">parted /dev/sda
</span></span><span class="line"><span class="cl">p &gt; f
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><figcaption>
            <h4>Disk 상태 확인</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>Disk 증설</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>Disk 증설 후</h4>
        </figcaption>
</figure>
</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## 그리고 온라인 상태에서 디스크가 보이지 않은 경우는 아래와 같이 하자.</span>
</span></span><span class="line"><span class="cl">ls /sys/class/scsi_host
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> line in <span class="k">$(</span>ls /sys/class/scsi_host<span class="k">)</span>
</span></span><span class="line"><span class="cl"><span class="k">do</span>
</span></span><span class="line"><span class="cl"> <span class="nb">echo</span> <span class="s2">&#34;- - -&#34;</span> &gt; /sys/class/scsi_host/<span class="nv">$line</span>/scan
</span></span><span class="line"><span class="cl"><span class="k">done</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ls -lat /dev/sd*
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><figcaption>
            <h4>Disk 증설 후 SCAN</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>디스크 증설 확인#1</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>디스크 증설 확인#2</h4>
        </figcaption>
</figure>
</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">pvs
</span></span><span class="line"><span class="cl">lvs
</span></span><span class="line"><span class="cl">pvcreate /dev/sdb
</span></span><span class="line"><span class="cl">vgextend ubuntu-vg /dev/sdb
</span></span><span class="line"><span class="cl">lvextend /dev/mapper/ubuntu--vg-ubuntu--lv /dev/sdb
</span></span><span class="line"><span class="cl">resize2fs -p /dev/mapper/ubuntu--vg-ubuntu--lv
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><figcaption>
            <h4>Disk 확인 및 증설#1</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>Disk 확인 및 증설#2</h4>
        </figcaption>
</figure>
</p>
<h2 id="2-tanzu에-pacakge로-설치-한-harbor-사이즈-증설">2. TANZU에 Pacakge로 설치 한 Harbor 사이즈 증설</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">kubectl -n tanzu-system-registry get pvc --selector<span class="o">=</span><span class="nv">component</span><span class="o">=</span>registry --show-labels
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 아래 storage 용량을 설정한다.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">cat <span class="s">&lt;&lt; EOF &gt; harbor-registry-pvc.yaml
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: PersistentVolumeClaim
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  finalizers:
</span></span></span><span class="line"><span class="cl"><span class="s">  - kubernetes.io/pvc-protection
</span></span></span><span class="line"><span class="cl"><span class="s">  labels:
</span></span></span><span class="line"><span class="cl"><span class="s">    app: harbor
</span></span></span><span class="line"><span class="cl"><span class="s">    component: registry
</span></span></span><span class="line"><span class="cl"><span class="s">    kapp.k14s.io/app: &#34;1610567506920108209&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">    kapp.k14s.io/association: v1.034269eb21810ed9131cc41a27c729d4
</span></span></span><span class="line"><span class="cl"><span class="s">  name: harbor-registry-200gb
</span></span></span><span class="line"><span class="cl"><span class="s">  namespace: tanzu-system-registry
</span></span></span><span class="line"><span class="cl"><span class="s">spec:
</span></span></span><span class="line"><span class="cl"><span class="s">  accessModes:
</span></span></span><span class="line"><span class="cl"><span class="s">  - ReadWriteOnce
</span></span></span><span class="line"><span class="cl"><span class="s">  resources:
</span></span></span><span class="line"><span class="cl"><span class="s">    requests:
</span></span></span><span class="line"><span class="cl"><span class="s">      storage: 200Gi
</span></span></span><span class="line"><span class="cl"><span class="s">  storageClassName: default
</span></span></span><span class="line"><span class="cl"><span class="s">  volumeMode: Filesystem
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 그리고 pvc 생성 후 pod를 삭제 하기 위해 0으로 변경</span>
</span></span><span class="line"><span class="cl">kubectl -n tanzu-system-registry apply -f harbor-registry-pvc.yaml
</span></span><span class="line"><span class="cl">kubectl -n tanzu-system-registry scale deployment harbor-registry --replicas<span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">watch -n <span class="m">5</span> kubectl get pod -n tanzu-system-registry
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">## volumemount 및 volumes을 설정 해준다.</span>
</span></span><span class="line"><span class="cl">kubectl -n tanzu-system-registry edit deployment harbor-registry
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 아래 항목을 찾는다.</span>
</span></span><span class="line"><span class="cl">      volumeMounts:
</span></span><span class="line"><span class="cl">        - mountPath: /storage
</span></span><span class="line"><span class="cl">          name: registry-data
</span></span><span class="line"><span class="cl">        - mountPath: /etc/registry/passwd
</span></span><span class="line"><span class="cl">          name: registry-htpasswd
</span></span><span class="line"><span class="cl">          subPath: passwd
</span></span><span class="line"><span class="cl">        - mountPath: /etc/registry/config.yml
</span></span><span class="line"><span class="cl">          name: registry-config
</span></span><span class="line"><span class="cl">          subPath: config.yml
</span></span><span class="line"><span class="cl">        - mountPath: /etc/harbor/ssl/registry
</span></span><span class="line"><span class="cl">          name: registry-internal-certs
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 마지막줄에 아래 내용을 추가 한다.</span>
</span></span><span class="line"><span class="cl">        - mountPath: /storage2
</span></span><span class="line"><span class="cl">          name: registry-data2
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 아래 항목을 찾는다.</span>
</span></span><span class="line"><span class="cl">    volumes:
</span></span><span class="line"><span class="cl">      - name: registry-htpasswd
</span></span><span class="line"><span class="cl">        secret:
</span></span><span class="line"><span class="cl">          defaultMode: <span class="m">420</span>
</span></span><span class="line"><span class="cl">          items:
</span></span><span class="line"><span class="cl">          - key: REGISTRY_HTPASSWD
</span></span><span class="line"><span class="cl">            path: passwd
</span></span><span class="line"><span class="cl">          secretName: harbor-registry-htpasswd
</span></span><span class="line"><span class="cl">      - configMap:
</span></span><span class="line"><span class="cl">          defaultMode: <span class="m">420</span>
</span></span><span class="line"><span class="cl">          name: harbor-registry-ver-6
</span></span><span class="line"><span class="cl">        name: registry-config
</span></span><span class="line"><span class="cl">      - name: registry-internal-certs
</span></span><span class="line"><span class="cl">        secret:
</span></span><span class="line"><span class="cl">          defaultMode: <span class="m">420</span>
</span></span><span class="line"><span class="cl">          secretName: harbor-registry-internal-tls
</span></span><span class="line"><span class="cl"><span class="c1">## 마지막줄에 아래 내용을 추가 한다.</span>
</span></span><span class="line"><span class="cl">      - name: registry-data2
</span></span><span class="line"><span class="cl">        persistentVolumeClaim:
</span></span><span class="line"><span class="cl">          claimName: harbor-registry-200gb
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## pod를 생성 한다.</span>
</span></span><span class="line"><span class="cl">kubectl -n tanzu-system-registry scale deployments.apps harbor-registry --replicas<span class="o">=</span><span class="m">1</span>
</span></span><span class="line"><span class="cl">watch -n <span class="m">5</span> kubectl get pod -n tanzu-system-registry
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## pod에 접속 하여 storage repository를 확인 한 후 신규로 연결된 storage2에 Copy.</span>
</span></span><span class="line"><span class="cl">kubectl -n tanzu-system-registry get po --selector<span class="o">=</span><span class="nv">component</span><span class="o">=</span>registry
</span></span><span class="line"><span class="cl"><span class="nv">registry</span><span class="o">=</span><span class="k">$(</span>kubectl -n tanzu-system-registry get po --selector<span class="o">=</span><span class="nv">component</span><span class="o">=</span>registry <span class="p">|</span> awk <span class="s1">&#39;{print $1}&#39;</span> <span class="p">|</span> grep  harbor<span class="k">)</span>
</span></span><span class="line"><span class="cl">kubectl -n tanzu-system-registry <span class="nb">exec</span> -ti <span class="nv">$registry</span> -- /bin/bash
</span></span><span class="line"><span class="cl">df -h /storage
</span></span><span class="line"><span class="cl">ls storage/docker/registry/v2/repositories/library/
</span></span><span class="line"><span class="cl">cp -rfp /storage/* /storage2/
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## pod 삭제</span>
</span></span><span class="line"><span class="cl">kubectl -n tanzu-system-registry scale deployment harbor-registry --replicas<span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">watch -n <span class="m">5</span> kubectl get pod -n tanzu-system-registry
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 위에 설정한 volumemount 및 volumes 삭제</span>
</span></span><span class="line"><span class="cl">kubectl -n tanzu-system-registry edit deployment harbor-registry
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 새로 생성 한 pvc 확인</span>
</span></span><span class="line"><span class="cl"><span class="nv">newpvc</span><span class="o">=</span><span class="k">$(</span>kubectl get pv <span class="p">|</span>grep 200gb <span class="p">|</span> awk <span class="s1">&#39;{print $1}&#39;</span><span class="k">)</span>
</span></span><span class="line"><span class="cl">kubectl patch pv <span class="nv">$newpvc</span> -p <span class="s1">&#39;{&#34;spec&#34;:{&#34;persistentVolumeReclaimPolicy&#34;:&#34;Retain&#34;}}&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">kubectl get pv <span class="p">|</span> grep harbor-registry
</span></span><span class="line"><span class="cl">kubectl -n tanzu-system-registry delete pvc --selector<span class="o">=</span><span class="nv">component</span><span class="o">=</span>registry
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## pv에서 아래 내용 삭제</span>
</span></span><span class="line"><span class="cl"><span class="nv">newpv</span><span class="o">=</span><span class="k">$(</span>kubectl get pv <span class="p">|</span> grep 200gb <span class="p">|</span> awk <span class="s1">&#39;{print $1}&#39;</span><span class="k">)</span>
</span></span><span class="line"><span class="cl">kubectl edit pv <span class="nv">$newpv</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 아래 항목을 찾은 후 claimRef 내용을 삭제 해준다.</span>
</span></span><span class="line"><span class="cl">  claimRef:
</span></span><span class="line"><span class="cl">    apiVersion: v1
</span></span><span class="line"><span class="cl">    kind: PersistentVolumeClaim
</span></span><span class="line"><span class="cl">    name: harbor-registry-100gb
</span></span><span class="line"><span class="cl">    namespace: tanzu-system-registry
</span></span><span class="line"><span class="cl">    resourceVersion: <span class="s2">&#34;5894668&#34;</span>
</span></span><span class="line"><span class="cl">    uid: 326b24df-dd6f-4679-af84-6530013aed22
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="pvc-생성">pvc 생성</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">cat <span class="s">&lt;&lt; EOF &gt; harbor-registry-200gb.yaml
</span></span></span><span class="line"><span class="cl"><span class="s">apiVersion: v1
</span></span></span><span class="line"><span class="cl"><span class="s">kind: PersistentVolumeClaim
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  finalizers:
</span></span></span><span class="line"><span class="cl"><span class="s">  - kubernetes.io/pvc-protection
</span></span></span><span class="line"><span class="cl"><span class="s">  labels:
</span></span></span><span class="line"><span class="cl"><span class="s">    app: harbor
</span></span></span><span class="line"><span class="cl"><span class="s">    component: registry
</span></span></span><span class="line"><span class="cl"><span class="s">    kapp.k14s.io/app: &#34;1610567506920108209&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">    kapp.k14s.io/association: v1.034269eb21810ed9131cc41a27c729d4
</span></span></span><span class="line"><span class="cl"><span class="s">  name: harbor-registry
</span></span></span><span class="line"><span class="cl"><span class="s">  namespace: tanzu-system-registry
</span></span></span><span class="line"><span class="cl"><span class="s">spec:
</span></span></span><span class="line"><span class="cl"><span class="s">  accessModes:
</span></span></span><span class="line"><span class="cl"><span class="s">  - ReadWriteOnce
</span></span></span><span class="line"><span class="cl"><span class="s">  resources:
</span></span></span><span class="line"><span class="cl"><span class="s">    requests:
</span></span></span><span class="line"><span class="cl"><span class="s">      storage: 200Gi
</span></span></span><span class="line"><span class="cl"><span class="s">  storageClassName: default
</span></span></span><span class="line"><span class="cl"><span class="s">  volumeName: $newpvc
</span></span></span><span class="line"><span class="cl"><span class="s">  volumeMode: Filesystem
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## pvc 생성</span>
</span></span><span class="line"><span class="cl">kubectl apply -f harbor-registry-200gb.yaml -n tanzu-system-registry
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## pod 생성</span>
</span></span><span class="line"><span class="cl">kubectl -n tanzu-system-registry scale deployment harbor-registry --replicas<span class="o">=</span><span class="m">1</span>
</span></span><span class="line"><span class="cl">watch -n <span class="m">5</span> kubectl get pod -n tanzu-system-registry
</span></span><span class="line"><span class="cl"><span class="c1">## Delete로 변경</span>
</span></span><span class="line"><span class="cl">kubectl patch pv <span class="nv">$newpvc</span> -p <span class="s1">&#39;{&#34;spec&#34;:{&#34;persistentVolumeReclaimPolicy&#34;:&#34;Delete&#34;}}&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 확인</span>
</span></span><span class="line"><span class="cl"><span class="nv">registry</span><span class="o">=</span><span class="k">$(</span>kubectl -n tanzu-system-registry get po --selector<span class="o">=</span><span class="nv">component</span><span class="o">=</span>registry <span class="p">|</span> awk <span class="s1">&#39;{print $1}&#39;</span> <span class="p">|</span> grep  harbor<span class="k">)</span>
</span></span><span class="line"><span class="cl">kubectl -n tanzu-system-registry <span class="nb">exec</span> -ti <span class="nv">$registry</span> -- /bin/bash
</span></span><span class="line"><span class="cl">df -h /storage
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><figcaption>
            <h4>증설 전</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>증설 후 확인</h4>
        </figcaption>
</figure>

<figure><figcaption>
            <h4>Docker Image 확인</h4>
        </figcaption>
</figure>
</p>
]]></description>
</item>
</channel>
</rss>
